<html>
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath:  [ ['@(@','@)@'] ] ,
    displayMath: [ ['@[@','@]@'] ]
  }
});
</script>
<script type='text/javascript' src=
'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=default'
>
</script>
<head>
<title>Sample From Posterior Distribution for a Fit</title>
<meta http-equiv='Content-Type' content='text/html' charset='utf-8'>
<meta name="description" id="description" content="Sample From Posterior Distribution for a Fit">
<meta name="keywords" id="keywords" content=" sample from posterior distribution fit syntax fit_object fit_var_value lagrange_value lagrange_dage lagrange_dtime prototype ">
<style type='text/css'>
body { color : black }
body { background-color : white }
A:link { color : blue }
A:visited { color : purple }
A:active { color : purple }
</style>
<script type='text/javascript' language='JavaScript' src='_fit_model_sample_posterior_htm.js'>
</script>
</head>
<body>
<table><tr>
<td>
<a href="https://bradbell.github.io/dismod_at" target="_top"><img border="0" src="_image.gif"></a>
</td>
<td>
<select onchange='choose_up0(this)'>
<option>Location-&gt;</option>
<option>dismod_at</option>
<option>devel</option>
<option>devel_model</option>
<option>fit_model</option>
<option>fit_model_sample_posterior</option>
</select>
</td>
<td>
<select onchange='choose_across0(this)'>
<option>Search-&gt;</option>
<option>contents</option>
<option>reference</option>
<option>index</option>
<option>search</option>
<option>external</option>
</select>
</td>
<td><a href="fit_model_xam.cpp.htm" target="_top">Prev</a>
</td><td><a href="depend.htm" target="_top">Next</a>
</td><td>
<select onchange='choose_down4(this)'>
<option>dismod_at-&gt;</option>
<option>math_abstract</option>
<option>install_unix</option>
<option>get_started</option>
<option>user</option>
<option>database</option>
<option>model</option>
<option>command</option>
<option>python</option>
<option>devel</option>
<option>whats_new_2019</option>
<option>wish_list</option>
</select>
</td>
<td>
<select onchange='choose_down3(this)'>
<option>devel-&gt;</option>
<option>devel_table</option>
<option>devel_utility</option>
<option>devel_model</option>
</select>
</td>
<td>
<select onchange='choose_down2(this)'>
<option>devel_model-&gt;</option>
<option>devel_data_model</option>
<option>prior_model</option>
<option>fit_model</option>
<option>depend</option>
<option>adj_integrand</option>
<option>devel_avg_integrand</option>
<option>devel_avg_std_effect</option>
</select>
</td>
<td>
<select onchange='choose_down1(this)'>
<option>fit_model-&gt;</option>
<option>fit_model_ctor</option>
<option>fit_model_run_fit</option>
<option>fit_model_get_solution</option>
<option>fit_model_sample_posterior</option>
</select>
</td>
<td>fit_model_sample_posterior</td>
</tr></table><br>
@(@\newcommand{\R}[1]{ {\rm #1} }
\newcommand{\B}[1]{ {\bf #1} }
\newcommand{\W}[1]{ \; #1 \; }@)@<center><b><big><big>Sample From Posterior Distribution for a Fit</big></big></b></center>

<br><a href="fit_model_sample_posterior.htm#Syntax" target="_top">Syntax</a>
<br><a href="fit_model_sample_posterior.htm#fit_object" target="_top">fit_object</a>
<br><a href="fit_model_sample_posterior.htm#sample" target="_top">sample</a>
<br><a href="fit_model_sample_posterior.htm#fit_var_value" target="_top">fit_var_value</a>
<br><a href="fit_model_sample_posterior.htm#lagrange_value" target="_top">lagrange_value</a>
<br><a href="fit_model_sample_posterior.htm#lagrange_dage" target="_top">lagrange_dage</a>
<br><a href="fit_model_sample_posterior.htm#lagrange_dtime" target="_top">lagrange_dtime</a>
<br><a href="fit_model_sample_posterior.htm#Prototype" target="_top">Prototype</a><br>
<br>
<b><big><a name="Syntax" id="Syntax">Syntax</a></big></b>

<br>

<code><i><font color="black"><span style='white-space: nowrap'>fit_object</span></font></i><font color="blue"><span style='white-space: nowrap'>.sample_posterior(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>sample</span></font></i><font color="blue"><span style='white-space: nowrap'>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>fit_var_value</span></font></i><font color="blue"><span style='white-space: nowrap'>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>lagrange_value</span></font></i><font color="blue"><span style='white-space: nowrap'>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>lagrange_dage</span></font></i><font color="blue"><span style='white-space: nowrap'>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>lagrange_dtime</span></font></i><font color="blue"><span style='white-space: nowrap'>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>option_map</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
)</span></font></code>


<br>
<br>
<b><big><a name="fit_object" id="fit_object">fit_object</a></big></b>
<br>
This object must have been constructed with
<a href="fit_model_ctor.htm#fit_or_sample" target="_top"><span style='white-space: nowrap'>fit_or_sample</span></a>
 equal to <code><font color="blue">sample</font></code>.

<br>
<br>
<b><big><a name="sample" id="sample">sample</a></big></b>
<br>
This argument is a vector with size equal to the number of samples

<code><i><font color="black"><span style='white-space: nowrap'>n_sample</span></font></i></code>
 times the number of <a href="model_variables.htm" target="_top"><span style='white-space: nowrap'>model_variables</span></a>
 
<code><i><font color="black"><span style='white-space: nowrap'>n_var</span></font></i></code>
.
The input value of its elements does not matter.
Upon return, for

<code><i><font color="black"><span style='white-space: nowrap'>i</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;=&nbsp;0&nbsp;,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>...</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_sample</span></font></i><font color="blue"><span style='white-space: nowrap'>-1</span></font></code>
,

<code><i><font color="black"><span style='white-space: nowrap'>j</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;=&nbsp;0&nbsp;,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>...</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_var</span></font></i><font color="blue"><span style='white-space: nowrap'>-1</span></font></code>
,

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>sample</span></font></i><font color="blue"><span style='white-space: nowrap'>[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>i</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;*&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_sample</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;+&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>j</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;]<br>
</span></font></code>
is the <code><i>j</i></code>-th component of the <code><i>i</i></code>-th sample of the model variables.
These samples are independent for different 
<code><i><font color="black"><span style='white-space: nowrap'>i</span></font></i></code>
,
and for fixed 
<code><i><font color="black"><span style='white-space: nowrap'>i</span></font></i></code>
 they have the asymptotic covariance
for the model variables.

<br>
<br>
<b><big><a name="fit_var_value" id="fit_var_value">fit_var_value</a></big></b>
<br>
This vector has size equal to the number of model variables.
It is the optimal <a href="model_variables.htm" target="_top"><span style='white-space: nowrap'>variable&nbsp;values</span></a>
 in
<a href="pack_info.htm" target="_top"><span style='white-space: nowrap'>pack_info</span></a>
 order.

<br>
<br>
<b><big><a name="lagrange_value" id="lagrange_value">lagrange_value</a></big></b>
<br>
This vector has size equal to the number of model variables.
It is the Lagrange multipliers for the lower and upper
limits on the corresponding model variables.
If there is no limit, or if a limit is not active, the corresponding
element is zero.

<br>
<br>
<b><big><a name="lagrange_dage" id="lagrange_dage">lagrange_dage</a></big></b>
<br>
This vector has size equal to the number of model variables.
It is the Lagrange multipliers for the lower and upper
limits on the forward age difference for all the variables.
If a variable does not have a forward age difference,
if there is no limit, or if a limit is not active, the corresponding
element is zero.

<br>
<br>
<b><big><a name="lagrange_dtime" id="lagrange_dtime">lagrange_dtime</a></big></b>
<br>
This vector has size equal to the number of model variables.
It is the Lagrange multipliers for the lower and upper
limits on the forward time difference for all the variable.
If a variable does not have a forward time difference,
if there is no limit, or if a limit is not active, the corresponding
element is zero.

<br>
<br>
<b><big><a name="Prototype" id="Prototype">Prototype</a></big></b>

<pre><tt><font color="#009900">void</font> fit_model<font color="#990000">::</font><b><font color="#000000">sample_posterior</font></b><font color="#990000">(</font>
     CppAD<font color="#990000">::</font>vector<font color="#990000">&lt;</font><font color="#009900">double</font><font color="#990000">&gt;&amp;</font>              sample          <font color="#990000">,</font>
     <b><font color="#0000FF">const</font></b> CppAD<font color="#990000">::</font>vector<font color="#990000">&lt;</font><font color="#009900">double</font><font color="#990000">&gt;&amp;</font>        fit_var_value   <font color="#990000">,</font>
     <b><font color="#0000FF">const</font></b> CppAD<font color="#990000">::</font>vector<font color="#990000">&lt;</font><font color="#009900">double</font><font color="#990000">&gt;&amp;</font>        lagrange_value  <font color="#990000">,</font>
     <b><font color="#0000FF">const</font></b> CppAD<font color="#990000">::</font>vector<font color="#990000">&lt;</font><font color="#009900">double</font><font color="#990000">&gt;&amp;</font>        lagrange_dage   <font color="#990000">,</font>
     <b><font color="#0000FF">const</font></b> CppAD<font color="#990000">::</font>vector<font color="#990000">&lt;</font><font color="#009900">double</font><font color="#990000">&gt;&amp;</font>        lagrange_dtime  <font color="#990000">,</font>
     std<font color="#990000">::</font>map<font color="#990000">&lt;</font>std<font color="#990000">::</font>string<font color="#990000">,</font> std<font color="#990000">::</font>string<font color="#990000">&gt;&amp;</font> option_map      <font color="#990000">)</font></tt></pre>

<hr>Input File: devel/model/fit_model.cpp

</body>
</html>
