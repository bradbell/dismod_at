<html>
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath:  [ ['@(@','@)@'] ] ,
    displayMath: [ ['@[@','@]@'] ]
  }
});
</script>
<script type='text/javascript' src=
'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=default'
>
</script>
<head>
<title>Changes and Additions to Dismod_at During 2018</title>
<meta http-equiv='Content-Type' content='text/html' charset='utf-8'>
<meta name="description" id="description" content="Changes and Additions to Dismod_at During 2018">
<meta name="keywords" id="keywords" content=" changes additions to dismod_at during 2018 10-13 10-05 09-30 09-28 09-24 09-14 08-30 08-29 08-22 08-13 08-09 08-08 08-07 08-06 07-31 07-30 07-27 07-26 api change other 07-25 07-23 07-21 07-13 06-30 06-29 06-21 06-20 06-18 06-14 06-09 06-04 05-24 05-23 05-21 05-14 05-09 05-08 05-07 05-05 05-04 05-02 04-30 04-26 04-25 04-24 04-23 04-22 04-21 04-16 04-13 04-12 04-11 04-10 04-09 04-08 04-07 04-06 03-21 03-13 03-10 03-08 03-06 02-20 02-17 02-14 02-13 02-12 02-11 02-09 02-08 02-05 02-04 02-03 02-02 02-01 01-31 01-30 01-28 01-26 01-25 01-24 01-23 01-22 01-21 01-20 01-18 01-16 01-12 01-09 ">
<style type='text/css'>
body { color : black }
body { background-color : white }
A:link { color : blue }
A:visited { color : purple }
A:active { color : purple }
</style>
<script type='text/javascript' language='JavaScript' src='_whats_new_2018_htm.js'>
</script>
</head>
<body>
<table><tr>
<td>
<a href="https://github.com/bradbell/dismod_at" target="_top"><img border="0" src="_image.gif"></a>
</td>
<td>
<select onchange='choose_up0(this)'>
<option>Location-&gt;</option>
<option>dismod_at</option>
<option>whats_new_2018</option>
</select>
</td>
<td>
<select onchange='choose_across0(this)'>
<option>Search-&gt;</option>
<option>contents</option>
<option>reference</option>
<option>index</option>
<option>search</option>
<option>external</option>
</select>
</td>
<td><a href="prior_depend.htm" target="_top">Prev</a>
</td><td>
<select onchange='choose_current0(this)'>
<option>Current-&gt;</option>
<option>Contents</option>
<option>10-13</option>
<option>10-05</option>
<option>09-30</option>
<option>09-28</option>
<option>09-24</option>
<option>09-14</option>
<option>08-30</option>
<option>08-29</option>
<option>08-22</option>
<option>08-13</option>
<option>08-09</option>
<option>08-08</option>
<option>08-07</option>
<option>08-06</option>
<option>07-31</option>
<option>07-30</option>
<option>07-27</option>
<option>07-26</option>
<option>07-26.API Change</option>
<option>07-26.Other Changes</option>
<option>07-25</option>
<option>07-23</option>
<option>07-21</option>
<option>07-13</option>
<option>06-30</option>
<option>06-29</option>
<option>06-21</option>
<option>06-20</option>
<option>06-18</option>
<option>06-14</option>
<option>06-09</option>
<option>06-04</option>
<option>05-24</option>
<option>05-23</option>
<option>05-21</option>
<option>05-14</option>
<option>05-09</option>
<option>05-08</option>
<option>05-07</option>
<option>05-05</option>
<option>05-04</option>
<option>05-02</option>
<option>04-30</option>
<option>04-26</option>
<option>04-25</option>
<option>04-24</option>
<option>04-23</option>
<option>04-22</option>
<option>04-21</option>
<option>04-16</option>
<option>04-13</option>
<option>04-12</option>
<option>04-11</option>
<option>04-10</option>
<option>04-09</option>
<option>04-08</option>
<option>04-07</option>
<option>04-06</option>
<option>03-21</option>
<option>03-13</option>
<option>03-10</option>
<option>03-08</option>
<option>03-06</option>
<option>02-20</option>
<option>02-17</option>
<option>02-14</option>
<option>02-13</option>
<option>02-12</option>
<option>02-11</option>
<option>02-09</option>
<option>02-08</option>
<option>02-05</option>
<option>02-04</option>
<option>02-03</option>
<option>02-02</option>
<option>02-01</option>
<option>01-31</option>
<option>01-30</option>
<option>01-28</option>
<option>01-26</option>
<option>01-25</option>
<option>01-24</option>
<option>01-23</option>
<option>01-22</option>
<option>01-21</option>
<option>01-20</option>
<option>01-18</option>
<option>01-16</option>
<option>01-12</option>
<option>01-09</option>
</select>
</td>
<td><a href="whats_new_2017.htm" target="_top">Next</a>
</td><td>
<select onchange='choose_down1(this)'>
<option>dismod_at-&gt;</option>
<option>install_unix</option>
<option>get_started</option>
<option>user</option>
<option>database</option>
<option>model</option>
<option>command</option>
<option>python</option>
<option>devel</option>
<option>whats_new_2018</option>
<option>wish_list</option>
</select>
</td>
<td>
<select onchange='choose_down0(this)'>
<option>whats_new_2018-&gt;</option>
<option>whats_new_2017</option>
<option>whats_new_2016</option>
<option>whats_new_2015</option>
</select>
</td>
</tr></table><br>
@(@\newcommand{\R}[1]{ {\rm #1} }
\newcommand{\B}[1]{ {\bf #1} }
\newcommand{\W}[1]{ \; #1 \; }@)@


<center><b><big><big>Changes and Additions to Dismod_at During 2018</big></big></b></center>
<br>
<b><big><a name="Contents" id="Contents">Contents</a></big></b>
<br>
<table>
<tr><td><a href="whats_new_2017.htm" target="_top">whats_new_2017</a></td><td>Changes&nbsp;and&nbsp;Additions&nbsp;to&nbsp;Dismod_at&nbsp;During&nbsp;2017</td></tr><tr><td><a href="whats_new_2016.htm" target="_top">whats_new_2016</a></td><td>Changes&nbsp;and&nbsp;Additions&nbsp;to&nbsp;Dismod_at&nbsp;During&nbsp;2016</td></tr><tr><td><a href="whats_new_2015.htm" target="_top">whats_new_2015</a></td><td>Changes&nbsp;and&nbsp;Additions&nbsp;to&nbsp;Dismod_at&nbsp;During&nbsp;2015</td></tr></table><br>
<b><big><a name="10-13" id="10-13">10-13</a></big></b>
<br>
The <a href="option_table.htm#ode_step_size" target="_top"><span style='white-space: nowrap'>ode_step_size</span></a>
 documentation
was changed to reflect the fact that it is also used for approximating
the integrals in the average integrand.

<br>
<br>
<b><big><a name="10-05" id="10-05">10-05</a></big></b>
<br>
Fix typos in the
<a href="avg_integrand.htm#Data or Avgint Table Notation" target="_top"><span style='white-space: nowrap'>Data&nbsp;or&nbsp;Avgint&nbsp;Table&nbsp;Notation</span></a>
.
To be specific, change <small>@(@
a_i
@)@</small> to <small>@(@
b_i
@)@</small>, <small>@(@
s_i
@)@</small>
or <small>@(@
t_i
@)@</small> where appropriate.

<br>
<br>
<b><big><a name="09-30" id="09-30">09-30</a></big></b>

<ol type="1"><li>
The 
<code><i><font color="black"><span style='white-space: nowrap'>n_data_per_child</span></font></i></code>
 argument to the speed test
has been replaced by
<a href="user_speed.py.htm#ode_step_size" target="_top"><span style='white-space: nowrap'>ode_step_size</span></a>
.

</li><li>

Advance to cppad-0180925 and cppad_mixed-0180925.
This had the following effect timing result for <code><font color="blue">bin/speed.sh</font></code>:
<table><tr><td align='left'  valign='top'>

        </td><td align='left'  valign='top'>
 user time    </td><td align='left'  valign='top'>
 memory         </td></tr><tr><td align='left'  valign='top'>

before  </td><td align='left'  valign='top'>
 10.395 sec   </td><td align='left'  valign='top'>
 1.265 GB       </td></tr><tr><td align='left'  valign='top'>

after   </td><td align='left'  valign='top'>
 9.376  sec   </td><td align='left'  valign='top'>
 1.247 GB
</td></tr>
</table>
</li></ol>
<br>
<b><big><a name="09-28" id="09-28">09-28</a></big></b>
<br>
The program did not report an error when a
<a href="data_table.htm#weight_id" target="_top"><span style='white-space: nowrap'>weight_id</span></a>
 in the data table was null.
This has been fixed.

<br>
<br>
<b><big><a name="09-24" id="09-24">09-24</a></big></b>
<br>
The <a href="wish_list.htm#ODE Solution" target="_top"><span style='white-space: nowrap'>ode</span></a>
 wish list entry
has been extended and moved to the front of the list.

<br>
<br>
<b><big><a name="09-14" id="09-14">09-14</a></big></b>
<br>
An <a href="smooth_table.htm#Empty" target="_top"><span style='white-space: nowrap'>empty</span></a>
 smooth table would cause the
program to crash.
An error message is now printed for this case.

<br>
<br>
<b><big><a name="08-30" id="08-30">08-30</a></big></b>
<br>
The documentation for the
<a href="rate_table.htm#child_smooth_id" target="_top"><span style='white-space: nowrap'>child_smooth_id</span></a>
 and
<a href="rate_table.htm#child_nslist_id" target="_top"><span style='white-space: nowrap'>child_nslist_id</span></a>
 was improved.
To be specific, these specify priors for the child
<a href="model_variables.htm#Random Effects, u.Child Rate Effects" target="_top"><span style='white-space: nowrap'>rate&nbsp;effects</span></a>

and not for the child rates.

<br>
<br>
<b><big><a name="08-29" id="08-29">08-29</a></big></b>
<br>
Advance to <code><font color="blue">cppad-20180827</font></code> and <code><font color="blue">cppad_mixed-20180829</font></code>
(working on speed).

<br>
<br>
<b><big><a name="08-22" id="08-22">08-22</a></big></b>

<ol type="1"><li>
Add <a href="dismodat.py.htm" target="_top"><span style='white-space: nowrap'>dismodat.py</span></a>
 to the documentation under the command section.
</li><li>

Advance to cppad-20180820 and cppad_mixed-20180821.
This uses a new CppAD feature and resulted in the following
change for <a href="user_speed.py.htm" target="_top"><span style='white-space: nowrap'>user_speed.py</span></a>
:
old_time=9.33 seconds, new_time=7.39 seconds.
</li></ol>


<br>
<br>
<b><big><a name="08-13" id="08-13">08-13</a></big></b>
<br>
The fit_data_subset table had a an extra column
(that was not in the API) named 
<code><i><font color="black"><span style='white-space: nowrap'>data_subset_id</span></font></i></code>
 which has been removed.
This extra column was identically equal to the
<a href="fit_data_subset_table.htm#fit_data_subset_id" target="_top"><span style='white-space: nowrap'>fit_data_subset_id</span></a>
 column.
Note that 
<code><i><font color="black"><span style='white-space: nowrap'>fit_data_subset_id</span></font></i></code>
 is a foreign key for
<a href="data_subset_table.htm#data_subset_id" target="_top"><span style='white-space: nowrap'>data_subset_id</span></a>
 in the
data_subset table.
This follows the <a href="database.htm#Foreign Key" target="_top"><span style='white-space: nowrap'>foreign&nbsp;key</span></a>
 convention
for the dismod_at database.

<br>
<br>
<b><big><a name="08-09" id="08-09">08-09</a></big></b>

<ol type="1"><li>
Fix some bugs in <a href="csv2db_command.htm" target="_top"><span style='white-space: nowrap'>csv2db_command</span></a>
.
</li><li>

Advance to <code><font color="blue">cppad-20180809</font></code> and <code><font color="blue">cppad_mixed-20180809</font></code>.
This fixes a bug in cppad (that originally showed up in dismod_at testing).
</li></ol>


<br>
<br>
<b><big><a name="08-08" id="08-08">08-08</a></big></b>
<br>
Edit the <a href="wish_list.htm#ODE Solution.Prevalence ODE" target="_top"><span style='white-space: nowrap'>prevalence&nbsp;ODE</span></a>

wish list item.

<br>
<br>
<b><big><a name="08-07" id="08-07">08-07</a></big></b>
<br>
Add the
<a href="wish_list.htm#csv2db Command" target="_top"><span style='white-space: nowrap'>csv2db&nbsp;command</span></a>

wish list items.

<br>
<br>
<b><big><a name="08-06" id="08-06">08-06</a></big></b>

<ol type="1"><li>
The measurement integrand name,
in the <a href="get_started_db.py.htm#Discussion" target="_top"><span style='white-space: nowrap'>discussion</span></a>

of the get started database,
has been corrected from <code><font color="blue">mtother</font></code> to <code><font color="blue">susceptible</font></code>.
</li><li>

The data column <code><font color="blue">data_info</font></code> was changed to <code><font color="blue">c_data_info</font></code>
and a <a href="get_started_db.py.htm#Discussion" target="_top"><span style='white-space: nowrap'>discussion</span></a>

of this column was added to the get started example.
</li></ol>


<br>
<br>
<b><big><a name="07-31" id="07-31">07-31</a></big></b>
<br>
Put more emphasis on the difference between the
<a href="avg_integrand.htm#Rate Functions.Parent Rate, q_k" target="_top"><span style='white-space: nowrap'>parent&nbsp;rates</span></a>
,
<a href="avg_integrand.htm#Rate Functions.Child Rate Effect, u_ik" target="_top"><span style='white-space: nowrap'>child&nbsp;rate&nbsp;effects</span></a>
, and
<a href="avg_integrand.htm#Rate Functions.Adjusted Rate, r_ik" target="_top"><span style='white-space: nowrap'>adjusted&nbsp;rates</span></a>
.

<br>
<br>
<b><big><a name="07-30" id="07-30">07-30</a></big></b>

<ol type="1"><li>
Add the
<a href="run_cmake.sh.htm#build_type" target="_top"><span style='white-space: nowrap'>build_type</span></a>
 to the
usage message that is printed when no command
line arguments are give to <code><font color="blue">dismod_at</font></code>.
</li><li>

Some dismod_at <a href="command.htm" target="_top"><span style='white-space: nowrap'>commands</span></a>

(e.g., <a href="predict_command.htm" target="_top"><span style='white-space: nowrap'>predict_command</span></a>
)
were not trapping and reporting exceptions.
This has been fixed.
</li><li>

The following sentence was added to the
<a href="wish_list.htm#ODE Solution.Prevalence ODE" target="_top"><span style='white-space: nowrap'>prevalence&nbsp;ODE</span></a>
 item:
This formulation of the ODE also have the advantage that it is stable
even as <small>@(@
S + C \rightarrow 0
@)@</small>; i.e, it will not get the
associated nans cause by division of zero by zero.
</li></ol>


<br>
<br>
<b><big><a name="07-27" id="07-27">07-27</a></big></b>
<br>
Add the
<a href="wish_list.htm#ODE Solution.Prevalence ODE" target="_top"><span style='white-space: nowrap'>prevalence&nbsp;ODE</span></a>

wish list item.

<br>
<br>
<b><big><a name="07-26" id="07-26">07-26</a></big></b>


<br>
<br>
<big><a name="07-26.API Change" id="07-26.API Change">API Change</a></big>
<br>
The <a href="predict_table.htm#sample_index" target="_top"><span style='white-space: nowrap'>sample_index</span></a>
 in the
predict table was changed to be null (not zero) when the
source for the last predict command is not
<a href="predict_command.htm#source.sample" target="_top"><span style='white-space: nowrap'>sample</span></a>
.
This also change the
<a href="db2csv_command.htm#predict.csv.s_index" target="_top"><span style='white-space: nowrap'>s_index</span></a>
 in the
<code><font color="blue">predict.csv</font></code> file generated by the db2csv command
to be empty (not zero) for this case.

<br>
<br>
<big><a name="07-26.Other Changes" id="07-26.Other Changes">Other Changes</a></big>

<ol type="1"><li>
Improve the discussion of the
<a href="csv2db_command.htm#mtother" target="_top"><span style='white-space: nowrap'>mtother</span></a>
 data
in the db2csv command.
</li><li>

Execute <a href="db2csv_command.htm" target="_top"><span style='white-space: nowrap'>db2csv_command</span></a>
 at end of <a href="user_csv2db.py.htm" target="_top"><span style='white-space: nowrap'>user_csv2db.py</span></a>
 example.
</li><li>

A <a href="predict_command.htm" target="_top"><span style='white-space: nowrap'>predict_command</span></a>
 was added to the end of the user
<code><font color="blue">csv2db.py</font></code> example and a discussion of these
<a href="csv2db_command.htm#Predictions" target="_top"><span style='white-space: nowrap'>predictions</span></a>
 was added.
</li></ol>



<br>
<br>
<b><big><a name="07-25" id="07-25">07-25</a></big></b>

<ol type="1"><li>
Add mention that, during a <code><font color="blue">db2csv</font></code> command,
the age-time grid for rates is the same as the user's choice of
grid for <a href="csv2db_command.htm#integrand.mtother" target="_top"><span style='white-space: nowrap'>mtother</span></a>
.
</li><li>

Add discussion of why the default
<a href="run_cmake.sh.htm#eigen_prefix" target="_top"><span style='white-space: nowrap'>eigen_prefix</span></a>
 is different
from the other prefixes.
</li><li>

Change the default value of
<a href="run_cmake.sh.htm#build_type" target="_top"><span style='white-space: nowrap'>build_type</span></a>
 to <code><font color="blue">debug</font></code>.
You have to change this to get the faster (<code><font color="blue">release</font></code>)
version of dismod_at.
</li><li>

Improve discussion of the
<a href="install_unix.htm#Paths" target="_top"><span style='white-space: nowrap'>paths</span></a>
 needed during and after the install process.
</li><li>

Advance to <code><font color="blue">cppad_mixed-20180725</font></code>.
This should improve detection
(during the <a href="install_unix.htm" target="_top"><span style='white-space: nowrap'>install</span></a>
)
of when the default settings for
<a href="run_cmake.sh.htm#extra_cxx_flags" target="_top"><span style='white-space: nowrap'>extra_cxx_flags</span></a>
 do not work.
</li></ol>


<br>
<br>
<b><big><a name="07-23" id="07-23">07-23</a></big></b>

<ol type="1"><li>
Advance to <code><font color="blue">cppad-20180723</font></code>.
</li><li>

Fix <a href="log_table.htm#unix_time" target="_top"><span style='white-space: nowrap'>unix_time</span></a>
 for the end of the commands
that use <code><font color="blue">dismodat.py</font></code> was mistakenly reported as the same
as the begin time.
This has been fixed.
</li><li>

Added the <a href="csv2db_command.htm" target="_top"><span style='white-space: nowrap'>csv2db_command</span></a>
 to help one get started using dismod_at.
</li><li>

More discussion has been added for when an
<a href="set_command.htm#option.init" target="_top"><span style='white-space: nowrap'>init</span></a>

is required after a set option command.
</li></ol>

<br>
<br>
<b><big><a name="07-21" id="07-21">07-21</a></big></b>
<br>
Add restrictions on 
<code><font color="blue"><span style='white-space: nowrap'>(</span></font><i><font color="black"><span style='white-space: nowrap'>a</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>t</span></font></i><font color="blue"><span style='white-space: nowrap'>)</span></font></code>
 arguments to
<a href="create_database.htm#weight_table" target="_top"><span style='white-space: nowrap'>weight_table</span></a>


<code><i><font color="black"><span style='white-space: nowrap'>fun</span></font></i><font color="blue"><span style='white-space: nowrap'>(</span></font><i><font color="black"><span style='white-space: nowrap'>a</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>t</span></font></i><font color="blue"><span style='white-space: nowrap'>)</span></font></code>
 and smooth_table
<a href="create_database.htm#smooth_table.fun" target="_top"><span style='white-space: nowrap'>fun(a,&nbsp;t)</span></a>

in <code><font color="blue">create_database</font></code>.

<br>
<br>
<b><big><a name="07-13" id="07-13">07-13</a></big></b>
<br>
Advance to <code><font color="blue">cppad_mixed-20180713</font></code>.

<br>
<br>
<b><big><a name="06-30" id="06-30">06-30</a></big></b>
<br>
Advance to
<code><font color="blue">cppad-20180630</font></code>,
<code><font color="blue">cppad_mixed-20180630</font></code>,
and remove
<code><font color="blue">checkpoint_newton_step</font></code> from <a href="run_cmake.sh.htm" target="_top"><span style='white-space: nowrap'>run_cmake.sh</span></a>
.
This should make be faster and use less memory when
<a href="option_table.htm#Fixed Only.quasi_fixed" target="_top"><span style='white-space: nowrap'>quasi_fixed</span></a>
 is false.
For the <a href="user_speed.py.htm" target="_top"><span style='white-space: nowrap'>user_speed.py</span></a>
 example with

<code><i><font color="black"><span style='white-space: nowrap'>n_children</span></font></i><font color="blue"><span style='white-space: nowrap'>=30</span></font></code>
,

<code><i><font color="black"><span style='white-space: nowrap'>n_data_per_child</span></font></i><font color="blue"><span style='white-space: nowrap'>=20</span></font></code>
, and

<code><i><font color="black"><span style='white-space: nowrap'>quasi_fixed</span></font></i><font color="blue"><span style='white-space: nowrap'>=false</span></font></code>

the elapsed time improved from
<code><font color="blue">14.1</font></code> to <code><font color="blue">8.3</font></code> seconds.

<br>
<br>
<b><big><a name="06-29" id="06-29">06-29</a></big></b>
<br>
Advance to <code><font color="blue">cppad-20180627</font></code> and <code><font color="blue">cppad_mixed-20180629</font></code>.
Again this is expected to be an improvement to the optimization
of cppad functions when
<a href="run_cmake.sh.htm#build_type" target="_top"><span style='white-space: nowrap'>build_type</span></a>
 is <code><font color="blue">release</font></code>.

<br>
<br>
<b><big><a name="06-21" id="06-21">06-21</a></big></b>

<ol type="1"><li>
Add text about failures during the dismod_at install correctness
<a href="install_unix.htm#dismod_at.Test" target="_top"><span style='white-space: nowrap'>tests</span></a>
.
</li><li>

The <a href="init_command.htm" target="_top"><span style='white-space: nowrap'>init_command</span></a>
 and <a href="db2csv_command.htm" target="_top"><span style='white-space: nowrap'>db2csv_command</span></a>
 would hang
if <a href="node_table.htm#parent" target="_top"><span style='white-space: nowrap'>parent</span></a>
 and 
<code><i><font color="black"><span style='white-space: nowrap'>node_id</span></font></i></code>

were equal in the node table.
An error message is now generated
for any case where a node was a descendant of itself.
</li></ol>



<br>
<br>
<b><big><a name="06-20" id="06-20">06-20</a></big></b>
<br>
Advance to <code><font color="blue">cppad-20180620</font></code> and <code><font color="blue">cppad_mixed-20180620</font></code>.
This should use less memory, and increase speed,
during the optimization of cppad functions,
which is only done when
<a href="run_cmake.sh.htm#build_type" target="_top"><span style='white-space: nowrap'>build_type</span></a>
 is <code><font color="blue">release</font></code>.

<br>
<br>
<b><big><a name="06-18" id="06-18">06-18</a></big></b>
<br>
Change the set command  so that the possible sources include the
<a href="set_command.htm#source.start, scale, truth" target="_top"><span style='white-space: nowrap'>scale,&nbsp;truth</span></a>
 tables.

<br>
<br>
<b><big><a name="06-14" id="06-14">06-14</a></big></b>
<br>
Advance to <code><font color="blue">cppad-20180613</font></code> and <code><font color="blue">cppad_mixed-20180614</font></code>.
This should use less memory during the optimization of cppad functions,
which is only done when
<a href="run_cmake.sh.htm#build_type" target="_top"><span style='white-space: nowrap'>build_type</span></a>
 is <code><font color="blue">release</font></code>.
In addition, it should fix a problem with
<code><font color="blue">cppad_mixed</font></code> finding the file <code><font color="blue">cholmod.h</font></code>
on some systems.

<br>
<br>
<b><big><a name="06-09" id="06-09">06-09</a></big></b>
<br>
Advance to using version 20180609 of
<a href="install_unix.htm#Special Requirements.cppad_mixed" target="_top"><span style='white-space: nowrap'>cppad_mixed</span></a>
.
This changes <code><font color="blue">suitesparse</font></code> from a special requirement to a
<a href="install_unix.htm#System Requirements.suitesparse" target="_top"><span style='white-space: nowrap'>system&nbsp;requirement</span></a>
.

<br>
<br>
<b><big><a name="06-04" id="06-04">06-04</a></big></b>
<br>
Advance to using version 20180604 of
<a href="install_unix.htm#Special Requirements.CppAD" target="_top"><span style='white-space: nowrap'>cppad</span></a>
 and
<a href="install_unix.htm#Special Requirements.cppad_mixed" target="_top"><span style='white-space: nowrap'>cppad_mixed</span></a>
.
This will probably have no effect but might reduce the amount of memory
<code><font color="blue">dismod_at</font></code> uses.

<br>
<br>
<b><big><a name="05-24" id="05-24">05-24</a></big></b>
<br>
A wish list <a href="wish_list.htm#meas_std" target="_top"><span style='white-space: nowrap'>meas_std</span></a>
 entry was added
and the minimum_meas_cv entry was removed (because it was completed).

<br>
<br>
<b><big><a name="05-23" id="05-23">05-23</a></big></b>

<b><br>
Warning</b>: this is not a backward compatible change to the user API.
The
<code><font color="blue">minimum_meas_cv</font></code> option was removed from the <a href="option_table.htm" target="_top"><span style='white-space: nowrap'>option_table</span></a>

and the column
<a href="integrand_table.htm#minimum_meas_cv" target="_top"><span style='white-space: nowrap'>minimum_meas_cv</span></a>

was added to the integrand table.
This enable one to used different
minimum measurement coefficients of variation for different integrands.

<br>
<br>
<b><big><a name="05-21" id="05-21">05-21</a></big></b>
<br>
Advance to using
<a href="install_unix.htm#Special Requirements.CppAD" target="_top"><span style='white-space: nowrap'>cppad-20180521</span></a>
, and
<a href="install_unix.htm#Special Requirements.cppad_mixed" target="_top"><span style='white-space: nowrap'>cppad_mixed-20180521</span></a>
.
This should both reduce memory usage.

<br>
<br>
<b><big><a name="05-14" id="05-14">05-14</a></big></b>
<br>
There was a bug in the simulation of age difference and time
difference prior means introduced on
<a href="whats_new_2018.htm" target="_top"><span style='white-space: nowrap'>04-24</span></a>
.
To be specific
<small>@(@
/sigma/statistic/Log-Transformed Standard Deviation/
@)@</small>
was being used where delta should have been.


<br>
<br>
<b><big><a name="05-09" id="05-09">05-09</a></big></b>
<br>
A minimum_meas_cv and
a <a href="wish_list.htm#Command Diagrams" target="_top"><span style='white-space: nowrap'>command&nbsp;diagram</span></a>
 entry
were added to the wish list.
The minimum_meas_cv entry has been completed; see
<a href="integrand_table.htm#minimum_meas_cv" target="_top"><span style='white-space: nowrap'>minimum_meas_cv</span></a>
.

<br>
<br>
<b><big><a name="05-08" id="05-08">05-08</a></big></b>
<br>
Round off error could make some values in <a href="fit_var_table.htm" target="_top"><span style='white-space: nowrap'>fit_var_table</span></a>

not satisfy the lower and upper limits for the corresponding variables.
This has been fixed.

<br>
<br>
<b><big><a name="05-07" id="05-07">05-07</a></big></b>
<br>
Advance to using
<a href="install_unix.htm#Special Requirements.CppAD" target="_top"><span style='white-space: nowrap'>cppad-20180507</span></a>
, and
<a href="install_unix.htm#Special Requirements.cppad_mixed" target="_top"><span style='white-space: nowrap'>cppad_mixed-20180507</span></a>
.
This should both increase speed and reduce memory usage.


<br>
<br>
<b><big><a name="05-05" id="05-05">05-05</a></big></b>

<ol type="1"><li>
The text describing the purpose of the
<a href="prior_table.htm#Purpose" target="_top"><span style='white-space: nowrap'>prior&nbsp;table</span></a>
,
<a href="smooth_table.htm#Purpose" target="_top"><span style='white-space: nowrap'>smooth&nbsp;table</span></a>
, and
<a href="smooth_grid_table.htm#Purpose" target="_top"><span style='white-space: nowrap'>smooth_grid&nbsp;table</span></a>

was improved.
</li><li>

The <a href="model_variables.htm" target="_top"><span style='white-space: nowrap'>model_variables</span></a>
 section was improved.
To be specific,
the term subvector was changed to group of variables
and more mention was made of the corresponding function.
</li></ol>


<br>
<br>
<b><big><a name="05-04" id="05-04">05-04</a></big></b>

<ol type="1"><li>
Advance to using
<a href="install_unix.htm#Special Requirements.CppAD" target="_top"><span style='white-space: nowrap'>cppad-20180503</span></a>
, and
<a href="install_unix.htm#Special Requirements.cppad_mixed" target="_top"><span style='white-space: nowrap'>cppad_mixed-20180503</span></a>
.
This should reduce the amount of memory used
without adversely affecting its speed.
</li><li>

Use
<a href="model_variables.htm#Random Effects, u.Child Rate Effects" target="_top"><span style='white-space: nowrap'>child&nbsp;rate&nbsp;effect</span></a>

when referring to the a random effect
<a href="avg_integrand.htm#Rate Functions.Child Rate Effect, u_ik" target="_top"><span style='white-space: nowrap'>u_ik</span></a>
.
This distinguishes it from the corresponding rate for that child
<a href="avg_integrand.htm#Rate Functions.Adjusted Rate, r_ik" target="_top"><span style='white-space: nowrap'>r_ik</span></a>
.
</li></ol>




<br>
<br>
<b><big><a name="05-02" id="05-02">05-02</a></big></b>

<ol type="1"><li>
It is possible for the <a href="start_var_table.htm" target="_top"><span style='white-space: nowrap'>start_var_table</span></a>
 values to violate
the lower and upper limits for a variable.
An error message that specifies which variable's starting value
violates the constraints is printed.
(The fit used to terminate with no message when this occurred.)
</li><li>

The <a href="sample_command.htm#method.simulate" target="_top"><span style='white-space: nowrap'>sample&nbsp;simulate</span></a>

used to start its fits at the <a href="truth_var_table.htm" target="_top"><span style='white-space: nowrap'>truth_var_table</span></a>
 values.
This has been changed to use the <a href="start_var_table.htm" target="_top"><span style='white-space: nowrap'>start_var_table</span></a>
 values.
</li></ol>


<br>
<br>
<b><big><a name="04-30" id="04-30">04-30</a></big></b>

<ol type="1"><li>
A description of the log entries when
using the <a href="dismodat.py.htm#Log Table" target="_top"><span style='white-space: nowrap'>dismodat.py</span></a>
 syntax was added.
</li><li>

The documentation for log entry at the end of a command
was corrected from <code><font color="blue">done</font></code> to
<a href="log_table.htm#message_type.command" target="_top"><span style='white-space: nowrap'>end</span></a>
.
</li><li>

The <code><font color="blue">sql_command</font></code> was modified to return its
<a href="sql_command.htm#result" target="_top"><span style='white-space: nowrap'>result</span></a>
.
</li><li>

The under construction warning was removed from the
<a href="modify_command.htm" target="_top"><span style='white-space: nowrap'>modify_command</span></a>
.
</li></ol>


<br>
<br>
<b><big><a name="04-26" id="04-26">04-26</a></big></b>

<ol type="1"><li>
The columns
<a href="db2csv_command.htm#variable.csv.sim_v, sim_a, sim_t" target="_top"><span style='white-space: nowrap'>sim_v,&nbsp;sim_a,&nbsp;sim_t</span></a>

were added to the
<a href="db2csv_command.htm#variable.csv" target="_top"><span style='white-space: nowrap'>variable.csv</span></a>
 file.
</li><li>

The <a href="modify_command.htm" target="_top"><span style='white-space: nowrap'>modify_command</span></a>
 was marked as under construction.
</li></ol>


<br>
<br>
<b><big><a name="04-25" id="04-25">04-25</a></big></b>

<ol type="1"><li>
Add Instructions for running one
<a href="get_started.htm#Run One Example" target="_top"><span style='white-space: nowrap'>get_started</span></a>
 or
<a href="user.htm#Run One Example" target="_top"><span style='white-space: nowrap'>user</span></a>
.
</li><li>

Improve the <a href="user_fit_random.py.htm" target="_top"><span style='white-space: nowrap'>user_fit_random.py</span></a>
 example.
</li><li>

Improve <code><font color="blue">user_fit_fixed.py</font></code> and move it to
<a href="user_fit_fixed_both.py.htm" target="_top"><span style='white-space: nowrap'>user_fit_fixed_both.py</span></a>
.
</li><li>

Add the <a href="user_posterior.py.htm" target="_top"><span style='white-space: nowrap'>user_posterior.py</span></a>
 example.
</li><li>

There was a bug in the <a href="sample_command.htm" target="_top"><span style='white-space: nowrap'>sample_command</span></a>
 and the
fit <a href="fit_command.htm#simulate_index" target="_top"><span style='white-space: nowrap'>simulate_index</span></a>
 when
the data set was empty. These have been fixed.
</li><li>

The <a href="fit_command.htm#simulate_index.prior_sim_table" target="_top"><span style='white-space: nowrap'>prior_sim_table</span></a>
 was
note being used to replace the prior means when fitting with a

<code><i><font color="black"><span style='white-space: nowrap'>simulate_index</span></font></i></code>
.
This has been fixed.
</li></ol>


<br>
<br>
<b><big><a name="04-24" id="04-24">04-24</a></big></b>
<br>
Change the simulate command to also output the
<a href="simulate_command.htm#prior_sim_table" target="_top"><span style='white-space: nowrap'>prior_sim_table</span></a>
.
Use this table to include variation of the prior means when using the
<code><font color="blue">sample</font></code> command with the
<a href="sample_command.htm#method.simulate" target="_top"><span style='white-space: nowrap'>simulate</span></a>
 method;
see <a href="posterior.htm#Simulation" target="_top"><span style='white-space: nowrap'>simulation</span></a>
 in the discussion
of the posterior distribution for maximum likelihood estimates.

<br>
<br>
<b><big><a name="04-23" id="04-23">04-23</a></big></b>
<br>
Improve the description for
<a href="posterior.htm#Simulation" target="_top"><span style='white-space: nowrap'>simulation</span></a>
 from the posterior
distribution of maximum likelihood estimators that use priors.

<br>
<br>
<b><big><a name="04-22" id="04-22">04-22</a></big></b>
<br>
Add a proof that prevalence does not depend on other cause mortality; see
<a href="prev_dep.htm" target="_top"><span style='white-space: nowrap'>prev_dep</span></a>
.

<br>
<br>
<b><big><a name="04-21" id="04-21">04-21</a></big></b>

<b><br>
Warning</b>: this is not a backward compatible change to the user API.
Change the name of the <code><font color="blue">simulate_table</font></code> to <a href="data_sim_table.htm" target="_top"><span style='white-space: nowrap'>data_sim_table</span></a>
.
In the data sim table change <code><font color="blue">simulate_value</font></code> to
<a href="data_sim_table.htm#data_sim_value" target="_top"><span style='white-space: nowrap'>data_sim_value</span></a>
 and
<code><font color="blue">simulate_delta</font></code> to
<a href="data_sim_table.htm#data_sim_delta" target="_top"><span style='white-space: nowrap'>data_sim_delta</span></a>
.

<br>
<br>
<b><big><a name="04-16" id="04-16">04-16</a></big></b>

<ol type="1"><li>
Add a linear matrix <small>@(@
B
@)@</small> to the prior in
<a href="posterior.htm#Lemma 2" target="_top"><span style='white-space: nowrap'>Lemma&nbsp;2</span></a>
 so that it can apply to
computing the posterior statistics when we have difference priors.
</li><li>

Add <a href="posterior.htm#Simulation" target="_top"><span style='white-space: nowrap'>simulation</span></a>

to the posterior simulation discussion.
</li></ol>


<br>
<br>
<b><big><a name="04-13" id="04-13">04-13</a></big></b>

<ol type="1"><li>
Add some text to make it easier to follow
the final step in the <a href="posterior.htm#Lemma 2.Proof" target="_top"><span style='white-space: nowrap'>proof</span></a>

of Lemma 2 of the posterior distribution section.
</li><li>

Print an error and exit when the
set option <a href="set_command.htm#option.name" target="_top"><span style='white-space: nowrap'>name</span></a>
 is not a valid choice
(the program used to put the invalid option in the option table).
</li></ol>



<br>
<br>
<b><big><a name="04-12" id="04-12">04-12</a></big></b>

<ol type="1"><li>
There is a problem with using the sample command
<a href="sample_command.htm#method.simulate" target="_top"><span style='white-space: nowrap'>simulate</span></a>
 method.
The new <a href="posterior.htm" target="_top"><span style='white-space: nowrap'>posterior</span></a>
 model section discusses the problem.
</li><li>

The requirements for the
last age (last time) priors were changed so they do not need to be null;
see null under
<a href="smooth_grid_table.htm#dage_prior_id.null" target="_top"><span style='white-space: nowrap'>dage_prior_id</span></a>
 and
<a href="smooth_grid_table.htm#dtime_prior_id.null" target="_top"><span style='white-space: nowrap'>dtime_prior_id</span></a>
.
This made it possible to modify the example
<a href="user_change_grid.py.htm" target="_top"><span style='white-space: nowrap'>user_change_grid.py</span></a>
 so that it removes the
last age (instead of one in the middle of the grid)
without having to change any 
<code><i><font color="black"><span style='white-space: nowrap'>dage_prior_id</span></font></i></code>
 values.
There is a problem with using the sample command
<a href="sample_command.htm#method.simulate" target="_top"><span style='white-space: nowrap'>simulate</span></a>
 method.
The model section <a href="posterior.htm" target="_top"><span style='white-space: nowrap'>posterior</span></a>
 discusses the problem.
</li></ol>


<br>
<br>
<b><big><a name="04-11" id="04-11">04-11</a></big></b>
<br>
Instructions for
<a href="smooth_table.htm#Removing an Age or Time" target="_top"><span style='white-space: nowrap'>removing&nbsp;an&nbsp;age&nbsp;or&nbsp;time</span></a>

from a smoothing grid were added.
This is useful when one determines (through fitting) that there is
not enough data to determine a variable, or that a variable is nearly
linear in a region.

<br>
<br>
<b><big><a name="04-10" id="04-10">04-10</a></big></b>
<br>
The <code><font color="blue">fit_random.py</font></code> user example has been improved including a
<a href="user_fit_random.py.htm#Discussion" target="_top"><span style='white-space: nowrap'>discussion</span></a>
 of what is going on.

<br>
<br>
<b><big><a name="04-09" id="04-09">04-09</a></big></b>
<br>
There was a mistake in the
<a href="get_started_db.py.htm#Discussion" target="_top"><span style='white-space: nowrap'>discussion</span></a>
 of the
<code><font color="blue">get_started_db.py</font></code> example.
The adjusted other cause mortality for this example is
<small>@(@
\exp ( \alpha x ) \omega
@)@</small> not <small>@(@
\alpha x \omega
@)@</small>.
This has been fixed.


<br>
<br>
<b><big><a name="04-08" id="04-08">04-08</a></big></b>
<br>
Some uses have complained that it is hard to navigate the documentation.
The links at the top of every page have been changed in an attempt to
make this clearer.

<br>
<br>
<b><big><a name="04-07" id="04-07">04-07</a></big></b>

<ol type="1"><li>
Add
<a href="option_table.htm#Fixed Only.limited_memory_max_history_fixed" target="_top"><span style='white-space: nowrap'>limited_memory_max_history_fixed</span></a>

to the option table.
The default for this option was previously hard coded into the program
and could not be changed.
As it turns out, we seem to get better convergence with larger values for
this option when
<a href="option_table.htm#Fixed Only.quasi_fixed" target="_top"><span style='white-space: nowrap'>quasi_fixed</span></a>
 true.
</li><li>

The documentation for the optimizer options have been split up into
three groups:
<a href="option_table.htm#Fixed and Random" target="_top"><span style='white-space: nowrap'>fixed&nbsp;and&nbsp;random</span></a>
,
<a href="option_table.htm#Fixed Only" target="_top"><span style='white-space: nowrap'>fixed&nbsp;only</span></a>
, and
<a href="option_table.htm#Random Only" target="_top"><span style='white-space: nowrap'>random&nbsp;only</span></a>
.
</li></ol>



<br>
<br>
<b><big><a name="04-06" id="04-06">04-06</a></big></b>

<ol type="1"><li>
The <code><font color="blue">init</font></code> command documentation was improved to include a
list of the <a href="init_command.htm#Deleted Tables" target="_top"><span style='white-space: nowrap'>deleted&nbsp;tables</span></a>
.
</li><li>

The <a href="depend_var_table.htm" target="_top"><span style='white-space: nowrap'>depend_var_table</span></a>
 was added to the set of tables deleted by
the <code><font color="blue">init</font></code> command
because it must be the same length as the <a href="var_table.htm" target="_top"><span style='white-space: nowrap'>var_table</span></a>
 or the
<a href="db2csv_command.htm" target="_top"><span style='white-space: nowrap'>db2csv_command</span></a>
 will fail.
</li><li>

The db2csv command was improved so that it prints
an error message when the length of any of the variable tables is not
the same as the <a href="var_table.htm" target="_top"><span style='white-space: nowrap'>var_table</span></a>
.
</li><li>

Advance to <code><font color="blue">cppad_mixed-20180406</font></code>.
This allows for testing some new ideas, but does not yet have any effect on
<code><font color="blue">dismod_at</font></code>.
</li></ol>



<br>
<br>
<b><big><a name="03-21" id="03-21">03-21</a></big></b>
<br>
In the definition of
<a href="data_like.htm#Adjusted Standard Deviation, delta_i" target="_top"><span style='white-space: nowrap'>delta_i</span></a>
,
The text
<small>@(@
delta_i ( \theta )
@)@</small> was changed to <small>@(@
\delta_i ( \theta )
@)@</small>.

<br>
<br>
<b><big><a name="03-13" id="03-13">03-13</a></big></b>
<br>
The documentation of the restrictions on the priors for the
<a href="model_variables.htm#Random Effects, u" target="_top"><span style='white-space: nowrap'>random&nbsp;effects</span></a>
 has been improved.
See
<a href="rate_table.htm#Child Value Priors" target="_top"><span style='white-space: nowrap'>child&nbsp;value&nbsp;priors</span></a>
 and
<a href="rate_table.htm#Child Difference Priors" target="_top"><span style='white-space: nowrap'>child&nbsp;difference&nbsp;priors</span></a>
.
In addition, the error messages when these restrictions are violated
has also been improved.


<br>
<br>
<b><big><a name="03-10" id="03-10">03-10</a></big></b>
<br>
The install <a href="install_unix.htm#Download dismod_at.git" target="_top"><span style='white-space: nowrap'>download</span></a>
 procedure was changed
to use the following command to determine the version number:
<code><font color='blue'><pre style='display:inline'> 
     grep '^SET(dismod_at_version' CMakeLists.txt
</pre></font></code>
<br>
<b><big><a name="03-08" id="03-08">03-08</a></big></b>
<br>
There was a mistake in the error message for wrong column
type detected in an <a href="input.htm" target="_top"><span style='white-space: nowrap'>input</span></a>
 table.
To be specific, a syntax error would occur on the line
<code><font color='blue'><pre style='display:inline'> 
      msg  = 'expected type ' + ty ++  ' for column ' + name
</pre></font></code>
This was fixed by changing <code><font color="blue">++</font></code> to <code><font color="blue">+</font></code>.

<br>
<br>
<b><big><a name="03-06" id="03-06">03-06</a></big></b>

<ol type="1"><li>
Some users were using the
type names <code><font color="blue">INTEGER</font></code>, <code><font color="blue">REAL</font></code>, and <code><font color="blue">TEXT</font></code>.
The database specifications have been extended to allow for these
<a href="database.htm#Type Names" target="_top"><span style='white-space: nowrap'>type&nbsp;names</span></a>
, and the necessary changes were made.
</li><li>

The error messaging when <a href="db2csv_command.htm" target="_top"><span style='white-space: nowrap'>db2csv_command</span></a>
 detected an invalid
<a href="database.htm#Primary Key" target="_top"><span style='white-space: nowrap'>primary&nbsp;key</span></a>
 has been improved.
</li><li>

Change <a href="db2csv_command.htm" target="_top"><span style='white-space: nowrap'>db2csv_command</span></a>
 so it checks the type of all the columns
in the <a href="input.htm" target="_top"><span style='white-space: nowrap'>input</span></a>
 tables.
</li></ol>


<br>
<br>
<b><big><a name="02-20" id="02-20">02-20</a></big></b>
<br>
Advance to <code><font color="blue">cppad_mixed-20180220</font></code>.
This fixes a problem, for some compilers, where some friend functions in
<code><font color="blue">cppad_mixed.hpp</font></code> were not defined.

<br>
<br>
<b><big><a name="02-17" id="02-17">02-17</a></big></b>
<br>
Change the <a href="user_diabetes.py.htm" target="_top"><span style='white-space: nowrap'>user_diabetes.py</span></a>
 example so that it constrains the
child omega rates to vary with age and time using the
<a href="user_diabetes.py.htm#Problem Parameters.parent_age_grid" target="_top"><span style='white-space: nowrap'>parent_age_grid</span></a>

and 
<code><i><font color="black"><span style='white-space: nowrap'>parent_time_grid</span></font></i></code>
.

<br>
<br>
<b><big><a name="02-14" id="02-14">02-14</a></big></b>

<ol type="1"><li>
Add
<a href="user_diabetes.py.htm#Problem Parameters.child_age_grid" target="_top"><span style='white-space: nowrap'>child_age_grid</span></a>

and
<a href="user_diabetes.py.htm#Problem Parameters.child_time_grid" target="_top"><span style='white-space: nowrap'>child_time_grid</span></a>

to the diabetes example problem parameters.
</li><li>

Improve documentation of
<a href="rate_table.htm#child_nslist_id" target="_top"><span style='white-space: nowrap'>child_nslist_id</span></a>
.
</li></ol>


<br>
<br>
<b><big><a name="02-13" id="02-13">02-13</a></big></b>
<br>
The changes below are for <a href="user_diabetes.py.htm" target="_top"><span style='white-space: nowrap'>user_diabetes.py</span></a>
:
<ol type="1"><li>
Add
<a href="user_diabetes.py.htm#Problem Parameters.random_seed" target="_top"><span style='white-space: nowrap'>random_seed</span></a>

and
<a href="user_diabetes.py.htm#Problem Parameters.tolerance_fixed" target="_top"><span style='white-space: nowrap'>tolerance_fixed</span></a>

to the problem parameters.
</li><li>

Change
<a href="user_diabetes.py.htm#Problem Parameters.fit_with_noise_in_data" target="_top"><span style='white-space: nowrap'>fit_with_noise_in_data</span></a>

to be false, so less data can result in tests passing; i.e,
makes automated testing faster.
</li><li>

Change max_abs_rel_err to
<a href="user_diabetes.py.htm#Problem Parameters.accept_rel_err" target="_top"><span style='white-space: nowrap'>accept_rel_err</span></a>
.
</li><li>

Change
<a href="user_diabetes.py.htm#Problem Parameters.ode_step_size" target="_top"><span style='white-space: nowrap'>ode_step_size</span></a>

to be larger to make the automated testing run faster.
</li></ol>


<br>
<br>
<b><big><a name="02-12" id="02-12">02-12</a></big></b>
<br>
The changes below are for <a href="user_diabetes.py.htm" target="_top"><span style='white-space: nowrap'>user_diabetes.py</span></a>
:
<ol type="1"><li>
Add two child nodes (random effects) to the
<a href="user_diabetes.py.htm#Problem Parameters.node_list" target="_top"><span style='white-space: nowrap'>node_list</span></a>
.
</li><li>

Changes so the example with random effects runs faster:
Increase the
<a href="option_table.htm#Fixed and Random.tolerance" target="_top"><span style='white-space: nowrap'>tolerance_fixed</span></a>
.
Reduce the number of points in the
<a href="user_diabetes.py.htm#Problem Parameters.parent_age_grid" target="_top"><span style='white-space: nowrap'>age</span></a>
 and
<a href="user_diabetes.py.htm#Problem Parameters.parent_time_grid" target="_top"><span style='white-space: nowrap'>time</span></a>
 grids.
</li><li>

Set the <a href="scale_var_table.htm" target="_top"><span style='white-space: nowrap'>scale_var_table</span></a>
 equal to the <a href="start_var_table.htm" target="_top"><span style='white-space: nowrap'>start_var_table</span></a>
.
This avoids nans during evaluation of the objective with random effects.
</li><li>

Optimize first with no random effects and then use that as a starting
point for optimizing with random effects.
</li><li>

Fix a list by changing it from time_index_rate_parent to time_index_rate_child.
</li><li>

Change number of time grid points in random effects from two to one
(random effects are constant for this example).
</li></ol>


<br>
<br>
<b><big><a name="02-11" id="02-11">02-11</a></big></b>

<ol type="1"><li>
Advance to <code><font color="blue">cppad_mixed-20180208</font></code>
(no change from user's perspective).
</li><li>

Change <code><font color="blue">db2csv_command</font></code> so that it displays 
<code><i><font color="black"><span style='white-space: nowrap'>eta_v</span></font></i></code>

when ever it affects the fixed effects
<a href="prior_table.htm#eta.Scaling Fixed Effects" target="_top"><span style='white-space: nowrap'>scaling</span></a>
; see
<a href="db2csv_command.htm#variable.csv.prior_info" target="_top"><span style='white-space: nowrap'>prior_info</span></a>
.
</li></ol>

The changes below are for <a href="user_diabetes.py.htm" target="_top"><span style='white-space: nowrap'>user_diabetes.py</span></a>
:
<ol type="1"><li>
Remove two priors that are no longer being used.
</li><li>

Change the priors for the rates so use log
<a href="prior_table.htm#eta.Scaling Fixed Effects" target="_top"><span style='white-space: nowrap'>scaling</span></a>

during the optimization process.
</li><li>

Add
<a href="user_diabetes.py.htm#Problem Parameters.derivative_test_fixed" target="_top"><span style='white-space: nowrap'>derivative_test_fixed</span></a>
, and
<a href="user_diabetes.py.htm#Problem Parameters.mulcov_dict" target="_top"><span style='white-space: nowrap'>mulcov_dict</span></a>

to the set of problem parameters.
</li><li>

Increase the number of points in the age and time grids.
</li><li>

Correct documentation for covariate
<a href="user_diabetes.py.htm#Covariates.Multipliers" target="_top"><span style='white-space: nowrap'>multipliers</span></a>
.
</li></ol>


<br>
<br>
<b><big><a name="02-09" id="02-09">02-09</a></big></b>

<ol type="1"><li>
Detect and report an error when a data table
<a href="data_table.htm#density_id" target="_top"><span style='white-space: nowrap'>density</span></a>
 is <code><font color="blue">log_students</font></code> and
<a href="data_table.htm#eta" target="_top"><span style='white-space: nowrap'>eta</span></a>
 is less than zero or null.
</li><li>

Update the values used for 
<code><i><font color="black"><span style='white-space: nowrap'>option_name</span></font></i></code>
 in the
<a href="option_table.py.htm" target="_top"><span style='white-space: nowrap'>option_table.py</span></a>
 example.
</li></ol>


<br>
<br>
<b><big><a name="02-08" id="02-08">02-08</a></big></b>

<ol type="1"><li>
Add <a href="set_command.htm#source.start, scale, truth" target="_top"><span style='white-space: nowrap'>start_var</span></a>
 to the possible
sources for the <code><font color="blue">set</font></code> command.
</li><li>

Advance to <code><font color="blue">cppad_mixed-20180208</font></code>.
This fixes a bug in the Laplace
<a href="data_table.htm#density_id" target="_top"><span style='white-space: nowrap'>density</span></a>
 in the data table when
<a href="option_table.htm#Fixed Only.quasi_fixed" target="_top"><span style='white-space: nowrap'>quasi_fixed</span></a>
 was <code><font color="blue">false</font></code>.
</li><li>

Detect and report an error when the density in the data table is
<a href="data_table.htm#density_id.Laplace" target="_top"><span style='white-space: nowrap'>laplace</span></a>
 or <code><font color="blue">log_laplace</font></code>.
</li></ol>



<br>
<br>
<b><big><a name="02-05" id="02-05">02-05</a></big></b>
<br>
Advance to <code><font color="blue">cppad_mixed-20180205</font></code>.
This is expected to improve the scaling of the fixed effect optimization
(in some cases).

<br>
<br>
<b><big><a name="02-04" id="02-04">02-04</a></big></b>
<br>
The variable.csv <a href="db2csv_command.htm#variable.csv.start" target="_top"><span style='white-space: nowrap'>start</span></a>
 column
was only correct when
<a href="db2csv_command.htm#variable.csv.var_type" target="_top"><span style='white-space: nowrap'>var_type</span></a>
 was <code><font color="blue">rate</font></code>.
This has been fixed.
The changes below are for <a href="user_diabetes.py.htm" target="_top"><span style='white-space: nowrap'>user_diabetes.py</span></a>
:
<ol type="1"><li>
Add
<a href="user_diabetes.py.htm#Problem Parameters.truth2start" target="_top"><span style='white-space: nowrap'>truth2start</span></a>
,
<a href="user_diabetes.py.htm#Problem Parameters.accept_rel_err" target="_top"><span style='white-space: nowrap'>accept_rel_err</span></a>
,
to the problem parameters.
</li><li>

Add fitting of multipliers for the following covariates:
market scan 2000 on
<a href="mulcov_table.htm#mulcov_type.meas_value" target="_top"><span style='white-space: nowrap'>meas_value</span></a>
,
body mass index and sex on the
<a href="mulcov_table.htm#mulcov_type.rate_value" target="_top"><span style='white-space: nowrap'>rate_value</span></a>
 for iota.
</li></ol>


<br>
<br>
<b><big><a name="02-03" id="02-03">02-03</a></big></b>
<br>
The age and time limits in the
<a href="db2csv_command.htm#data.csv" target="_top"><span style='white-space: nowrap'>data.csv</span></a>
 file were rounded off
(as are most of its other columns)
to reduce the space used when viewing the columns in a spread sheet program.
<code><span style='white-space: nowrap'><br>
<br>
</span></code>The changes below are for <a href="user_diabetes.py.htm" target="_top"><span style='white-space: nowrap'>user_diabetes.py</span></a>
:
<ol type="1"><li>
Make the standard deviations in the parent rate differences
<a href="user_diabetes.py.htm#Problem Parameters" target="_top"><span style='white-space: nowrap'>problem&nbsp;parameters</span></a>
.
</li><li>

Change <a href="user_diabetes.py.htm#Problem Parameters.node_list" target="_top"><span style='white-space: nowrap'>node_list</span></a>

example to only the parent node.
</li><li>

Add
<a href="user_diabetes.py.htm#Problem Parameters.integrand_list" target="_top"><span style='white-space: nowrap'>integrand_list</span></a>
,
<a href="user_diabetes.py.htm#Problem Parameters.ode_step_size" target="_top"><span style='white-space: nowrap'>ode_step_size</span></a>
,
<a href="user_diabetes.py.htm#Problem Parameters.meas_repeat" target="_top"><span style='white-space: nowrap'>meas_repeat</span></a>
,
<a href="user_diabetes.py.htm#Problem Parameters.quasi_fixed" target="_top"><span style='white-space: nowrap'>quasi_fixed</span></a>
,
to the problem parameters.
</li></ol>


<br>
<br>
<b><big><a name="02-02" id="02-02">02-02</a></big></b>
<br>
All these changes are to <a href="user_diabetes.py.htm" target="_top"><span style='white-space: nowrap'>user_diabetes.py</span></a>

which is still under construction.
<ol type="1"><li>
Added age and time variation to omega and chi.
</li><li>

Increased number of optimizer iterations because
there is feed back from the initial iota to prevalence at all ages.
</li><li>

Increase number of age grid points to 9
so ages are closer to being integer valued.
</li><li>

The <a href="user_diabetes.py.htm#Problem Parameters" target="_top"><span style='white-space: nowrap'>problem&nbsp;parameters</span></a>

were moved into the documentation section of the this example.
</li></ol>


<br>
<br>
<b><big><a name="02-01" id="02-01">02-01</a></big></b>
<br>
Added time variation to <a href="rate_table.htm#rate_name.iota" target="_top"><span style='white-space: nowrap'>iota</span></a>
 in the
<a href="user_diabetes.py.htm" target="_top"><span style='white-space: nowrap'>user_diabetes.py</span></a>
 example.
This example is still under construction, but it has some interesting
techniques for simulating data and testing models.

<br>
<br>
<b><big><a name="01-31" id="01-31">01-31</a></big></b>

<ol type="1"><li>
The <a href="db2csv_command.htm#variable.csv.start" target="_top"><span style='white-space: nowrap'>start</span></a>
 column
was added to the <code><font color="blue">variable.csv</font></code> file created by the
<a href="db2csv_command.htm" target="_top"><span style='white-space: nowrap'>db2csv_command</span></a>
.
</li><li>

The <a href="db2csv_command.py.htm" target="_top"><span style='white-space: nowrap'>db2csv_command.py</span></a>
 example was improved
to better demonstrate (and test) which field in
<a href="db2csv_command.htm#variable.csv" target="_top"><span style='white-space: nowrap'>variable.csv</span></a>

are empty
</li></ol>


<br>
<br>
<b><big><a name="01-30" id="01-30">01-30</a></big></b>
<br>
Improve the documentation for the
<a href="create_database.htm#smooth_table" target="_top"><span style='white-space: nowrap'>smooth_table</span></a>
 argument to the
<code><font color="blue">create_database</font></code> python function.

<br>
<br>
<b><big><a name="01-28" id="01-28">01-28</a></big></b>

<ol type="1"><li>
Add mention that
<a href="predict_table.htm#sample_index" target="_top"><span style='white-space: nowrap'>sample_index</span></a>
 is always zero when the
source for the predict command is
<a href="predict_command.htm#source.fit_var" target="_top"><span style='white-space: nowrap'>fit_var</span></a>
 or
<a href="predict_command.htm#source.truth_var" target="_top"><span style='white-space: nowrap'>truth_var</span></a>
.
</li><li>

Mention that under normal circumstances,
<a href="option_table.htm#Fixed and Random.derivative_test" target="_top"><span style='white-space: nowrap'>derivative_test</span></a>

should be <code><font color="blue">none</font></code>.
</li></ol>


<br>
<br>
<b><big><a name="01-26" id="01-26">01-26</a></big></b>

<ol type="1"><li>
A special discussion of the prior mean,
in the case where the density is
<a href="prior_table.htm#mean.uniform" target="_top"><span style='white-space: nowrap'>uniform</span></a>
,
was added.
</li><li>

Improve error message when number of unique ages (times)
<a href="smooth_grid_table.htm" target="_top"><span style='white-space: nowrap'>smooth_grid_table</span></a>
 does not agree with
the corresponding <a href="smooth_table.htm#n_age" target="_top"><span style='white-space: nowrap'>n_age</span></a>

( <a href="smooth_table.htm#n_time" target="_top"><span style='white-space: nowrap'>n_time</span></a>
 ) in smooth table.
</li><li>

The definition of the
<a href="data_like.htm#Adjusted Standard Deviation, delta_i" target="_top"><span style='white-space: nowrap'>adjusted&nbsp;standard&nbsp;deviation</span></a>

for the log transformed densities was changed so that the standard deviation
effect multiplies
<a href="data_like.htm#Data Table Notation.Delta_i" target="_top"><span style='white-space: nowrap'>Delta_i</span></a>
.
</li><li>

There was a bug in how <a href="db2csv_command.htm" target="_top"><span style='white-space: nowrap'>db2csv_command</span></a>
 determined the reference value
for covariates in the <a href="avgint_table.htm" target="_top"><span style='white-space: nowrap'>avgint_table</span></a>
.
This has been fixed.
</li></ol>


<br>
<br>
<b><big><a name="01-25" id="01-25">01-25</a></big></b>
<br>
Add mention that the <a href="simulate_command.htm#meas_value" target="_top"><span style='white-space: nowrap'>meas_value</span></a>

is not used during the simulate command.

<br>
<br>
<b><big><a name="01-24" id="01-24">01-24</a></big></b>
<br>
Change the specification for the
<a href="create_database.htm#smooth_table" target="_top"><span style='white-space: nowrap'>smooth_table</span></a>
 function

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(</span></font><i><font color="black"><span style='white-space: nowrap'>v</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>da</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>dt</span></font></i><font color="blue"><span style='white-space: nowrap'>)&nbsp;=&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>fun</span></font></i><font color="blue"><span style='white-space: nowrap'>(</span></font><i><font color="black"><span style='white-space: nowrap'>a</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>t</span></font></i><font color="blue"><span style='white-space: nowrap'>)<br>
</span></font></code>
so that <code><font color="blue">None</font></code> can be returned for 
<code><i><font color="black"><span style='white-space: nowrap'>da</span></font></i></code>
 and 
<code><i><font color="black"><span style='white-space: nowrap'>dt</span></font></i></code>

when there is no such forward difference.
In addition, change the <a href="user.htm" target="_top"><span style='white-space: nowrap'>user</span></a>
 examples to use this feature.

<br>
<br>
<b><big><a name="01-23" id="01-23">01-23</a></big></b>

<ol type="1"><li>
Improve documentation of which data points require a separate solution of the
<a href="integrand_table.htm#integrand_name.ODE" target="_top"><span style='white-space: nowrap'>ODE</span></a>
.
In addition, we added a discussion of the
<a href="ode_grid.htm#Purpose" target="_top"><span style='white-space: nowrap'>purpose</span></a>
 of the ODE grid.
</li><li>

Advance to <code><font color="blue">cppad_mixed-20180123</font></code>.
This fixed a bug in <code><font color="blue">cppad_mixed-20180122</font></code>.
</li></ol>


<br>
<br>
<b><big><a name="01-22" id="01-22">01-22</a></big></b>

<ol type="1"><li>
Advance to <code><font color="blue">cppad_mixed-20180122</font></code>.
This only makes sure the new version works
and should not result in any change to <code><font color="blue">dismod-at</font></code>.
</li><li>

Improve the instructions for combining both
<a href="run_cmake.sh.htm#Debug and Release" target="_top"><span style='white-space: nowrap'>debug&nbsp;and&nbsp;release</span></a>

versions of dismod_at on the same system.
</li></ol>


<br>
<br>
<b><big><a name="01-21" id="01-21">01-21</a></big></b>

<ol type="1"><li>
Include discussion of the
<a href="statistic.htm#Weighted Residual Function, R" target="_top"><span style='white-space: nowrap'>weighted&nbsp;residual</span></a>

in the <a href="simulate_command.htm" target="_top"><span style='white-space: nowrap'>simulate_command</span></a>
 documentation.
</li><li>

Some other minor improvements and corrections were made
to the documentation.
</li><li>

The calculation of the
<a href="data_sim_table.htm#data_sim_value" target="_top"><span style='white-space: nowrap'>data_sim_value</span></a>

was corrected to allow for negative values in
<a href="data_sim_table.htm#Method.y, Linear" target="_top"><span style='white-space: nowrap'>linear</span></a>
 cases.
(The mistake fixed here was made during the changes on
<a href="whats_new_2018.htm#01-20" target="_top"><span style='white-space: nowrap'>01-20</span></a>
; see below.)
</li><li>

Check for and abort with an error message when there is a <code><font color="blue">null</font></code>
value in the data table
<a href="data_table.htm#meas_value" target="_top"><span style='white-space: nowrap'>meas_value</span></a>
 column.
</li></ol>



<br>
<br>
<b><big><a name="01-20" id="01-20">01-20</a></big></b>

<ol type="1"><li>
The method used by the <a href="simulate_command.htm" target="_top"><span style='white-space: nowrap'>simulate_command</span></a>
 was simplified and documented.
To be specific, the average integrand, instead of the simulated
data value, was used to compute the transformed standard deviation
<a href="statistic.htm#Log-Transformed Standard Deviation, sigma" target="_top"><span style='white-space: nowrap'>sigma</span></a>
.
</li><li>

The fields 
<code><i><font color="black"><span style='white-space: nowrap'>meas_value</span></font></i></code>
 and 
<code><i><font color="black"><span style='white-space: nowrap'>meas_std</span></font></i></code>

in the data_sim table were changed to
<a href="data_sim_table.htm#data_sim_value" target="_top"><span style='white-space: nowrap'>data_sim_value</span></a>
 and
<a href="data_sim_table.htm#data_sim_delta" target="_top"><span style='white-space: nowrap'>data_sim_delta</span></a>
.
</li></ol>


<br>
<br>
<b><big><a name="01-18" id="01-18">01-18</a></big></b>

<ol type="1"><li>
The flags <code><font color="blue">-Wpedantic</font></code>, <code><font color="blue">-Wshadow</font></code> and <code><font color="blue">-Wconversion</font></code>
were added to the default value of
<a href="run_cmake.sh.htm#extra_cxx_flags" target="_top"><span style='white-space: nowrap'>extra_cxx_flags</span></a>
.
In addition, fix the corresponding warning messages generated by gcc
during the
<a href="install_unix.htm#dismod_at" target="_top"><span style='white-space: nowrap'>dismod_at</span></a>
 part of the instal process.
</li><li>

Fix an un-used variable warning when
<a href="run_cmake.sh.htm#build_type" target="_top"><span style='white-space: nowrap'>build_type</span></a>
 is <code><font color="blue">release</font></code>.
</li><li>

Replace the default acceptable tolerance by the
<a href="option_table.htm#Fixed and Random.tolerance" target="_top"><span style='white-space: nowrap'>tolerances</span></a>

specified in the options table.
(The acceptable tolerance is used when the optimizer is having trouble
obtaining the desired tolerance.)
</li><li>

Advance to <code><font color="blue">cppad_mixed-20180117</font></code>. This fixes warnings
with the new compiler flags above.
</li></ol>


<br>
<br>
<b><big><a name="01-16" id="01-16">01-16</a></big></b>
<br>
The <code><font color="blue">data.csv</font></code> file did not include the
<a href="db2csv_command.htm#data.csv.sim_value" target="_top"><span style='white-space: nowrap'>sim_value</span></a>
 and

<code><i><font color="black"><span style='white-space: nowrap'>sim_std</span></font></i></code>
 columns when there was
no <a href="fit_command.htm#simulate_index" target="_top"><span style='white-space: nowrap'>simulate_index</span></a>

in the previous fit command.
If there is a <a href="data_sim_table.htm" target="_top"><span style='white-space: nowrap'>data_sim_table</span></a>
 the default value zero is used for

<code><i><font color="black"><span style='white-space: nowrap'>simulate_index</span></font></i></code>
 when it does not appear in the previous fit command.

<br>
<br>
<b><big><a name="01-12" id="01-12">01-12</a></big></b>
<br>
There was a bug in the change on 01-09. To be specific,
the case where a child had no
<a href="model_variables.htm#Random Effects, u" target="_top"><span style='white-space: nowrap'>random&nbsp;effects</span></a>
,
and the child had data with no rate covariates,
was not handled correctly. This has been fixed.

<br>
<br>
<b><big><a name="01-09" id="01-09">01-09</a></big></b>
<br>
A change was made to speed up the calculations for measurements
that have the reference value for all the rate covariates; see
<a href="mulcov_table.htm#mulcov_type.rate_value" target="_top"><span style='white-space: nowrap'>rate_value</span></a>
 in the mulcov table
documentation.



<hr>Input File: omh/whats_new/2018.omh

</body>
</html>
