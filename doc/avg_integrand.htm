<html>
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath:  [ ['@(@','@)@'] ] ,
    displayMath: [ ['@[@','@]@'] ]
  }
});
</script>
<script type='text/javascript' src=
'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=default'
>
</script>
<head>
<title>Model for the Average Integrand</title>
<meta http-equiv='Content-Type' content='text/html' charset='utf-8'>
<meta name="description" id="description" content="Model for the Average Integrand">
<meta name="keywords" id="keywords" content=" model the average integrand ordinary differential equation data avgint table notation i a_i b_i c_i d_i s_i g_i covariate difference x_ij w_i n_i rate functions parent q_k child effect u_ik j_k group multiplier alpha_jk subgroup delta adjusted r_ik pini p_i0(t) iota_i(at) rho_i(at) chi_i(at) omega_i(at) s_i(at) c_i(at) i_i(at) sincidence remission mtexcess mtother mtwith susceptible withc prevalence tincidence mtspecific mtall mtstandard relrisk mulcov measurement value covariates k_i beta_j weight integral wbar_i ">
<style type='text/css'>
body { color : black }
body { background-color : white }
A:link { color : blue }
A:visited { color : purple }
A:active { color : purple }
</style>
<script type='text/javascript' language='JavaScript' src='_avg_integrand_htm.js'>
</script>
</head>
<body>
<table><tr>
<td>
<a href="https://bradbell.github.io/dismod_at" target="_top"><img border="0" src="_image.gif"></a>
</td>
<td>
<select onchange='choose_up0(this)'>
<option>Location-&gt;</option>
<option>dismod_at</option>
<option>model</option>
<option>avg_integrand</option>
</select>
</td>
<td>
<select onchange='choose_across0(this)'>
<option>Search-&gt;</option>
<option>contents</option>
<option>reference</option>
<option>index</option>
<option>search</option>
<option>external</option>
</select>
</td>
<td><a href="model_variables.htm" target="_top">Prev</a>
</td><td><a href="data_like.htm" target="_top">Next</a>
</td><td>
<script type='text/javascript' language='JavaScript' src='_childtable_dismod_at_htm.js'></script>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_model_htm.js'></script>
</td>
<td>avg_integrand</td>
</tr></table><br>
@(@\newcommand{\R}[1]{ {\rm #1} }
\newcommand{\B}[1]{ {\bf #1} }
\newcommand{\W}[1]{ \; #1 \; }@)@


<center><b><big><big>Model for the Average Integrand</big></big></b></center>

<br><a href="avg_integrand.htm#Ordinary Differential Equation" target="_top">Ordinary&nbsp;Differential&nbsp;Equation</a>
<br><a href="avg_integrand.htm#Data or Avgint Table Notation" target="_top">Data&nbsp;or&nbsp;Avgint&nbsp;Table&nbsp;Notation</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Data or Avgint Table Notation.i" target="_top">i</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Data or Avgint Table Notation.a_i" target="_top">a_i</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Data or Avgint Table Notation.b_i" target="_top">b_i</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Data or Avgint Table Notation.c_i" target="_top">c_i</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Data or Avgint Table Notation.d_i" target="_top">d_i</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Data or Avgint Table Notation.s_i" target="_top">s_i</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Data or Avgint Table Notation.g_i" target="_top">g_i</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Data or Avgint Table Notation.Covariate Difference, x_ij" target="_top">Covariate&nbsp;Difference,&nbsp;x_ij</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Data or Avgint Table Notation.w_i" target="_top">w_i</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Data or Avgint Table Notation.n_i" target="_top">n_i</a>
<br><a href="avg_integrand.htm#Rate Functions" target="_top">Rate&nbsp;Functions</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Rate Functions.Parent Rate, q_k" target="_top">Parent&nbsp;Rate,&nbsp;q_k</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Rate Functions.Child Rate Effect, u_ik" target="_top">Child&nbsp;Rate&nbsp;Effect,&nbsp;u_ik</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Rate Functions.J_k" target="_top">J_k</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Rate Functions.Group Rate Covariate Multiplier, alpha_jk" target="_top">Group&nbsp;Rate&nbsp;Covariate&nbsp;Multiplier,&nbsp;alpha_jk</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Rate Functions.Subgroup Rate Covariate Multiplier, Delta alpha_jk" target="_top">Subgroup&nbsp;Rate&nbsp;Covariate&nbsp;Multiplier,&nbsp;Delta&nbsp;alpha_jk</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Rate Functions.Adjusted Rate, r_ik" target="_top">Adjusted&nbsp;Rate,&nbsp;r_ik</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Rate Functions.pini, p_i0(t)" target="_top">pini,&nbsp;p_i0(t)</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Rate Functions.iota_i(a,t)" target="_top">iota_i(a,t)</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Rate Functions.rho_i(a,t)" target="_top">rho_i(a,t)</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Rate Functions.chi_i(a,t)" target="_top">chi_i(a,t)</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Rate Functions.omega_i(a,t)" target="_top">omega_i(a,t)</a>
<br><a href="avg_integrand.htm#S_i(a,t)" target="_top">S_i(a,t)</a>
<br><a href="avg_integrand.htm#C_i(a,t)" target="_top">C_i(a,t)</a>
<br><a href="avg_integrand.htm#Differential Equation" target="_top">Differential&nbsp;Equation</a>
<br><a href="avg_integrand.htm#Integrand, I_i(a,t)" target="_top">Integrand,&nbsp;I_i(a,t)</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).Sincidence" target="_top">Sincidence</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).remission" target="_top">remission</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).mtexcess" target="_top">mtexcess</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).mtother" target="_top">mtother</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).mtwith" target="_top">mtwith</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).susceptible" target="_top">susceptible</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).withC" target="_top">withC</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).prevalence" target="_top">prevalence</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).Tincidence" target="_top">Tincidence</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).mtspecific" target="_top">mtspecific</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).mtall" target="_top">mtall</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).mtstandard" target="_top">mtstandard</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).relrisk" target="_top">relrisk</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Integrand, I_i(a,t).mulcov" target="_top">mulcov</a>
<br><a href="avg_integrand.htm#Measurement Value Covariates" target="_top">Measurement&nbsp;Value&nbsp;Covariates</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Measurement Value Covariates.K_i" target="_top">K_i</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Measurement Value Covariates.Group Measurement Covariate Multiplier, beta_j" target="_top">Group&nbsp;Measurement&nbsp;Covariate&nbsp;Multiplier,&nbsp;beta_j</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Measurement Value Covariates.Subgroup Measurement Covariate Multiplier, Delta beta_j" target="_top">Subgroup&nbsp;Measurement&nbsp;Covariate&nbsp;Multiplier,&nbsp;Delta&nbsp;beta_j</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="avg_integrand.htm#Measurement Value Covariates.Measurement Effect" target="_top">Measurement&nbsp;Effect</a>
<br><a href="avg_integrand.htm#Adjusted Integrand" target="_top">Adjusted&nbsp;Integrand</a>
<br><a href="avg_integrand.htm#Weight Integral, wbar_i" target="_top">Weight&nbsp;Integral,&nbsp;wbar_i</a>
<br><a href="avg_integrand.htm#Average Integrand, A_i" target="_top">Average&nbsp;Integrand,&nbsp;A_i</a>
<br><br>
<b><big><a name="Ordinary Differential Equation" id="Ordinary Differential Equation">Ordinary Differential Equation</a></big></b>
<br>
In the case where the <a href="rate_table.htm" target="_top"><span style='white-space: nowrap'>rates</span></a>
 do not depend on time,
the dismod_ode ordinary differential equation is
<small>@[@

\begin{array}{rcl}
	S'(a) & = & - [ \iota(a) + \omega (a) ] S(a) + \rho(a) C(a)
	\\
	C'(a) & = & + \iota(a) S(a) - [ \rho(a) + \chi(a) + \omega (a) ] C(a)
\end{array}

@]@</small>
with the initial condition <small>@(@
C(0) = p_0
@)@</small> and <small>@(@
S(0) = 1 - p_0
@)@</small>.
This equation is made more complicated by the fact that the
rates vary with time as well as with each data point.
The reason for the variation between data points due both to the
<a href="model_variables.htm#Random Effects, u" target="_top"><span style='white-space: nowrap'>random&nbsp;effects</span></a>
 as well as the
<a href="mulcov_table.htm#mulcov_type.rate_value" target="_top"><span style='white-space: nowrap'>rate_value</span></a>
 covariates.

<br>
<br>
<b><big><a name="Data or Avgint Table Notation" id="Data or Avgint Table Notation">Data or Avgint Table Notation</a></big></b>


<br>
<br>
<big><a name="Data or Avgint Table Notation.i" id="Data or Avgint Table Notation.i">i</a></big>
<br>
We use <small>@(@
i
@)@</small> to denote either,
<a href="data_table.htm#data_id" target="_top"><span style='white-space: nowrap'>data_id</span></a>
 for a row in the data table or,
<a href="avgint_table.htm#avgint_id" target="_top"><span style='white-space: nowrap'>avgint_id</span></a>
 for a row in the avgint table.

<br>
<br>
<big><a name="Data or Avgint Table Notation.a_i" id="Data or Avgint Table Notation.a_i">a_i</a></big>
<br>
We use <small>@(@
a_i
@)@</small> to denote the corresponding 
<code><i><font color="black"><span style='white-space: nowrap'>age_lower</span></font></i></code>
 in the
<a href="data_table.htm#age_lower" target="_top"><span style='white-space: nowrap'>data&nbsp;table</span></a>
 or
<a href="avgint_table.htm#age_lower" target="_top"><span style='white-space: nowrap'>avgint&nbsp;table</span></a>
.

<br>
<br>
<big><a name="Data or Avgint Table Notation.b_i" id="Data or Avgint Table Notation.b_i">b_i</a></big>
<br>
We use <small>@(@
b_i
@)@</small> to denote the corresponding 
<code><i><font color="black"><span style='white-space: nowrap'>age_upper</span></font></i></code>
 in the
<a href="data_table.htm#age_upper" target="_top"><span style='white-space: nowrap'>data&nbsp;table</span></a>
 or
<a href="avgint_table.htm#age_upper" target="_top"><span style='white-space: nowrap'>avgint&nbsp;table</span></a>
.

<br>
<br>
<big><a name="Data or Avgint Table Notation.c_i" id="Data or Avgint Table Notation.c_i">c_i</a></big>
<br>
We use <small>@(@
c_i
@)@</small> to denote the corresponding 
<code><i><font color="black"><span style='white-space: nowrap'>time_lower</span></font></i></code>
 in the
<a href="data_table.htm#time_lower" target="_top"><span style='white-space: nowrap'>data&nbsp;table</span></a>
 or
<a href="avgint_table.htm#time_lower" target="_top"><span style='white-space: nowrap'>avgint&nbsp;table</span></a>
.

<br>
<br>
<big><a name="Data or Avgint Table Notation.d_i" id="Data or Avgint Table Notation.d_i">d_i</a></big>
<br>
We use <small>@(@
d_i
@)@</small> to denote the corresponding 
<code><i><font color="black"><span style='white-space: nowrap'>time_upper</span></font></i></code>
 in the
<a href="data_table.htm#time_upper" target="_top"><span style='white-space: nowrap'>data&nbsp;table</span></a>
 or
<a href="avgint_table.htm#time_upper" target="_top"><span style='white-space: nowrap'>avgint&nbsp;table</span></a>
.

<br>
<br>
<big><a name="Data or Avgint Table Notation.s_i" id="Data or Avgint Table Notation.s_i">s_i</a></big>
<br>
We use <small>@(@
s_i
@)@</small> to denote the corresponding 
<code><i><font color="black"><span style='white-space: nowrap'>subgroup_id</span></font></i></code>
 in the
<a href="data_table.htm#subgroup_id" target="_top"><span style='white-space: nowrap'>data&nbsp;table</span></a>
 or
<a href="avgint_table.htm#subgroup_id" target="_top"><span style='white-space: nowrap'>avgint&nbsp;table</span></a>
.

<br>
<br>
<big><a name="Data or Avgint Table Notation.g_i" id="Data or Avgint Table Notation.g_i">g_i</a></big>
<br>
We use <small>@(@
g_i
@)@</small> to denote the
<a href="subgroup_table.htm#group_id" target="_top"><span style='white-space: nowrap'>group_id</span></a>
 that <small>@(@
s_i
@)@</small> is part of.

<br>
<br>
<big><a name="Data or Avgint Table Notation.Covariate Difference, x_ij" id="Data or Avgint Table Notation.Covariate Difference, x_ij">Covariate Difference, x_ij</a></big>
<br>
We use <small>@(@
x_{i,j}
@)@</small> to denote the covariate difference for the
<code><i>i</i></code>-th data point and the <code><i>j</i></code>-th covariate.
Here 
<code><i><font color="black"><span style='white-space: nowrap'>i</span></font></i></code>
 denotes a
<a href="data_table.htm#data_id" target="_top"><span style='white-space: nowrap'>data_id</span></a>
 in the data table and

<code><i><font color="black"><span style='white-space: nowrap'>j</span></font></i></code>
 denotes a
<a href="covariate_table.htm#covariate_id" target="_top"><span style='white-space: nowrap'>covariate_id</span></a>
 in the covariate table.
The difference is the corresponding data table
<a href="data_table.htm#Covariates" target="_top"><span style='white-space: nowrap'>covariate&nbsp;value</span></a>
 minus the covariate table
<a href="covariate_table.htm#reference" target="_top"><span style='white-space: nowrap'>reference&nbsp;value</span></a>
.

<br>
<br>
<big><a name="Data or Avgint Table Notation.w_i" id="Data or Avgint Table Notation.w_i">w_i</a></big>
<br>
We use <small>@(@
w_i (a, t)
@)@</small> for the weighting as a function of age and time
that corresponds to the
<a href="data_table.htm#weight_id" target="_top"><span style='white-space: nowrap'>weight_id</span></a>

for this 
<code><i><font color="black"><span style='white-space: nowrap'>data_id</span></font></i></code>
.

<br>
<br>
<big><a name="Data or Avgint Table Notation.n_i" id="Data or Avgint Table Notation.n_i">n_i</a></big>
<br>
We use <small>@(@
n_i
@)@</small> to denote the corresponding
<a href="data_table.htm#node_id" target="_top"><span style='white-space: nowrap'>node_id</span></a>
 value.


<br>
<br>
<b><big><a name="Rate Functions" id="Rate Functions">Rate Functions</a></big></b>


<br>
<br>
<big><a name="Rate Functions.Parent Rate, q_k" id="Rate Functions.Parent Rate, q_k">Parent Rate, q_k</a></big>
<br>
We use <small>@(@
k
@)@</small> to denote a
<a href="rate_table.htm#rate_id" target="_top"><span style='white-space: nowrap'>rate_id</span></a>
 and
<small>@(@
q_k (a, t)
@)@</small> the piecewise linear rate function
for the corresponding to the
<a href="model_variables.htm#Fixed Effects, theta.Parent Rates" target="_top"><span style='white-space: nowrap'>parent&nbsp;rate</span></a>
.
This is the model for the rate corresponding to the
<a href="option_table.htm#Parent Node" target="_top"><span style='white-space: nowrap'>parent&nbsp;node</span></a>

and the reference value for the covariates; i.e.
<small>@(@
x_{i,j} = 0
@)@</small>.
The adjusted rate
<a href="avg_integrand.htm#Rate Functions.Adjusted Rate, r_ik" target="_top"><span style='white-space: nowrap'>r_ik</span></a>

is defined below.

<br>
<br>
<big><a name="Rate Functions.Child Rate Effect, u_ik" id="Rate Functions.Child Rate Effect, u_ik">Child Rate Effect, u_ik</a></big>
<br>
If the node for this data point <small>@(@
n_i
@)@</small> is a
<a href="node_table.htm#parent.Children" target="_top"><span style='white-space: nowrap'>child</span></a>
 node,
or a descendant of a child node,
<small>@(@
u_{i,k} (a, t)
@)@</small> is the piecewise linear random effect
for the corresponding
<a href="model_variables.htm#Random Effects, u.Child Rate Effects" target="_top"><span style='white-space: nowrap'>child&nbsp;and&nbsp;rate</span></a>
.
If <small>@(@
n_i
@)@</small> is the parent node,
there is no random effect for this data and
<small>@(@
u_{i,k} (a, t) = 0
@)@</small>.
Otherwise <small>@(@
n_i
@)@</small> is not the parent node or
a descendant of the parent node and the corresponding data is not used.

<br>
<br>
<big><a name="Rate Functions.J_k" id="Rate Functions.J_k">J_k</a></big>
<br>
We use <small>@(@
J_k
@)@</small> to denote the set of
<a href="mulcov_table.htm#covariate_id" target="_top"><span style='white-space: nowrap'>covariate_id</span></a>
 values in the mulcov table
such that the corresponding
<a href="mulcov_table.htm#rate_id" target="_top"><span style='white-space: nowrap'>rate_id</span></a>
 is equal to <small>@(@
k
@)@</small>,
<a href="mulcov_table.htm#mulcov_type" target="_top"><span style='white-space: nowrap'>mulcov_type</span></a>
 is <code><font color="blue">rate_value</font></code>,
and <a href="mulcov_table.htm#group_id" target="_top"><span style='white-space: nowrap'>group_id</span></a>
 equal to <small>@(@
g_i
@)@</small>.
These covariates that affect the <code><i>k</i></code>-th rate for this group of measurements.

<br>
<br>
<big><a name="Rate Functions.Group Rate Covariate Multiplier, alpha_jk" id="Rate Functions.Group Rate Covariate Multiplier, alpha_jk">Group Rate Covariate Multiplier, alpha_jk</a></big>
<br>
For each rate index <small>@(@
k
@)@</small>,
and each covariate index <small>@(@
j \in J_k
@)@</small>,
we use <small>@(@
\alpha_{j,k} (a, t)
@)@</small> to denote the
piecewise linear function corresponding to the
<a href="model_variables.htm#Fixed Effects, theta.Group Covariate Multipliers" target="_top"><span style='white-space: nowrap'>group&nbsp;covariate&nbsp;multiplier</span></a>
.
Note that these are
<a href="mulcov_table.htm#mulcov_type.rate_value" target="_top"><span style='white-space: nowrap'>rate_value</span></a>
 covariate multipliers
specified by the mulcov table.

<br>
<br>
<big><a name="Rate Functions.Subgroup Rate Covariate Multiplier, Delta alpha_jk" id="Rate Functions.Subgroup Rate Covariate Multiplier, Delta alpha_jk">Subgroup Rate Covariate Multiplier, Delta alpha_jk</a></big>
<br>
For each rate index <small>@(@
k
@)@</small>,
and each covariate index <small>@(@
j \in J_k
@)@</small>,
we use <small>@(@
\Delta \alpha_{j,k} (a, t)
@)@</small> to denote the
piecewise linear function corresponding to the <small>@(@
s_i
@)@</small>
<a href="model_variables.htm#Random Effects, u.Subgroup Covariate Multipliers" target="_top"><span style='white-space: nowrap'>subgroup&nbsp;covariate&nbsp;multiplier</span></a>
.

<br>
<br>
<big><a name="Rate Functions.Adjusted Rate, r_ik" id="Rate Functions.Adjusted Rate, r_ik">Adjusted Rate, r_ik</a></big>
<br>
We define the adjusted <code><i>k</i></code>-th rate for the <code><i>i</i></code>-th data point by
<small>@[@

r_{i,k} (a , t)
=
\exp \left \{
	u_{i,k} (a, t) + \sum_{j \in J(k)}
		x_{i,j} [ \alpha_{j,k} (a, t) + \Delta \alpha_{j,k} (a, t) ]
\right \}
q_k ( a, t )

@]@</small>
If <small>@(@
n_i
@)@</small> is the parent node,
the random effects is zero <small>@(@
u_{i,k} (a, t) = 0
@)@</small>.
If this data point also has the reference value for the covariates,
<small>@(@
r_{i,k} (a, t) = q_k (a, t)
@)@</small>.

<br>
<br>
<big><a name="Rate Functions.pini, p_i0(t)" id="Rate Functions.pini, p_i0(t)">pini, p_i0(t)</a></big>
<br>
We use <small>@(@
p_{i,0} (t)
@)@</small> to denote the model value
(as apposed to a measurement value)
for prevalence at the initial age as a function of time.
Note that this function is constant with respect to age <small>@(@
a
@)@</small>;
see <a href="rate_table.htm#rate_name.pini" target="_top"><span style='white-space: nowrap'>pini</span></a>
.
This is denoted by <small>@(@
r_{i,0} (a, t)
@)@</small> above.

<br>
<br>
<big><a name="Rate Functions.iota_i(a,t)" id="Rate Functions.iota_i(a,t)">iota_i(a,t)</a></big>
<br>
We use 
<code><font color="blue"><span style='white-space: nowrap'>iota_i(</span></font><i><font color="black"><span style='white-space: nowrap'>a</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>t</span></font></i><font color="blue"><span style='white-space: nowrap'>)</span></font></code>
 and <small>@(@
\iota_i (a,t)
@)@</small>
to denote the model value for adjusted susceptible incidence
as a function of age and time;
see <a href="rate_table.htm#rate_name.iota" target="_top"><span style='white-space: nowrap'>iota</span></a>
.
This is denoted by <small>@(@
r_{i,1} ( a, t )
@)@</small> above.

<br>
<br>
<big><a name="Rate Functions.rho_i(a,t)" id="Rate Functions.rho_i(a,t)">rho_i(a,t)</a></big>
<br>
We use 
<code><font color="blue"><span style='white-space: nowrap'>rho_i(</span></font><i><font color="black"><span style='white-space: nowrap'>a</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>t</span></font></i><font color="blue"><span style='white-space: nowrap'>)</span></font></code>
 and <small>@(@
\rho_i (a,t)
@)@</small>
to denote the model value for adjusted remission
as a function of age and time;
see <a href="rate_table.htm#rate_name.rho" target="_top"><span style='white-space: nowrap'>rho</span></a>
.
This is denoted by <small>@(@
r_{i,2} ( a, t )
@)@</small> above.

<br>
<br>
<big><a name="Rate Functions.chi_i(a,t)" id="Rate Functions.chi_i(a,t)">chi_i(a,t)</a></big>
<br>
We use 
<code><font color="blue"><span style='white-space: nowrap'>chi_i(</span></font><i><font color="black"><span style='white-space: nowrap'>a</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>t</span></font></i><font color="blue"><span style='white-space: nowrap'>)</span></font></code>
 and <small>@(@
\chi_i (a,t)
@)@</small>
to denote the model value for adjusted excess mortality
(mortality due to the cause) as a function of age and time.
This is denoted by <small>@(@
r_{i,3} ( a, t )
@)@</small> above.

<br>
<br>
<big><a name="Rate Functions.omega_i(a,t)" id="Rate Functions.omega_i(a,t)">omega_i(a,t)</a></big>
<br>
We use 
<code><font color="blue"><span style='white-space: nowrap'>omega_i(</span></font><i><font color="black"><span style='white-space: nowrap'>a</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>t</span></font></i><font color="blue"><span style='white-space: nowrap'>)</span></font></code>
 and <small>@(@
\omega_i (a,t)
@)@</small>
to denote the model value for adjusted other cause mortality
as a function of age and time;
see <a href="rate_table.htm#rate_name.omega" target="_top"><span style='white-space: nowrap'>omega</span></a>
.
This is denoted by <small>@(@
r_{i,4} ( a, t )
@)@</small> above.

<br>
<br>
<b><big><a name="S_i(a,t)" id="S_i(a,t)">S_i(a,t)</a></big></b>
<br>
We use <small>@(@
S_i (a,t)
@)@</small> to denote the
model value for susceptible fraction of the population.

<br>
<br>
<b><big><a name="C_i(a,t)" id="C_i(a,t)">C_i(a,t)</a></big></b>
<br>
We use <small>@(@
C_i (a,t)
@)@</small> to denote the
model value for with condition fraction of the population.


<br>
<br>
<b><big><a name="Differential Equation" id="Differential Equation">Differential Equation</a></big></b>
<br>
We drop the subscript <small>@(@
i
@)@</small> in the
<a href="avg_integrand.htm#Rate Functions.Adjusted Rate, r_ik" target="_top"><span style='white-space: nowrap'>adjusted&nbsp;rates</span></a>

to simplify notation in the equations below.
The with condition and susceptible fractions at age zero are
<small>@[@

	C (0, t) =  p_0 (t) \; , \; S (0, t) = 1 - p_0 (t)

@]@</small>
We use <small>@(@
c
@)@</small> to denote cohort; i.e., <small>@(@
t = a + c
@)@</small>,
Given the rates (initial prevalence is called a rate),
the functions <small>@(@
S (a,t)
@)@</small> and <small>@(@
C (a,t)
@)@</small> for <small>@(@
a > 0
@)@</small>
are defined by
<small>@[@

\begin{array}{rcl}
( \B{d} / \B{d} a )
S(a, a+c)
& = &
- [ \iota (a, a+c) + \omega (a, a+c) ] S(a, a+c)
+ \rho(a, a+c) C(a, a+c)
\\
( \B{d} / \B{d} a )
C(a, a+c)
& = &
+ \iota(a, a+c) S(a, a+c)
- [ \rho(a, a+c) + \chi(a, a+c) + \omega(a, a+c) ] C(a, a+c)
\end{array}

@]@</small>

<br>
<br>
<b><big><a name="Integrand, I_i(a,t)" id="Integrand, I_i(a,t)">Integrand, I_i(a,t)</a></big></b>
<br>
We use <small>@(@
I_i (a, t)
@)@</small> to denote the integrand as a function of
age and time.
Depending on the value of
see <a href="data_table.htm#integrand_id" target="_top"><span style='white-space: nowrap'>integrand_id</span></a>
 for data index <small>@(@
i
@)@</small>,
the function <small>@(@
I_i (a, t)
@)@</small> is defined below.
The age and time arguments <small>@(@
(a, t)
@)@</small>
and the subscript <small>@(@
i
@)@</small> are dropped to simplify notation.
The rates are adjusted rates.
(Integrands that do not use <small>@(@
S
@)@</small>, <small>@(@
C
@)@</small>
or <small>@(@
P
@)@</small>, do not require solving the differential equation.)

<br>
<br>
<big><a name="Integrand, I_i(a,t).Sincidence" id="Integrand, I_i(a,t).Sincidence">Sincidence</a></big>
<br>
The incidence rate relative to susceptible population is
<small>@(@
I  = \iota
@)@</small>.

<br>
<br>
<big><a name="Integrand, I_i(a,t).remission" id="Integrand, I_i(a,t).remission">remission</a></big>
<br>
The remission rate is
<small>@(@
I  = \rho
@)@</small>.

<br>
<br>
<big><a name="Integrand, I_i(a,t).mtexcess" id="Integrand, I_i(a,t).mtexcess">mtexcess</a></big>
<br>
The excess mortality rate is
<small>@(@
I  = \chi
@)@</small>.

<br>
<br>
<big><a name="Integrand, I_i(a,t).mtother" id="Integrand, I_i(a,t).mtother">mtother</a></big>
<br>
The other cause mortality rate is
<small>@(@
I  = \omega
@)@</small>.

<br>
<br>
<big><a name="Integrand, I_i(a,t).mtwith" id="Integrand, I_i(a,t).mtwith">mtwith</a></big>
<br>
The with condition mortality rate is
<small>@(@
I  = \omega  + \chi
@)@</small>.

<br>
<br>
<big><a name="Integrand, I_i(a,t).susceptible" id="Integrand, I_i(a,t).susceptible">susceptible</a></big>
<br>
The susceptible fraction of the population is
<small>@(@
I  = S
@)@</small>.

<br>
<br>
<big><a name="Integrand, I_i(a,t).withC" id="Integrand, I_i(a,t).withC">withC</a></big>
<br>
The with condition fraction of the population is
<small>@(@
I  = C
@)@</small>.

<br>
<br>
<big><a name="Integrand, I_i(a,t).prevalence" id="Integrand, I_i(a,t).prevalence">prevalence</a></big>
<br>
The prevalence of the condition is
<small>@(@
I  = P = C / ( S + C )
@)@</small>.

<br>
<br>
<big><a name="Integrand, I_i(a,t).Tincidence" id="Integrand, I_i(a,t).Tincidence">Tincidence</a></big>
<br>
The incidence rate relative to the total population is
<small>@(@
I  = \iota ( 1 - P )
@)@</small>.

<br>
<br>
<big><a name="Integrand, I_i(a,t).mtspecific" id="Integrand, I_i(a,t).mtspecific">mtspecific</a></big>
<br>
The cause specific mortality rate is
<small>@(@
I  = \chi  P
@)@</small>.

<br>
<br>
<big><a name="Integrand, I_i(a,t).mtall" id="Integrand, I_i(a,t).mtall">mtall</a></big>
<br>
The all cause mortality rate is
<small>@(@
I  = \omega  + \chi  P
@)@</small>.

<br>
<br>
<big><a name="Integrand, I_i(a,t).mtstandard" id="Integrand, I_i(a,t).mtstandard">mtstandard</a></big>
<br>
The standardized mortality ratio is
<small>@(@
I  = ( \omega  + \chi  ) / ( \omega  + \chi  P )
@)@</small>.

<br>
<br>
<big><a name="Integrand, I_i(a,t).relrisk" id="Integrand, I_i(a,t).relrisk">relrisk</a></big>
<br>
The relative risk is
<small>@(@
I  = ( \omega  + \chi  ) / \omega
@)@</small>.

<br>
<br>
<big><a name="Integrand, I_i(a,t).mulcov" id="Integrand, I_i(a,t).mulcov">mulcov</a></big>
<br>
If the <a href="integrand_table.htm#integrand_name" target="_top"><span style='white-space: nowrap'>integrand_name</span></a>
 is

<code><font color="blue"><span style='white-space: nowrap'>mulcov_</span></font><i><font color="black"><span style='white-space: nowrap'>mulcov_id</span></font></i></code>
, <small>@(@
I
@)@</small> is the covariate multiplier
corresponding to <a href="mulcov_table.htm#mulcov_id" target="_top"><span style='white-space: nowrap'>mulcov_id</span></a>
.
In this case there are no covariate that affect the measurement.

<br>
<br>
<b><big><a name="Measurement Value Covariates" id="Measurement Value Covariates">Measurement Value Covariates</a></big></b>


<br>
<br>
<big><a name="Measurement Value Covariates.K_i" id="Measurement Value Covariates.K_i">K_i</a></big>
<br>
We use <small>@(@
K_i
@)@</small> to the set of
<a href="mulcov_table.htm#covariate_id" target="_top"><span style='white-space: nowrap'>covariate_id</span></a>
 values in the mulcov table
such that the corresponding
<a href="mulcov_table.htm#integrand_id" target="_top"><span style='white-space: nowrap'>integrand_id</span></a>
 corresponds to
<small>@(@
I_i (a, t)
@)@</small>,
<a href="mulcov_table.htm#mulcov_type" target="_top"><span style='white-space: nowrap'>mulcov_type</span></a>
 is <code><font color="blue">meas_value</font></code>,
and <a href="mulcov_table.htm#group_id" target="_top"><span style='white-space: nowrap'>group_id</span></a>
 equal to <small>@(@
g_i
@)@</small>.
These are the covariates that affect the <code><i>i</i></code>-th measurement value.

<br>
<br>
<big><a name="Measurement Value Covariates.Group Measurement Covariate Multiplier, beta_j" id="Measurement Value Covariates.Group Measurement Covariate Multiplier, beta_j">Group Measurement Covariate Multiplier, beta_j</a></big>
<br>
For each covariate index <small>@(@
j \in K_i
@)@</small>,
we use <small>@(@
\beta_j (a, t)
@)@</small> to denote the
piecewise linear function corresponding to the
<a href="model_variables.htm#Fixed Effects, theta.Group Covariate Multipliers" target="_top"><span style='white-space: nowrap'>group&nbsp;covariate&nbsp;multiplier</span></a>
.
Note that these are
<a href="mulcov_table.htm#mulcov_type.meas_value" target="_top"><span style='white-space: nowrap'>meas_value</span></a>
 covariate multipliers
specified by the mulcov table.

<br>
<br>
<big><a name="Measurement Value Covariates.Subgroup Measurement Covariate Multiplier, Delta beta_j" id="Measurement Value Covariates.Subgroup Measurement Covariate Multiplier, Delta beta_j">Subgroup Measurement Covariate Multiplier, Delta beta_j</a></big>
<br>
For each covariate index <small>@(@
j \in K_i
@)@</small>,
we use <small>@(@
\Delta \beta_j (a, t)
@)@</small> to denote the
piecewise linear function corresponding to the <small>@(@
s_i
@)@</small>
<a href="model_variables.htm#Random Effects, u.Subgroup Covariate Multipliers" target="_top"><span style='white-space: nowrap'>subgroup&nbsp;covariate&nbsp;multiplier</span></a>
.

<br>
<br>
<big><a name="Measurement Value Covariates.Measurement Effect" id="Measurement Value Covariates.Measurement Effect">Measurement Effect</a></big>
<br>
The effect for the <code><i>i</i></code>-th measurement value,
as a function of the fixed effects <small>@(@
\theta
@)@</small>, is
<small>@[@

	E_i ( a, t ) = \sum_{j \in K_i}
		x_{i,j} [ \beta_j (a, t) + \Delta \beta_j (a, t) ]

@]@</small>

<br>
<br>
<b><big><a name="Adjusted Integrand" id="Adjusted Integrand">Adjusted Integrand</a></big></b>
<br>
The adjusted integrand is the following function of age and time:
<small>@[@

	I_i (a, t) \; \exp \left[ E_i (a, t) \right]

@]@</small>
Note that if <small>@(@
I_i (a, t)
@)@</small> is a covariate multiplier
<a href="avg_integrand.htm#Integrand, I_i(a,t).mulcov" target="_top"><span style='white-space: nowrap'>mulcov</span></a>
,
the adjusted integrand is equal to <small>@(@
I_i(a,t)
@)@</small>; i.e.,
there is no adjustment.

<br>
<br>
<b><big><a name="Weight Integral, wbar_i" id="Weight Integral, wbar_i">Weight Integral, wbar_i</a></big></b>
<br>
We use <small>@(@
\bar{w}_i
@)@</small> to denote the weight integral defined by
<small>@[@

\bar{w}_i = \frac{1}{b_i - a_i} \frac{1}{d_i - c_i}
\int_{a(i)}^{b(i)}  \int_{c(i)}^{d(i)} w_i (a,t) \; \B{d} t \; \B{d} a

@]@</small>

<br>
<br>
<b><big><a name="Average Integrand, A_i" id="Average Integrand, A_i">Average Integrand, A_i</a></big></b>
<br>
We use <small>@(@
u
@)@</small> and <small>@(@
\theta
@)@</small> to denote the vector of
<a href="model_variables.htm#Random Effects, u" target="_top"><span style='white-space: nowrap'>random&nbsp;effects</span></a>
 and
<a href="model_variables.htm#Fixed Effects, theta" target="_top"><span style='white-space: nowrap'>fixed&nbsp;effects</span></a>
 respectively.
The model for the <code><i>i</i></code>-th measurement,
not counting integrand effects or measurement noise, is
<small>@[@

A_i ( u , \theta )
=
\frac{1}{b_i - a_i} \frac{1}{d_i - c_i}
\left[
\int_{a(i)}^{b(i)}  \int_{c(i)}^{d(i)}
\frac{ w_i (a,t) }{ \bar{w}_i }
I_i (a, t) \; \exp \left[ E_i (a, t) \right]  \; \B{d} t \; \B{d} a
\right]
\;

@]@</small>
Note that this is actually a weighted average of the integrand function
<small>@(@
I_i (a, t)
@)@</small> times the total measurement covariate effect
<small>@(@
E_i (a, t)
@)@</small>
Also note that in the case where
<small>@(@
a(i) = b(i)
@)@</small>, <small>@(@
c(i) = d(i)
@)@</small>, or both,
the average is defined as the limiting value.


<hr>Input File: omh/model/avg_integrand.omh

</body>
</html>
