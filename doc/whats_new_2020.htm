<html>
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath:  [ ['@(@','@)@'] ] ,
    displayMath: [ ['@[@','@]@'] ]
  }
});
</script>
<script type='text/javascript' src=
'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=default'
>
</script>
<head>
<title>Changes and Additions to Dismod_at During 2020</title>
<meta http-equiv='Content-Type' content='text/html' charset='utf-8'>
<meta name="description" id="description" content="Changes and Additions to Dismod_at During 2020">
<meta name="keywords" id="keywords" content=" ">
<style type='text/css'>
body { color : black }
body { background-color : white }
A:link { color : blue }
A:visited { color : purple }
A:active { color : purple }
</style>
<script type='text/javascript' language='JavaScript' src='_whats_new_2020_htm.js'>
</script>
</head>
<body>
<table><tr>
<td>
<a href="https://bradbell.github.io/dismod_at" target="_top"><img border="0" src="_image.gif"></a>
</td>
<td>
<select onchange='choose_up0(this)'>
<option>Location-&gt;</option>
<option>dismod_at</option>
<option>release_notes</option>
<option>whats_new_2020</option>
</select>
</td>
<td>
<select onchange='choose_across0(this)'>
<option>Search-&gt;</option>
<option>contents</option>
<option>reference</option>
<option>index</option>
<option>search</option>
<option>external</option>
</select>
</td>
<td><a href="whats_new_2021.htm" target="_top">Prev</a>
</td><td><a href="whats_new_2019.htm" target="_top">Next</a>
</td><td>
<script type='text/javascript' language='JavaScript' src='_childtable_dismod_at_htm.js'></script>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_release_notes_htm.js'></script>
</td>
<td>whats_new_2020</td>
<td>
<select onchange='choose_current0(this)'>
<option>Heading-&gt;</option>
<option>mm-dd</option>
<option>---..12-30</option>
<option>---..12-29</option>
<option>---..12-26</option>
<option>---..12-22</option>
<option>---..12-17</option>
<option>---..11-24</option>
<option>---..11-22</option>
<option>---..11-23</option>
<option>---..10-10</option>
<option>---..08-31</option>
<option>---..08-23</option>
<option>---..08-20</option>
<option>---..08-16</option>
<option>---..07-02</option>
<option>---..07-01</option>
<option>---..06-30</option>
<option>---..06-24</option>
<option>---..06-20</option>
<option>---..06-08</option>
<option>---..05-30</option>
<option>---..05-29</option>
<option>---..05-27</option>
<option>---..05-21</option>
<option>---..05-15</option>
<option>---..03-28</option>
<option>---..03-27</option>
<option>---..03-26</option>
<option>---..03-25</option>
<option>---..03-24</option>
<option>---..03-23</option>
<option>---..03-22</option>
<option>---..03-21</option>
<option>---..03-19</option>
<option>---..03-18</option>
<option>---..03-15</option>
<option>---..03-09</option>
<option>---..03-06</option>
<option>---..02-29</option>
<option>---..02-28</option>
<option>---..02-26</option>
<option>---..02-20</option>
<option>---..02-18</option>
<option>---..02-14</option>
<option>---..02-13</option>
<option>---..01-31</option>
<option>---..01-16</option>
<option>---..01-08</option>
<option>---..01-07</option>
</select>
</td>
</tr></table><br>
@(@\newcommand{\B}[1]{ {\bf #1} }
\newcommand{\R}[1]{ {\rm #1} }
\newcommand{\W}[1]{ \; #1 \; }@)@




<b>This is old dismod documentation:</b> Here is a link to its
<a href="http://bradbell.github.io/dismod_at" target="_top"><span style='white-space: nowrap'>current&nbsp;documentation</span></a>
.

<center><b><big><big>Changes and Additions to Dismod_at During 2020</big></big></b></center>
<br>
<b><big><a name="mm-dd" id="mm-dd">mm-dd</a></big></b>


<br>
<br>
<big><a name="mm-dd.12-30" id="mm-dd.12-30">12-30</a></big>
<br>
The
<a href="prior_sim_table.htm" target="_top"><span style='white-space: nowrap'>prior_sim_table</span></a>
,
<a href="hes_fixed_table.htm" target="_top"><span style='white-space: nowrap'>hes_fixed_table</span></a>
,
and <a href="hes_random_table.htm" target="_top"><span style='white-space: nowrap'>hes_random_table</span></a>

<a href="data_flow.htm#Output Tables by Table Name" target="_top"><span style='white-space: nowrap'>output&nbsp;tables</span></a>

were not being dropped (if they existed) during the <a href="init_command.htm" target="_top"><span style='white-space: nowrap'>init_command</span></a>
.
This has been fixed.

<br>
<br>
<big><a name="mm-dd.12-29" id="mm-dd.12-29">12-29</a></big>
<br>
Fix a problem when creating both debug and release builds.
(This was not a problem before 12-22 when build/external moved to external).

<br>
<br>
<big><a name="mm-dd.12-26" id="mm-dd.12-26">12-26</a></big>

<ol type="1"><li>
Change <code><font color="blue">bin/db_simplify.py</font></code> from a Chron's Disease to a Diabetes case.
</li><li>

Add a log density item and a
<a href="wish_list.htm#Speed" target="_top"><span style='white-space: nowrap'>speed</span></a>
 item to the wish list.
Remove the checkpointing item
,and change the conditional item heading to
<a href="wish_list.htm#ODE Solution.rate_case" target="_top"><span style='white-space: nowrap'>rate_case</span></a>
.
</li></ol>


<br>
<br>
<big><a name="mm-dd.12-22" id="mm-dd.12-22">12-22</a></big>
<br>
Advance to cppad_mixed-20201222.
This improves the error messaging during the install of
<a href="install_unix.htm#Special Requirements.cppad_mixed" target="_top"><span style='white-space: nowrap'>cppad_mixed.sh</span></a>
.
In addition, this new version avoids ipopt creating of the file
<code><font color="blue">debug.out</font></code> (when <a href="run_cmake.sh.htm#build_type" target="_top"><span style='white-space: nowrap'>build_type</span></a>
 is debug).

<br>
<br>
<big><a name="mm-dd.12-17" id="mm-dd.12-17">12-17</a></big>

<ol type="1"><li>
The example <a href="user_sum_residual.py.htm" target="_top"><span style='white-space: nowrap'>user_sum_residual.py</span></a>
 discusses why the sum
of the weighted residuals is not expected to be zero.
</li><li>

Under the heading
<a href="install_unix.htm#Paths.PKG_CONFIG_PATH" target="_top"><span style='white-space: nowrap'>PKG_CONFIG_PATH</span></a>

the command option <code><font color="blue">--version</font></code> was corrected to <code><font color="blue">--modversion</font></code>.
</li><li>

The scripts <code><font color="blue">bin/csv_summary.py</font></code> and <code><font color="blue">bin/db_simplify.py</font></code>
were added. These are undocumented and untested and only meant as examples
to help diagnose problems.
</li></ol>



<br>
<br>
<big><a name="mm-dd.11-24" id="mm-dd.11-24">11-24</a></big>
<br>
Advance <a href="dock_dismod_at.sh.htm" target="_top"><span style='white-space: nowrap'>dock_dismod_at.sh</span></a>
 version 20201122.
This should speed up the build process.
It requires one to re-build dismod_at.mixed and dismod_at.image.


<br>
<br>
<big><a name="mm-dd.11-22" id="mm-dd.11-22">11-22</a></big>
<br>
Advance to cppad_mixed-20201124.
This speeds up the build process when multiple processors are available.
It also fixes a problem in <code><font color="blue">cppad_mixed.pc</font></code> and thereby removes the need
to specify a prefix for each of the
<a href="install_unix.htm#Special Requirements" target="_top"><span style='white-space: nowrap'>special&nbsp;requirements</span></a>
.

<br>
<br>
<big><a name="mm-dd.11-23" id="mm-dd.11-23">11-23</a></big>

<ol type="1"><li>
Advance to cppad_mixed and <a href="dock_dismod_at.sh.htm" target="_top"><span style='white-space: nowrap'>dock_dismod_at.sh</span></a>
 version 20201122.
This simplifies the build process because the script for building
and installing cppad_mixed, and its dependencies, come from cppad_mixed.
In addition, it speed up the build process when multiple processors
are available.
</li><li>

<b>API change</b> for <a href="dock_dismod_at.sh.htm" target="_top"><span style='white-space: nowrap'>dock_dismod_at.sh</span></a>
.
To be specific, there are now three dismod_at docker images:
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.base" target="_top"><span style='white-space: nowrap'>dismod_at.base</span></a>
,
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.mixed" target="_top"><span style='white-space: nowrap'>dismod_at.mixed</span></a>
,
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.image" target="_top"><span style='white-space: nowrap'>dismod_at.image</span></a>
.
You must rebuild all of these images.
</li></ol>


<br>
<br>
<big><a name="mm-dd.10-10" id="mm-dd.10-10">10-10</a></big>
<br>
Improve the wording in the documentation of
<a href="prior_table.htm#std" target="_top"><span style='white-space: nowrap'>std</span></a>
 in the prior table.

<br>
<br>
<big><a name="mm-dd.08-31" id="mm-dd.08-31">08-31</a></big>
<br>
Advance to cppad_mixed and <a href="dock_dismod_at.sh.htm" target="_top"><span style='white-space: nowrap'>dock_dismod_at.sh</span></a>
 version 20200831.
This fixes a bug in the calculation of the first derivative of
the fixed effects objective.
This bug only occurred when <code><font color="blue">ldlt_cholmod</font></code> was <code><font color="blue">yes</font></code> in
<code><font color="blue">bin/install_cppad_mixed.sh</font></code> and
the factorization of the random effects Hessian had a permutation
that did not act as its own inverse.
To use the new dock_dismod_at.sh you will have to build a new
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.image" target="_top"><span style='white-space: nowrap'>dismod_at.image</span></a>
.


<br>
<br>
<big><a name="mm-dd.08-23" id="mm-dd.08-23">08-23</a></big>

<ol type="1"><li>
Fix location of upstream source in
<code><font color="blue">bin/install_eigen</font></code>.
</li><li>

Patch Ipopt's source file <code><font color="blue">IpIpoptApplication.cpp</font></code>; see
<a href="https://github.com/coin-or/Ipopt/issues/393" target="_top"><span style='white-space: nowrap'>ipopt&nbsp;issue&nbsp;393</span></a>
.
</li></ol>


<br>
<br>
<big><a name="mm-dd.08-20" id="mm-dd.08-20">08-20</a></big>
<br>
Change <code><font color="blue">bin/install_ipopt.sh</font></code> to directly download and configure the
necessary third party software (not use coinbrew).

<br>
<br>
<big><a name="mm-dd.08-16" id="mm-dd.08-16">08-16</a></big>
<br>
Improve the debug <a href="run_cmake.sh.htm#build_type" target="_top"><span style='white-space: nowrap'>build_type</span></a>

so that ipopt and all its libraries also get built for debugging.

<br>
<br>
<big><a name="mm-dd.07-02" id="mm-dd.07-02">07-02</a></big>

<ol type="1"><li>
Fix a problem with the change on the previous day (see 07-01 below).
To be specific, the tables for the Hessian with respect to the fixed
and random effect were not being created in some error cases that
should create them (to help diagnose the problem).
This required advancing to cppad_mixed-20200702.
</li><li>

Advance the dock_dismod_at.sh
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at_version" target="_top"><span style='white-space: nowrap'>dismod_at_version</span></a>

to 20200702.
This will require building a new
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.image" target="_top"><span style='white-space: nowrap'>dismod_at.image</span></a>
.
</li></ol>


<br>
<br>
<big><a name="mm-dd.07-01" id="mm-dd.07-01">07-01</a></big>
<br>
Dismod_at will exit with an error when the
<a href="sample_command.htm#Output Tables.sample_table" target="_top"><span style='white-space: nowrap'>sample_table</span></a>

is not created by the
<a href="sample_command.htm#asymptotic" target="_top"><span style='white-space: nowrap'>sample&nbsp;asymptotic</span></a>
 command.
If this is because the fixed effects information matrix is not
positive definite,
the <a href="hes_fixed_table.htm" target="_top"><span style='white-space: nowrap'>hes_fixed_table</span></a>
 will contain the information matrix

<br>
<br>
<big><a name="mm-dd.06-30" id="mm-dd.06-30">06-30</a></big>
<br>
Advance to cppad_mixed-20200630.
This fixes a problem where the <a href="sample_table.htm" target="_top"><span style='white-space: nowrap'>sample_table</span></a>
 was invalid after the
<a href="sample_command.htm#asymptotic" target="_top"><span style='white-space: nowrap'>sample&nbsp;asymptotic</span></a>
 command
when an information matrix that is not positive definite.
Now, in addition to the warning about the information matrix,
the sample table does not exist after the command when this happens.

<br>
<br>
<big><a name="mm-dd.06-24" id="mm-dd.06-24">06-24</a></big>
<br>
Advance to the dock_dismod_at.sh
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at_version" target="_top"><span style='white-space: nowrap'>dismod_at_version</span></a>

to 20200620
This will require building a new
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.base" target="_top"><span style='white-space: nowrap'>dismod_at.base</span></a>

and then
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.image" target="_top"><span style='white-space: nowrap'>dismod_at.image</span></a>
.

<br>
<br>
<big><a name="mm-dd.06-20" id="mm-dd.06-20">06-20</a></big>
<br>
The <a href="sample_command.htm#variables" target="_top"><span style='white-space: nowrap'>variables</span></a>
 argument was added
to the sample command.
This enables one to get statistics for fitting just the fixed effects.
It is not backward compatible because you will have to include the

<code><i><font color="black"><span style='white-space: nowrap'>variables</span></font></i></code>
 argument in your sample commands.
To get the old behavior, set 
<code><i><font color="black"><span style='white-space: nowrap'>variables</span></font></i></code>
 to <code><font color="blue">both</font></code>.

<br>
<br>
<big><a name="mm-dd.06-08" id="mm-dd.06-08">06-08</a></big>
<br>
Advance to ipopt-3.13.2, cppad-20200606, cppad_mixed-20200608.

<br>
<br>
<big><a name="mm-dd.05-30" id="mm-dd.05-30">05-30</a></big>
<br>
Advance to <code><font color="blue">cppad_mixed-20200530</font></code>
(more work on the adaptive derivative checker).

<br>
<br>
<big><a name="mm-dd.05-29" id="mm-dd.05-29">05-29</a></big>

<ol type="1"><li>
A check was added for the case where there are more constraints on the random
effects than there are random effects.
</li><li>

Add the <a href="user_subgroup_mulcov.py.htm" target="_top"><span style='white-space: nowrap'>user_subgroup_mulcov.py</span></a>
 example.
This combines fixed and random effects for both parent/child and
group/subgroup and for the same rate.
</li><li>

The standard deviation was removed from the prior for some
uniform priors in <a href="user_bilevel_random.py.htm" target="_top"><span style='white-space: nowrap'>user_bilevel_random.py</span></a>

(it was not being used).
</li><li>

Advance to <code><font color="blue">cppad_mixed-20200529</font></code>.
This adds a missing error report when the Hessian w.r.t. the random
effects is not positive definite at the starting variable values and
<a href="option_table.htm#Optimize Fixed Only.quasi_fixed" target="_top"><span style='white-space: nowrap'>quasi_fixed</span></a>
 is false.
</li></ol>


<br>
<br>
<big><a name="mm-dd.05-27" id="mm-dd.05-27">05-27</a></big>
<br>
Advance to <code><font color="blue">cppad_mixed-20200527</font></code>.
This should improve the output generated by the
<a href="option_table.htm#Optimize Fixed and Random.derivative_test" target="_top"><span style='white-space: nowrap'>derivative_test</span></a>

<code><font color="blue">trace-adaptive</font></code> option.


<br>
<br>
<big><a name="mm-dd.05-21" id="mm-dd.05-21">05-21</a></big>
<br>
The <a href="user_covid_19.py.htm" target="_top"><span style='white-space: nowrap'>user_covid_19.py</span></a>
 example was added.

<br>
<br>
<big><a name="mm-dd.05-15" id="mm-dd.05-15">05-15</a></big>
<br>
Add another restriction on the <a href="subgroup_table.htm#group_name" target="_top"><span style='white-space: nowrap'>group_name</span></a>
.
To be specific, the only case were a group name can also be a subgroup name
is when the group has only one subgroup and the same name is used for both.
In addition, more subgroup table error checking (that used to be only
in the debug version) is done in the release version of dismod_at.


<br>
<br>
<big><a name="mm-dd.03-28" id="mm-dd.03-28">03-28</a></big>

<ol type="1"><li>
Add simplification to the scaling of the asymptotic statistics
in the case were we have
<a href="user_hes_fixed_math.py.htm#Scaling Fixed Effects.Optimal Fixed Effects" target="_top"><span style='white-space: nowrap'>optimal&nbsp;fixed&nbsp;effects</span></a>
.
</li><li>

Advance to <code><font color="blue">cppad_mixed-20200328</font></code>.
This a bug in the release version during
<a href="sample_command.htm#asymptotic" target="_top"><span style='white-space: nowrap'>asymptotic</span></a>
 sampling
when there are no random effects.
</li></ol>


<br>
<br>
<big><a name="mm-dd.03-27" id="mm-dd.03-27">03-27</a></big>

<ol type="1"><li>
Add the <a href="user_one_function.py.htm" target="_top"><span style='white-space: nowrap'>user_one_function.py</span></a>
 which demonstrates how to
fit an arbitrary function and ignore the dismod_at
<a href="avg_integrand.htm#Ordinary Differential Equation" target="_top"><span style='white-space: nowrap'>differential&nbsp;equation</span></a>
.
</li><li>

Add the <a href="option_table.htm#rate_case.no_ode" target="_top"><span style='white-space: nowrap'>no_ode</span></a>
 option
to the rate case in the option table.
This was necessary to simplify the one function example mentioned above.
</li><li>

The <a href="prior_table.htm#std.Log Scaling" target="_top"><span style='white-space: nowrap'>log&nbsp;scaling</span></a>
 discussion
for standard deviations in the prior table was edited to make it clearer
that difference standard deviations are not transformed.
</li><li>

The discussion of log transformed standard deviations 
<code><i><font color="black"><span style='white-space: nowrap'>sigma</span></font></i></code>

was edited to make it clearer why it is different for data
than it is for priors.
</li><li>

Remove incorrect sentence about the simulated random effects depending
on the simulated fixed effects in the
<a href="sample_command.htm#asymptotic" target="_top"><span style='white-space: nowrap'>asymptotic</span></a>
 method.
</li></ol>



<br>
<br>
<big><a name="mm-dd.03-26" id="mm-dd.03-26">03-26</a></big>
<br>
The <code><font color="blue">user_posterior.py</font></code> example was moved to
<a href="user_sample_asy_sim.py.htm" target="_top"><span style='white-space: nowrap'>user_sample_asy_sim.py</span></a>
 and it was extended to include the
asymptotic sampling method.

<br>
<br>
<big><a name="mm-dd.03-25" id="mm-dd.03-25">03-25</a></big>

<ol type="1"><li>
Advance to <code><font color="blue">cppad_mixed-20200325</font></code>.
This fixed an assert in the debug version during
<a href="sample_command.htm#asymptotic" target="_top"><span style='white-space: nowrap'>asymptotic</span></a>
 sampling
when there are no random effects.
</li><li>

If during asymptotic sampling the Hessian of the fixed or random
effects object is not positive definite, print a warning and do not
create a sample table (instead of filling the sample table with nulls);
see <a href="sample_command.htm#Output Tables.No Sample Table" target="_top"><span style='white-space: nowrap'>no&nbsp;sample&nbsp;table</span></a>
.
This fixed a bug where the <a href="db2csv_command.htm" target="_top"><span style='white-space: nowrap'>db2csv_command</span></a>
 tried to average null values.
</li><li>

The sample command asymptotic method uses a normal distribution,
but the scaled fixed effects variables are normal in the scaled space; see
<a href="sample_command.htm#asymptotic.Fixed Effects Distribution" target="_top"><span style='white-space: nowrap'>fixed&nbsp;effects&nbsp;distribution</span></a>

</li><li>

Add a test of
<a href="user_hes_fixed_math.py.htm#Scaling Fixed Effects" target="_top"><span style='white-space: nowrap'>scaling&nbsp;fixed&nbsp;effects</span></a>

to the <code><font color="blue">hes_fixed_math.py</font></code> example.
</li><li>

Advance to the dock_dismod_at.sh
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at_version" target="_top"><span style='white-space: nowrap'>dismod_at_version</span></a>

to 20200325.
This will require building a new
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.image" target="_top"><span style='white-space: nowrap'>dismod_at.image</span></a>
.
</li></ol>


<br>
<br>
<big><a name="mm-dd.03-24" id="mm-dd.03-24">03-24</a></big>

<ol type="1"><li>
The Hessian tables are now guaranteed to be in row major order; see
representation for the
<a href="hes_fixed_table.htm#Representation" target="_top"><span style='white-space: nowrap'>hes_fixed</span></a>
 and
<a href="hes_random_table.htm#Representation" target="_top"><span style='white-space: nowrap'>hes_random</span></a>
 tables.
</li><li>

The values in <a href="hes_fixed_table.htm" target="_top"><span style='white-space: nowrap'>hes_fixed_table</span></a>
 are now in scaled space; see
<a href="prior_table.htm#eta.Scaling Fixed Effects" target="_top"><span style='white-space: nowrap'>scaling&nbsp;fixed&nbsp;effects</span></a>
.
</li><li>

Create separate tables, in the data flow section, for the
<a href="data_flow.htm#Command Output Tables" target="_top"><span style='white-space: nowrap'>command&nbsp;output&nbsp;tables</span></a>
 and
<a href="data_flow.htm#Command Extra Input Tables" target="_top"><span style='white-space: nowrap'>command&nbsp;extra&nbsp;input&nbsp;tables</span></a>
.
</li><li>

Add the <a href="db2csv_command.htm#hes_fixed.csv" target="_top"><span style='white-space: nowrap'>hes_fixed.csv</span></a>
 and
<a href="db2csv_command.htm#hes_random.csv" target="_top"><span style='white-space: nowrap'>hes_random.csv</span></a>
 output files
to the db2csv command.
</li><li>

Check the <code><font color="blue">hes_random.csv</font></code> file at the end of the
<a href="user_hes_random.py.htm" target="_top"><span style='white-space: nowrap'>user_hes_random.py</span></a>
 example.
</li></ol>


<br>
<br>
<big><a name="mm-dd.03-23" id="mm-dd.03-23">03-23</a></big>

<ol type="1"><li>
Update to using version cppad_mixed-20200319.
This enables computation of the Hessian of the random effects objective.
</li><li>

Add the <a href="hes_random_table.htm" target="_top"><span style='white-space: nowrap'>hes_random_table</span></a>
 as an output during an
<a href="sample_command.htm#asymptotic" target="_top"><span style='white-space: nowrap'>asymptotic</span></a>
 sample command.
Add the <a href="user_hes_random.py.htm" target="_top"><span style='white-space: nowrap'>user_hes_random.py</span></a>
 example use of the hes_random table.
</li></ol>


<br>
<br>
<big><a name="mm-dd.03-22" id="mm-dd.03-22">03-22</a></big>

<ol type="1"><li>
Add the <a href="sample_command.htm#Output Tables.hes_fixed_table" target="_top"><span style='white-space: nowrap'>hes_fixed&nbsp;table</span></a>

as an extra output when computing asymptotic samples.
</li><li>

The <code><font color="blue">user_asymptotic_math.py</font></code> example
was renamed to <a href="user_hes_fixed_math.py.htm" target="_top"><span style='white-space: nowrap'>user_hes_fixed_math.py</span></a>
 because it checks
the <a href="hes_fixed_table.htm" target="_top"><span style='white-space: nowrap'>hes_fixed_table</span></a>
.
</li><li>

Add a connecting sentence about computation before the equations
for the derivatives of
<small>@(@
\hat{u}_i ( \theta )
@)@</small> and <small>@(@
g_i ( \theta )
@)@</small>.
</li><li>

The asymptotic sampling of the random effects was changed to use the
a fixed Hessian w.r.t the random effects for all the samples.
Trying to optimize the random effects given the simulated fixed effects,
without changing the data, often fails and does not make sense.
</li></ol>


<br>
<br>
<big><a name="mm-dd.03-21" id="mm-dd.03-21">03-21</a></big>
<br>
Add the <a href="user_hes_fixed_math.py.htm" target="_top"><span style='white-space: nowrap'>user_hes_fixed_math.py</span></a>
 example.

<br>
<br>
<big><a name="mm-dd.03-19" id="mm-dd.03-19">03-19</a></big>
<br>
Update to using version cppad_mixed-20200319.
This fixes some asserts during the
<a href="sample_command.htm#asymptotic" target="_top"><span style='white-space: nowrap'>asymptotic</span></a>
 sampling method
in the debug build.

<br>
<br>
<big><a name="mm-dd.03-18" id="mm-dd.03-18">03-18</a></big>

<ol type="1"><li>
Advance the dock_dismod_at.sh
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at_version" target="_top"><span style='white-space: nowrap'>dismod_at_version</span></a>

to 20200318.
This will require building a new
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.image" target="_top"><span style='white-space: nowrap'>dismod_at.image</span></a>
.
</li><li>

Add the <a href="sample_command.htm#simulate_index" target="_top"><span style='white-space: nowrap'>simulate_index</span></a>
 argument
to the asymptotic version of the sample command.
This fixed a bug where the asymptotic statistics for a fit using
simulated data was using
<a href="data_table.htm#meas_value" target="_top"><span style='white-space: nowrap'>meas_value</span></a>

when it should have been using
<a href="data_sim_table.htm#data_sim_value" target="_top"><span style='white-space: nowrap'>data_sim_value</span></a>
.
</li><li>

Fix a bug in the sampling of the random effect using the
<a href="sample_command.htm#asymptotic" target="_top"><span style='white-space: nowrap'>asymptotic</span></a>
 method.
</li><li>

The <a href="user_speed.py.htm" target="_top"><span style='white-space: nowrap'>user_speed.py</span></a>
 example was improved.
More documentation was added,
it has a realistic parent and child grids, and
it works with both quasi-Newton and Newton method,
and it includes an example / test of the asymptotic statistics.
</li></ol>


<br>
<br>
<big><a name="mm-dd.03-15" id="mm-dd.03-15">03-15</a></big>

<ol type="1"><li>
Advance the dock_dismod_at.sh
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at_version" target="_top"><span style='white-space: nowrap'>dismod_at_version</span></a>

to 20200315.
This will require building a new
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.image" target="_top"><span style='white-space: nowrap'>dismod_at.image</span></a>
.
</li><li>

The sample command
<a href="sample_command.htm#asymptotic" target="_top"><span style='white-space: nowrap'>asymptotic</span></a>
 method
was changed to ignore all the constraints except for
<a href="model_variables.htm" target="_top"><span style='white-space: nowrap'>model_variables</span></a>
 that have their upper and lower limits equal.
This should speed up the computation of the asymptotic statics.
It also provides a way to approximation the Hessian of the fixed effect
objective (as the inverse of the sample covariance).
Note that the simulated samples may be outside the bounds for the
corresponding variables;
see <a href="sample_command.htm#Bounds" target="_top"><span style='white-space: nowrap'>bounds</span></a>
.
Also note that the <a href="predict_command.htm" target="_top"><span style='white-space: nowrap'>predict_command</span></a>
 censors the samples
to be within their limits before computing its predictions.
</li><li>

Some minor corrections were made to the discussion of the
<a href="user_sample_asy.py.htm" target="_top"><span style='white-space: nowrap'>user_sample_asy.py</span></a>
 example; e.g.
<small>@(@
\iota_c
@)@</small> and <small>@(@
\iota_m
@)@</small> where changed to <small>@(@
\iota_n
@)@</small>.
In addition, the
<a href="user_sample_asy.py.htm#Problem Parameters" target="_top"><span style='white-space: nowrap'>problem&nbsp;parameters</span></a>

were include in the documentation.
</li></ol>


<br>
<br>
<big><a name="mm-dd.03-09" id="mm-dd.03-09">03-09</a></big>

<ol type="1"><li>
There was a bug in the smoothing when there was a
upper or lower bound in the prior for
<a href="smooth_grid_table.htm#dage_prior_id" target="_top"><span style='white-space: nowrap'>dage</span></a>
 or
<a href="smooth_grid_table.htm#dtime_prior_id" target="_top"><span style='white-space: nowrap'>dtime</span></a>
 prior
for a fixed effect that was scaled; see
<a href="prior_table.htm#eta.Scaling Fixed Effects" target="_top"><span style='white-space: nowrap'>scaling&nbsp;fixed&nbsp;effects</span></a>
.
This has been fixed.
</li><li>

Advance the dock_dismod_at.sh
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at_version" target="_top"><span style='white-space: nowrap'>dismod_at_version</span></a>

to 20200309.
This will require building a new
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.image" target="_top"><span style='white-space: nowrap'>dismod_at.image</span></a>
.
</li></ol>


<br>
<br>
<big><a name="mm-dd.03-06" id="mm-dd.03-06">03-06</a></big>
<br>
The <code><font color="blue">jump_at_age.py</font></code> example has been improved
to include more discussion and the flexibility to change its
<a href="user_jump_at_age.py.htm#Parameters" target="_top"><span style='white-space: nowrap'>parameters</span></a>
.

<br>
<br>
<big><a name="mm-dd.02-29" id="mm-dd.02-29">02-29</a></big>

<ol type="1"><li>
Add the <a href="user_residual.py.htm" target="_top"><span style='white-space: nowrap'>user_residual.py</span></a>
 example.
</li><li>

If the user specified the
<a href="option_table.htm#Parent Node.parent_node_id" target="_top"><span style='white-space: nowrap'>parent_node_id</span></a>

in the option table, the corresponding parent node name is placed in the
<a href="db2csv_command.htm#option.csv" target="_top"><span style='white-space: nowrap'>option.csv</span></a>
.
</li></ol>


<br>
<br>
<big><a name="mm-dd.02-28" id="mm-dd.02-28">02-28</a></big>
<br>
Fix the formula for the age smoothing <a href="smooth_dage.htm#A^s" target="_top"><span style='white-space: nowrap'>A^s</span></a>
,
and the time smoothing <a href="smooth_dtime.htm#T^s" target="_top"><span style='white-space: nowrap'>T^s</span></a>
.
To be specific, the forward index comes before the current index; e.g.,
<small>@(@
D(v_{i,j}, v_{i+1,j} \ldots )
@)@</small> was replaced by
<small>@(@
D(v_{i+1,j}, v_{i,j} \ldots )
@)@</small>.

<br>
<br>
<big><a name="mm-dd.02-26" id="mm-dd.02-26">02-26</a></big>

<ol type="1"><li>
Add an <a href="wish_list.htm#Immunity" target="_top"><span style='white-space: nowrap'>immunity</span></a>
 wish list item.
</li><li>

Discuss the difference between the weighted residual in the log scaled
<a href="statistic.htm#Weighted Residual Function, R.Value" target="_top"><span style='white-space: nowrap'>value</span></a>

and the log scaled
<a href="statistic.htm#Weighted Residual Function, R.Difference" target="_top"><span style='white-space: nowrap'>difference</span></a>

cases.
</li><li>

Discuss the difference in the definition of the
<small>@(@
\sigma
@)@</small> in the data versus prior cases.
</li></ol>



<br>
<br>
<big><a name="mm-dd.02-20" id="mm-dd.02-20">02-20</a></big>
<br>
Advance the dock_dismod_at.sh
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at_version" target="_top"><span style='white-space: nowrap'>dismod_at_version</span></a>

to 20200218.
This will require building a new
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.image" target="_top"><span style='white-space: nowrap'>dismod_at.image</span></a>
.


<br>
<br>
<big><a name="mm-dd.02-18" id="mm-dd.02-18">02-18</a></big>
<br>
The <code><font color="blue">dismod_at</font></code> program would crash if the

<code><i><font color="black"><span style='white-space: nowrap'>subgroup_id</span></font></i></code>
 in the
<a href="data_table.htm#subgroup_id" target="_top"><span style='white-space: nowrap'>data_table</span></a>
 or
<a href="avgint_table.htm#subgroup_id" target="_top"><span style='white-space: nowrap'>avgint_table</span></a>
 as null.
This has been fixed by detecting this case and printing an error message.


<br>
<br>
<big><a name="mm-dd.02-14" id="mm-dd.02-14">02-14</a></big>
<br>
The description of the <a href="data_table.htm#hold_out" target="_top"><span style='white-space: nowrap'>hold_out</span></a>
 data
has been improved.

<br>
<br>
<big><a name="mm-dd.02-13" id="mm-dd.02-13">02-13</a></big>

<ol type="1"><li>
The <a href="age_table.htm#age_id" target="_top"><span style='white-space: nowrap'>age_id</span></a>
 and <a href="time_table.htm#time_id" target="_top"><span style='white-space: nowrap'>time_id</span></a>

values in the <a href="smooth_grid_table.htm" target="_top"><span style='white-space: nowrap'>smooth_grid_table</span></a>
 and <a href="weight_grid_table.htm" target="_top"><span style='white-space: nowrap'>weight_grid_table</span></a>
 were
not being checked for validity.
This has been changed so that the user gets an informative error message
when they are outside the valid limits.
</li><li>

Advance the dock_dismod_at.sh
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at_version" target="_top"><span style='white-space: nowrap'>dismod_at_version</span></a>

to 20200213.
This will require building a new
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.image" target="_top"><span style='white-space: nowrap'>dismod_at.image</span></a>
.
</li></ol>


<br>
<br>
<big><a name="mm-dd.01-31" id="mm-dd.01-31">01-31</a></big>
<br>
A <a href="wish_list.htm#Simulating Priors" target="_top"><span style='white-space: nowrap'>simulating&nbsp;priors</span></a>
 entry
was added to the wish list.

<br>
<br>
<big><a name="mm-dd.01-16" id="mm-dd.01-16">01-16</a></big>
<br>
Add an optimizer warm start
wish list item.

<br>
<br>
<big><a name="mm-dd.01-08" id="mm-dd.01-08">01-08</a></big>

<ol type="1"><li>
Add documentation for the arguments
<a href="dock_dismod_at.sh.htm#Run New Container.database" target="_top"><span style='white-space: nowrap'>database</span></a>
 and
<a href="dock_dismod_at.sh.htm#Run New Container.command" target="_top"><span style='white-space: nowrap'>command</span></a>
 under
running a new container.
</li><li>

Advance the dock_dismod_at.sh
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at_version" target="_top"><span style='white-space: nowrap'>dismod_at_version</span></a>

to 2020010.
of <code><font color="blue">dock_dismod_at.sh</font></code>.
This will require building a new
<a href="dock_dismod_at.sh.htm#Building Images.dismod_at.image" target="_top"><span style='white-space: nowrap'>dismod_at.image</span></a>
.
</li></ol>


<br>
<br>
<big><a name="mm-dd.01-07" id="mm-dd.01-07">01-07</a></big>
<br>
Fix the following compile error when <code><font color="blue">NDEBUG</font></code> is not defined:

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>...</span></font></i><font color="blue"><span style='white-space: nowrap'>/devel/table/get_subgroup_table.cpp:128:31:&nbsp;error:<br>
&nbsp;&nbsp;&nbsp;'subgroup_id'&nbsp;was&nbsp;not&nbsp;declared&nbsp;in&nbsp;this&nbsp;scope<br>
</span></font></code>

<hr>Input File: omh/whats_new/2020.omh

</body>
</html>
