<html>
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath:  [ ['@(@','@)@'] ] ,
    displayMath: [ ['@[@','@]@'] ]
  }
});
</script>
<script type='text/javascript' src=
'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=default'
>
</script>
<head>
<title>Priors in Variable ID Order</title>
<meta http-equiv='Content-Type' content='text/html' charset='utf-8'>
<meta name="description" id="description" content="Priors in Variable ID Order">
<meta name="keywords" id="keywords" content=" priors variable id order syntax prototype notation var_id prior_id pack_object s_info_vec var2prior size const_value smooth_id value_prior_id dage_prior_id dtime_prior_id dage_var_id dtime_var_id fixed_effect example ">
<style type='text/css'>
body { color : black }
body { background-color : white }
A:link { color : blue }
A:visited { color : purple }
A:active { color : purple }
</style>
<script type='text/javascript' language='JavaScript' src='_pack_prior_htm.js'>
</script>
</head>
<body>
<table><tr>
<td>
<a href="https://github.com/bradbell/dismod_at" target="_top"><img border="0" src="_image.gif"></a>
</td>
<td>
<select onchange='choose_up0(this)'>
<option>Location-&gt;</option>
<option>dismod_at</option>
<option>devel</option>
<option>devel_utility</option>
<option>pack_prior</option>
</select>
</td>
<td>
<select onchange='choose_across0(this)'>
<option>Search-&gt;</option>
<option>contents</option>
<option>reference</option>
<option>index</option>
<option>search</option>
<option>external</option>
</select>
</td>
<td><a href="pack_info_xam.cpp.htm" target="_top">Prev</a>
</td><td>
<select onchange='choose_current0(this)'>
<option>Current-&gt;</option>
<option>Syntax</option>
<option>Prototype</option>
<option>Notation</option>
<option>---..var_id</option>
<option>---..prior_id</option>
<option>pack_object</option>
<option>s_info_vec</option>
<option>var2prior</option>
<option>size</option>
<option>const_value</option>
<option>smooth_id</option>
<option>value_prior_id</option>
<option>dage_prior_id</option>
<option>dtime_prior_id</option>
<option>dage_var_id</option>
<option>dtime_var_id</option>
<option>fixed_effect</option>
<option>Example</option>
</select>
</td>
<td><a href="pack_prior_xam.cpp.htm" target="_top">Next</a>
</td><td>
<select onchange='choose_down3(this)'>
<option>dismod_at-&gt;</option>
<option>math_abstract</option>
<option>install_unix</option>
<option>get_started</option>
<option>user</option>
<option>database</option>
<option>model</option>
<option>command</option>
<option>python</option>
<option>devel</option>
<option>whats_new_2018</option>
<option>wish_list</option>
</select>
</td>
<td>
<select onchange='choose_down2(this)'>
<option>devel-&gt;</option>
<option>devel_table</option>
<option>devel_utility</option>
<option>devel_model</option>
</select>
</td>
<td>
<select onchange='choose_down1(this)'>
<option>devel_utility-&gt;</option>
<option>a1_double</option>
<option>avgint_subset</option>
<option>bilinear_interp</option>
<option>child_info</option>
<option>cohort_ode</option>
<option>data_subset</option>
<option>eigen_ode2</option>
<option>error_exit</option>
<option>fixed_effect</option>
<option>get_prior_mean</option>
<option>number_random_const</option>
<option>age_avg_grid</option>
<option>pack_info</option>
<option>pack_prior</option>
<option>residual_density</option>
<option>random_number</option>
<option>random_effect</option>
<option>grid2line</option>
<option>solve_ode</option>
<option>split_space</option>
<option>time_line_vec</option>
</select>
</td>
<td>
<select onchange='choose_down0(this)'>
<option>pack_prior-&gt;</option>
<option>pack_prior_xam.cpp</option>
</select>
</td>
</tr></table><br>
@(@\newcommand{\R}[1]{ {\rm #1} }
\newcommand{\B}[1]{ {\bf #1} }
\newcommand{\W}[1]{ \; #1 \; }@)@<center><b><big><big>Priors in Variable ID Order</big></big></b></center>
<br>
<b><big><a name="Syntax" id="Syntax">Syntax</a></big></b>

<br>

<code><font color="blue"><span style='white-space: nowrap'>pack_prior</span></font><i><font color="black"><span style='white-space: nowrap'>&nbsp;</span></font></i><font color="blue"><span style='white-space: nowrap'>var2prior</span></font><i><font color="black"><span style='white-space: nowrap'>(</span></font></i><font color="blue"><span style='white-space: nowrap'>pack_object</span></font><i><font color="black"><span style='white-space: nowrap'>,&nbsp;</span></font></i><font color="blue"><span style='white-space: nowrap'>s_info_vec</span></font><i><font color="black"><span style='white-space: nowrap'>)<br>
</span></font></i></code>

<code><i><font color="black"><span style='white-space: nowrap'>size</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>var2prior</span></font></i><font color="blue"><span style='white-space: nowrap'>.size()<br>
</span></font></code>

<code><i><font color="black"><span style='white-space: nowrap'>const_value</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>var2prior</span></font></i><font color="blue"><span style='white-space: nowrap'>.const_value(</span></font><i><font color="black"><span style='white-space: nowrap'>var_id</span></font></i><font color="blue"><span style='white-space: nowrap'>)<br>
</span></font></code>

<code><i><font color="black"><span style='white-space: nowrap'>value_prior_id</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;=&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>var2prior</span></font></i><font color="blue"><span style='white-space: nowrap'>.</span></font><i><font color="black"><span style='white-space: nowrap'>value_prior_id(</span></font></i><font color="blue"><span style='white-space: nowrap'>var_id</span></font><i><font color="black"><span style='white-space: nowrap'>)<br>
</span></font></i></code>

<code><i><font color="black"><span style='white-space: nowrap'>dage_prior_id</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;&nbsp;=&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>var2prior</span></font></i><font color="blue"><span style='white-space: nowrap'>.</span></font><i><font color="black"><span style='white-space: nowrap'>dage_prior_id(</span></font></i><font color="blue"><span style='white-space: nowrap'>var_id</span></font><i><font color="black"><span style='white-space: nowrap'>)<br>
</span></font></i></code>

<code><i><font color="black"><span style='white-space: nowrap'>dtime_prior_id</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;=&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>var2prior</span></font></i><font color="blue"><span style='white-space: nowrap'>.</span></font><i><font color="black"><span style='white-space: nowrap'>dtime_prior_id(</span></font></i><font color="blue"><span style='white-space: nowrap'>var_id</span></font><i><font color="black"><span style='white-space: nowrap'>)<br>
</span></font></i></code>

<code><i><font color="black"><span style='white-space: nowrap'>dage_var_id</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>var2prior</span></font></i><font color="blue"><span style='white-space: nowrap'>.</span></font><i><font color="black"><span style='white-space: nowrap'>dage_next(</span></font></i><font color="blue"><span style='white-space: nowrap'>var_id</span></font><i><font color="black"><span style='white-space: nowrap'>)<br>
</span></font></i></code>

<code><i><font color="black"><span style='white-space: nowrap'>dtime_var_id</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;&nbsp;&nbsp;=&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>var2prior</span></font></i><font color="blue"><span style='white-space: nowrap'>.</span></font><i><font color="black"><span style='white-space: nowrap'>dtime_next(</span></font></i><font color="blue"><span style='white-space: nowrap'>var_id</span></font><i><font color="black"><span style='white-space: nowrap'>)<br>
</span></font></i></code>

<code><i><font color="black"><span style='white-space: nowrap'>fixed_effect</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;&nbsp;&nbsp;=&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>var2prior</span></font></i><font color="blue"><span style='white-space: nowrap'>.</span></font><i><font color="black"><span style='white-space: nowrap'>fixed_effect(</span></font></i><font color="blue"><span style='white-space: nowrap'>var_id</span></font><i><font color="black"><span style='white-space: nowrap'>)<br>
</span></font></i></code>
<br>
<b><big><a name="Prototype" id="Prototype">Prototype</a></big></b>

<pre><tt>
pack_prior<font color="#990000">::</font><b><font color="#000000">pack_prior</font></b><font color="#990000">(</font>
     <b><font color="#0000FF">const</font></b> pack_info<font color="#990000">&amp;</font>                   pack_object <font color="#990000">,</font>
     <b><font color="#0000FF">const</font></b> CppAD<font color="#990000">::</font>vector<font color="#990000">&lt;</font>smooth_info<font color="#990000">&gt;&amp;</font>  s_info_vec  <font color="#990000">)</font></tt></pre>
<br>
<b><big><a name="Notation" id="Notation">Notation</a></big></b>


<br>
<br>
<big><a name="Notation.var_id" id="Notation.var_id">var_id</a></big>
<br>
The variable names that end in
<a href="var_table.htm#var_id" target="_top"><span style='white-space: nowrap'>var_id</span></a>

have type <code><font color="blue">size_t</font></code> and are an index in the variable table.

<br>
<br>
<big><a name="Notation.prior_id" id="Notation.prior_id">prior_id</a></big>
<br>
The variable names that end in
<a href="prior_table.htm#prior_id" target="_top"><span style='white-space: nowrap'>prior_id</span></a>

have type <code><font color="blue">size_t</font></code> and are an index in the prior table.

<br>
<br>
<b><big><a name="pack_object" id="pack_object">pack_object</a></big></b>
<br>
is the <a href="pack_info.htm" target="_top"><span style='white-space: nowrap'>pack_info</span></a>
 information corresponding to
the <a href="model_variables.htm" target="_top"><span style='white-space: nowrap'>model_variables</span></a>
.

<br>
<br>
<b><big><a name="s_info_vec" id="s_info_vec">s_info_vec</a></big></b>
<br>
For each <a href="smooth_table.htm#smooth_id" target="_top"><span style='white-space: nowrap'>smooth_id</span></a>
,

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>s_info_vec</span></font></i><font color="blue"><span style='white-space: nowrap'>[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>smooth_id</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;]<br>
</span></font></code>
is the corresponding <a href="smooth_info.htm" target="_top"><span style='white-space: nowrap'>smooth_info</span></a>
 information.

<br>
<br>
<b><big><a name="var2prior" id="var2prior">var2prior</a></big></b>
<br>
an object that reports that prior information as a function of
<a href="var_table.htm#var_id" target="_top"><span style='white-space: nowrap'>var_id</span></a>
.

<br>
<br>
<b><big><a name="size" id="size">size</a></big></b>
<br>
This is the number of variables in the model; i.e.,
it is equal to 
<code><i><font color="black"><span style='white-space: nowrap'>pack_object</span></font></i><font color="blue"><span style='white-space: nowrap'>.size()</span></font></code>
.

<br>
<br>
<b><big><a name="const_value" id="const_value">const_value</a></big></b>
<br>
For each 
<code><i><font color="black"><span style='white-space: nowrap'>var_id</span></font></i></code>
,
either 
<code><i><font color="black"><span style='white-space: nowrap'>const_value</span></font></i></code>
 this is nan or

<code><i><font color="black"><span style='white-space: nowrap'>value_prior_id</span></font></i></code>
 is null but not both.
If 
<code><i><font color="black"><span style='white-space: nowrap'>value_prior_id</span></font></i></code>
 is null,

<code><i><font color="black"><span style='white-space: nowrap'>const_value</span></font></i></code>
 is the value at this variable is constrained to.

<br>
<br>
<b><big><a name="smooth_id" id="smooth_id">smooth_id</a></big></b>
<br>
This return value has type <code><font color="blue">size_t</font></code>.
If 
<code><i><font color="black"><span style='white-space: nowrap'>smooth_id</span></font></i></code>
 is null, this variables is a
<a href="model_variables.htm#Fixed Effects, theta.Smoothing Standard Deviation Multipliers, lambda" target="_top"><span style='white-space: nowrap'>smoothing&nbsp;standard&nbsp;deviation&nbsp;multiplier</span></a>
.
In this case there is no standard deviation prior multiplier for the
value prior for this variables and the difference priors are null.
Otherwise, this is the smoothing used for this variable and the
offset for the corresponding standard deviation multipliers can be computed
using <a href="pack_info_mulstd.htm" target="_top"><span style='white-space: nowrap'>pack_info_mulstd</span></a>
.

<br>
<br>
<b><big><a name="value_prior_id" id="value_prior_id">value_prior_id</a></big></b>
<br>
Either this is <code><font color="blue">null</font></code> or 
<code><i><font color="black"><span style='white-space: nowrap'>const_value</span></font></i></code>
 is nan but not both.
If 
<code><i><font color="black"><span style='white-space: nowrap'>const_value</span></font></i></code>
 is nan,

<code><i><font color="black"><span style='white-space: nowrap'>value_prior_id</span></font></i></code>
 identifies the prior for
the value of this variable.

<br>
<br>
<b><big><a name="dage_prior_id" id="dage_prior_id">dage_prior_id</a></big></b>
<br>
If 
<code><i><font color="black"><span style='white-space: nowrap'>dage_prior_id</span></font></i></code>
 is null,
this variable corresponding to the maximum age in a smoothing grid.
Otherwise 
<code><i><font color="black"><span style='white-space: nowrap'>dage_prior_id</span></font></i></code>
 identifies the  prior for
the difference between the variable with index

<code><i><font color="black"><span style='white-space: nowrap'>var_id</span></font></i></code>
 and the variable with index 
<code><i><font color="black"><span style='white-space: nowrap'>dage_var_id</span></font></i></code>
.

<br>
<br>
<b><big><a name="dtime_prior_id" id="dtime_prior_id">dtime_prior_id</a></big></b>
<br>
If 
<code><i><font color="black"><span style='white-space: nowrap'>dtime_prior_id</span></font></i></code>
 is null,
this variable corresponding to the maximum time in a smoothing grid.
Otherwise 
<code><i><font color="black"><span style='white-space: nowrap'>dtime_prior_id</span></font></i></code>
 identifies the prior for
the difference between the variable with index

<code><i><font color="black"><span style='white-space: nowrap'>var_id</span></font></i></code>
 and the variable with index 
<code><i><font color="black"><span style='white-space: nowrap'>dtime_var_id</span></font></i></code>
.

<br>
<br>
<b><big><a name="dage_var_id" id="dage_var_id">dage_var_id</a></big></b>
<br>
If 
<code><i><font color="black"><span style='white-space: nowrap'>dage_prior_id</span></font></i></code>
 is not null, this is the
next variable in the age difference.

<br>
<br>
<b><big><a name="dtime_var_id" id="dtime_var_id">dtime_var_id</a></big></b>
<br>
If 
<code><i><font color="black"><span style='white-space: nowrap'>dtime_prior_id</span></font></i></code>
 is not null, this is the
next variable in the time difference.

<br>
<br>
<b><big><a name="fixed_effect" id="fixed_effect">fixed_effect</a></big></b>
<br>
This <code><font color="blue">bool</font></code> is true (false) if the variable with index

<code><i><font color="black"><span style='white-space: nowrap'>var_id</span></font></i></code>
 is a
<a href="model_variables.htm#Fixed Effects, theta" target="_top"><span style='white-space: nowrap'>fixed&nbsp;effect</span></a>

(random effect).


<br>
<br>
<b><big><a name="Example" id="Example">Example</a></big></b>
<br>
The file <a href="pack_prior_xam.cpp.htm" target="_top"><span style='white-space: nowrap'>pack_prior_xam.cpp</span></a>

contains an example and test that uses this routine.


<hr>Input File: devel/utility/pack_prior.cpp

</body>
</html>
