<html>
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath:  [ ['@(@','@)@'] ] ,
    displayMath: [ ['@[@','@]@'] ]
  }
});
</script>
<script type='text/javascript' src=
'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=default'
>
</script>
<head>
<title>Changes and Additions to Dismod_at During 2021</title>
<meta http-equiv='Content-Type' content='text/html' charset='utf-8'>
<meta name="description" id="description" content="Changes and Additions to Dismod_at During 2021">
<meta name="keywords" id="keywords" content=" changes additions to dismod_at during 2021 01-23 01-22 01-21 01-19 01-11 01-10 01-09 01-08 ">
<style type='text/css'>
body { color : black }
body { background-color : white }
A:link { color : blue }
A:visited { color : purple }
A:active { color : purple }
</style>
<script type='text/javascript' language='JavaScript' src='_whats_new_2021_htm.js'>
</script>
</head>
<body>
<table><tr>
<td>
<a href="https://bradbell.github.io/dismod_at" target="_top"><img border="0" src="_image.gif"></a>
</td>
<td>
<select onchange='choose_up0(this)'>
<option>Location-&gt;</option>
<option>dismod_at</option>
<option>release_notes</option>
<option>whats_new_2021</option>
</select>
</td>
<td>
<select onchange='choose_across0(this)'>
<option>Search-&gt;</option>
<option>contents</option>
<option>reference</option>
<option>index</option>
<option>search</option>
<option>external</option>
</select>
</td>
<td><a href="release_notes.htm" target="_top">Prev</a>
</td><td><a href="whats_new_2020.htm" target="_top">Next</a>
</td><td>
<script type='text/javascript' language='JavaScript' src='_childtable_dismod_at_htm.js'></script>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_release_notes_htm.js'></script>
</td>
<td>whats_new_2021</td>
<td>
<select onchange='choose_current0(this)'>
<option>Heading-&gt;</option>
<option>01-23</option>
<option>01-22</option>
<option>01-21</option>
<option>01-19</option>
<option>01-11</option>
<option>01-10</option>
<option>01-09</option>
<option>01-08</option>
</select>
</td>
</tr></table><br>
@(@\newcommand{\R}[1]{ {\rm #1} }
\newcommand{\B}[1]{ {\bf #1} }
\newcommand{\W}[1]{ \; #1 \; }@)@



<center><b><big><big>Changes and Additions to Dismod_at During 2021</big></big></b></center>
<br>
<b><big><a name="01-23" id="01-23">01-23</a></big></b>
<br>
Add dialysis to the <code><font color="blue">fit_ihme.py</font></code> disease list:
crohns, dialysis, kidney, t1_diabetes.

<br>
<br>
<b><big><a name="01-22" id="01-22">01-22</a></big></b>

<ol type="1"><li>
The <a href="set_command.htm" target="_top"><span style='white-space: nowrap'>set</span></a>
 <code><font color="blue">option</font></code> command
no longer requires the option table it to be consistent with all the
other <a href="input.htm" target="_top"><span style='white-space: nowrap'>input</span></a>
 tables.
It only has to be self consistent.
This enables one to use the <code><font color="blue">set option</font></code> command to change the
<a href="option_table.htm#rate_case" target="_top"><span style='white-space: nowrap'>rate_case</span></a>
 to a value
that is consistent with the rest of the database.
</li><li>

Automatic detection and setting of 
<code><i><font color="black"><span style='white-space: nowrap'>rate_case</span></font></i></code>
 in the
<code><font color="blue">fit_ihme.py</font></code> program.
</li><li>

Move <code><font color="blue">fit_ihme.py</font></code> 
<code><i><font color="black"><span style='white-space: nowrap'>relative_path</span></font></i></code>
,

<code><i><font color="black"><span style='white-space: nowrap'>max_sample</span></font></i></code>
, and 
<code><i><font color="black"><span style='white-space: nowrap'>max_num_iter_fixed</span></font></i></code>
 into
the disease specific file.
</li><li>

Change the smoothing function to be <code><font color="blue">None</font></code> instead of returning
<code><font color="blue">None</font></code> when a rate is zero. This is simpler.
</li></ol>



<br>
<br>
<b><big><a name="01-21" id="01-21">01-21</a></big></b>
<br>
The program <code><font color="blue">db_simplify</font></code> was changed to
<code><font color="blue">fit_ihme.py</font></code> because it fits ihme databases.
It now gets installed and is part of the User API.
You can use it, if you have access to the ihme databases,
but there is no documentation (specifications).
If you execute <code><font color="blue">fit_ihme.py</font></code> with no arguments,
you will get a usage message that give you some idea how to use it.

<br>
<br>
<b><big><a name="01-19" id="01-19">01-19</a></big></b>
<br>
The file name was removed from the log table entry at the
<a href="dismodat.py.htm#Log Table.Start" target="_top"><span style='white-space: nowrap'>start</span></a>

of a <code><font color="blue">dismodat.py</font></code> command.
This is so that all log messages with
<a href="log_table.htm#message_type" target="_top"><span style='white-space: nowrap'>message_type</span></a>
 <code><font color="blue">command</font></code>
start with <code><font color="blue">begin</font></code> and then the name of the command.

<br>
<br>
<b><big><a name="01-11" id="01-11">01-11</a></big></b>
<br>
Change the order of the columns in the file
<a href="db2csv_command.htm#variable.csv" target="_top"><span style='white-space: nowrap'>variable.csv</span></a>
 so that
the fit results
<a href="db2csv_command.htm#variable.csv.fit_value" target="_top"><span style='white-space: nowrap'>fit_value</span></a>

are next to the corresponding lower and upper limits.

<br>
<br>
<b><big><a name="01-10" id="01-10">01-10</a></big></b>

<ol type="1"><li>
The <a href="user_data_sim.py.htm" target="_top"><span style='white-space: nowrap'>user_data_sim.py</span></a>
 example was changed so that it uses
the same notation as the new version of the
<a href="data_sim_table.htm" target="_top"><span style='white-space: nowrap'>data_sim_table</span></a>
 documentation and tests more cases.
</li><li>

The bug fix of the value of 
<code><i><font color="black"><span style='white-space: nowrap'>data_sim_stdcv</span></font></i></code>
 on 01-09
was corrected (better testing show it was incorrect).
</li><li>

Add following <a href="option_table.htm#meas_noise_effect" target="_top"><span style='white-space: nowrap'>meas_noise_effect</span></a>
 cases:
<a href="data_like.htm#Adjusted Standard Deviation, delta_i(theta).add_std_scale_none" target="_top"><span style='white-space: nowrap'>add_std_scale_none</span></a>
,
<a href="data_like.htm#Adjusted Standard Deviation, delta_i(theta).add_var_scale_none" target="_top"><span style='white-space: nowrap'>add_var_scale_none</span></a>
.
</li></ol>



<br>
<br>
<b><big><a name="01-09" id="01-09">01-09</a></big></b>

<ol type="1"><li>
The documentation for the <a href="data_sim_table.htm" target="_top"><span style='white-space: nowrap'>data_sim_table</span></a>
 was improved.
</li><li>

Fix a bug in the value of
<a href="data_sim_table.htm#data_sim_stdcv" target="_top"><span style='white-space: nowrap'>data_sim_stdcv</span></a>

when <a href="option_table.htm#meas_noise_effect" target="_top"><span style='white-space: nowrap'>meas_noise_effect</span></a>
 is
<code><font color="blue">add_var_scale_log</font></code> and the density is
<a href="density_table.htm#Notation.Linear" target="_top"><span style='white-space: nowrap'>linear</span></a>
.
</li></ol>


<br>
<br>
<b><big><a name="01-08" id="01-08">01-08</a></big></b>

<ol type="1"><li>
The definition of the transformed standard deviation <small>@(@
\sigma
@)@</small>
was extended to apply to all densities, not just
<a href="density_table.htm#Notation.Log Scaled" target="_top"><span style='white-space: nowrap'>log&nbsp;scaled</span></a>
 densities.
In addition, the definition was move from the <a href="statistic.htm" target="_top"><span style='white-space: nowrap'>statistic</span></a>
 section
to a place where the different cases are easier to understand; see

<code><i><font color="black"><span style='white-space: nowrap'>sigma</span></font></i></code>
 in
<a href="data_like.htm#Transformed Standard Deviation, sigma_i(theta)" target="_top"><span style='white-space: nowrap'>data_like</span></a>
,
<a href="fixed_value.htm#sigma_j" target="_top"><span style='white-space: nowrap'>fixed_value</span></a>
,
<a href="random_value.htm#sigma_j" target="_top"><span style='white-space: nowrap'>random_value</span></a>
,
<a href="smooth_dage.htm#sigma_ij" target="_top"><span style='white-space: nowrap'>smooth_dage</span></a>
,
<a href="smooth_dtime.htm#sigma_ij" target="_top"><span style='white-space: nowrap'>smooth_dtime</span></a>
.
</li><li>

In the definition of the value prior for the random effects
<a href="random_value.htm#V_j^u" target="_top"><span style='white-space: nowrap'>V_j^u</span></a>
 the term
<small>@[@

D \left( \theta_j \W{,} \mu_j \W{,} \lambda_j \sigma_j \W{,} d_j \right)

@]@</small>
was corrected to be
<small>@[@

D \left( u_j \W{,} \mu_j \W{,} \lambda_j \sigma_j \W{,} d_j \right)

@]@</small>
</li></ol>





<hr>Input File: omh/whats_new/2021.omh

</body>
</html>
