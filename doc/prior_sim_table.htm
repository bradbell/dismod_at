<html>
<script type='text/x-mathjax-config'>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath:  [ ['@(@','@)@'] ] ,
    displayMath: [ ['@[@','@]@'] ]
  }
});
</script>
<script type='text/javascript' src=
'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=default'
>
</script>
<head>
<title>Simulated Variation in Prior</title>
<meta http-equiv='Content-Type' content='text/html' charset='utf-8'>
<meta name="description" id="description" content="Simulated Variation in Prior">
<meta name="keywords" id="keywords" content=" simulated variation prior prior_sim_id simulate_index var_id prior_sim_value zero_sum_random prior_sim_dage prior_sim_dtime censoring example ">
<style type='text/css'>
body { color : black }
body { background-color : white }
A:link { color : blue }
A:visited { color : purple }
A:active { color : purple }
</style>
<script type='text/javascript' language='JavaScript' src='_prior_sim_table_htm.js'>
</script>
</head>
<body>
<table><tr>
<td>
<a href="https://bradbell.github.io/dismod_at" target="_top"><img border="0" src="_image.gif"></a>
</td>
<td>
<select onchange='choose_up0(this)'>
<option>Location-&gt;</option>
<option>dismod_at</option>
<option>database</option>
<option>data_flow</option>
<option>prior_sim_table</option>
</select>
</td>
<td>
<select onchange='choose_across0(this)'>
<option>Search-&gt;</option>
<option>contents</option>
<option>reference</option>
<option>index</option>
<option>search</option>
<option>external</option>
</select>
</td>
<td><a href="truth_var_table.htm" target="_top">Prev</a>
</td><td><a href="data_sim_table.htm" target="_top">Next</a>
</td><td>
<script type='text/javascript' language='JavaScript' src='_childtable_dismod_at_htm.js'></script>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_database_htm.js'></script>
</td>
<td>
<script type='text/javascript' language='JavaScript' src='_childtable_data_flow_htm.js'></script>
</td>
<td>prior_sim_table</td>
</tr></table><br>
@(@\newcommand{\R}[1]{ {\rm #1} }
\newcommand{\B}[1]{ {\bf #1} }
\newcommand{\W}[1]{ \; #1 \; }@)@


<center><b><big><big>Simulated Variation in Prior</big></big></b></center>

<br><a href="prior_sim_table.htm#prior_sim_id" target="_top">prior_sim_id</a>
<br><a href="prior_sim_table.htm#simulate_index" target="_top">simulate_index</a>
<br><a href="prior_sim_table.htm#var_id" target="_top">var_id</a>
<br><a href="prior_sim_table.htm#prior_sim_value" target="_top">prior_sim_value</a>
<br>&#160;&#160;&#160;&#160;&#160;<a href="prior_sim_table.htm#prior_sim_value.zero_sum_random" target="_top">zero_sum_random</a>
<br><a href="prior_sim_table.htm#prior_sim_dage" target="_top">prior_sim_dage</a>
<br><a href="prior_sim_table.htm#prior_sim_dtime" target="_top">prior_sim_dtime</a>
<br><a href="prior_sim_table.htm#Censoring" target="_top">Censoring</a>
<br><a href="prior_sim_table.htm#Example" target="_top">Example</a>
<br>The <code><font color="blue">prior_sim</font></code> table is created during a
<a href="simulate_command.htm" target="_top"><span style='white-space: nowrap'>simulate_command</span></a>
.
It contains <a href="simulate_command.htm#number_simulate" target="_top"><span style='white-space: nowrap'>number_simulate</span></a>

sets of priors where each set
has one row for each variable in the <a href="var_table.htm" target="_top"><span style='white-space: nowrap'>var_table</span></a>
.
Each row has a value, age difference, and time difference prior.

<br>
<br>
<b><big><a name="prior_sim_id" id="prior_sim_id">prior_sim_id</a></big></b>
<br>
This column has type <code><font color="blue">integer</font></code> and is the primary key for this table.
Its initial value is zero, and it increments by one for each row.

<br>
<br>
<b><big><a name="simulate_index" id="simulate_index">simulate_index</a></big></b>
<br>
The column has type <code><font color="blue">integer</font></code>. It specifies the index
for this simulated prior value. This index starts at zero,
repeats as the same for the entire set of 
<code><i><font color="black"><span style='white-space: nowrap'>var_id</span></font></i></code>
 values,
and then increments by one between prior sets.
The final (maximum) value for 
<code><i><font color="black"><span style='white-space: nowrap'>simulate_index</span></font></i></code>
 is
<a href="simulate_command.htm#number_simulate" target="_top"><span style='white-space: nowrap'>number_simulate</span></a>
 minus one.

<br>
<br>
<b><big><a name="var_id" id="var_id">var_id</a></big></b>
<br>
This column has type <code><font color="blue">integer</font></code> and is the primary key
for the <a href="var_table.htm" target="_top"><span style='white-space: nowrap'>var_table</span></a>
.
This identifies which <a href="var_table.htm#var_id" target="_top"><span style='white-space: nowrap'>var_id</span></a>

each row of the prior_sim table corresponds to.
If 
<code><i><font color="black"><span style='white-space: nowrap'>n_var</span></font></i></code>
 is the number of rows in the var table,

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>prior_sim_id</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;=&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>simulate_index</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;*&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>n_var</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;+&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>var_id</span></font></i><font color="blue"><span style='white-space: nowrap'><br>
</span></font></code>
for 
<code><i><font color="black"><span style='white-space: nowrap'>simulate_index</span></font></i></code>
 equal zero to 
<code><i><font color="black"><span style='white-space: nowrap'>number_simulate</span></font></i><font color="blue"><span style='white-space: nowrap'>-1</span></font></code>

and 
<code><i><font color="black"><span style='white-space: nowrap'>var_id</span></font></i></code>
 equal zero to 
<code><font color="blue"><span style='white-space: nowrap'>n_var</span></font><i><font color="black"><span style='white-space: nowrap'>-1</span></font></i></code>
.

<br>
<br>
<b><big><a name="prior_sim_value" id="prior_sim_value">prior_sim_value</a></big></b>
<br>
This column has type <code><font color="blue">real</font></code> and is
a simulated from the value prior for this variable.
If there is no value prior, or if the density for the value prior
is uniform, 
<code><i><font color="black"><span style='white-space: nowrap'>prior_sim_value</span></font></i></code>
 is <code><font color="blue">null</font></code>.

<br>
<br>
<big><a name="prior_sim_value.zero_sum_random" id="prior_sim_value.zero_sum_random">zero_sum_random</a></big>
<br>
If the <a href="option_table.htm#zero_sum_random" target="_top"><span style='white-space: nowrap'>zero_sum_random</span></a>
 option
is chosen for a rate, the simulated values for the corresponding
<a href="model_variables.htm#Random Effects, u.Child Rate Effects" target="_top"><span style='white-space: nowrap'>child&nbsp;rate&nbsp;effects</span></a>

will sum to zero at each grid point in the corresponding smoothing for;
see <a href="rate_table.htm#child_smooth_id" target="_top"><span style='white-space: nowrap'>child_smooth_id</span></a>
 in the rate table.
Note that using <code><font color="blue">zero_sum_random</font></code> for a rate
requires that the same smoothing is used by all the child random effects
for that rate.
This is done by simulating using independent priors and then subtracting
averages of the simulated values.

<br>
<br>
<b><big><a name="prior_sim_dage" id="prior_sim_dage">prior_sim_dage</a></big></b>
<br>
This column has type <code><font color="blue">real</font></code> and is
a simulated from the dage prior for this variable.
If there is no dage prior, or if the density for the dage prior
is uniform, 
<code><i><font color="black"><span style='white-space: nowrap'>prior_sim_dage</span></font></i></code>
 is <code><font color="blue">null</font></code>.

<br>
<br>
<b><big><a name="prior_sim_dtime" id="prior_sim_dtime">prior_sim_dtime</a></big></b>
<br>
This column has type <code><font color="blue">real</font></code> and is
a simulated from the dtime prior for this variable.
If there is no dtime prior, or if the density for the dtime prior
is uniform, 
<code><i><font color="black"><span style='white-space: nowrap'>prior_sim_dtime</span></font></i></code>
 is <code><font color="blue">null</font></code>.

<br>
<br>
<b><big><a name="Censoring" id="Censoring">Censoring</a></big></b>
<br>
If the simulated values for the prior is censored to be within the
upper and lower limits for the corresponding variable.
To be specific, if 
<code><i><font color="black"><span style='white-space: nowrap'>sim</span></font></i></code>
 is the value simulated just using the
<a href="prior_table.htm#density_id" target="_top"><span style='white-space: nowrap'>density_id</span></a>
,
and 
<code><i><font color="black"><span style='white-space: nowrap'>lower</span></font></i></code>
, 
<code><i><font color="black"><span style='white-space: nowrap'>upper</span></font></i></code>
 are the corresponding limits;
the corresponding simulated value or difference is

<code><font color="blue"><span style='white-space: nowrap'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max[&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>upper</span></font></i><font color="blue"><span style='white-space: nowrap'>,&nbsp;min(&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>lower</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;,&nbsp;</span></font><i><font color="black"><span style='white-space: nowrap'>sim</span></font></i><font color="blue"><span style='white-space: nowrap'>&nbsp;)&nbsp;]<br>
</span></font></code>
<br>
<b><big><a name="Example" id="Example">Example</a></big></b>
<br>
See the <a href="simulate_command.py.htm" target="_top"><span style='white-space: nowrap'>simulate_command.py</span></a>
 example and test.


<hr>Input File: omh/table/prior_sim_table.omh

</body>
</html>
