<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="user_covid_19.py, model, the, covid-19, epidemic" name="keywords" />
<meta content="goal" name="keywords" />
<meta content="data, file" name="keywords" />
<meta content="sir, model" name="keywords" />
<meta content="ode" name="keywords" />
<meta content="data, model" name="keywords" />
<meta content="discussion" name="keywords" />
<meta content="dismod, model" name="keywords" />
<meta content="data" name="keywords" />
<meta content="model, variables" name="keywords" />
<meta content="rates" name="keywords" />
<meta content="covariates" name="keywords" />
<meta content="predictions" name="keywords" />
<meta content="display, fit" name="keywords" />
<meta content="source, code" name="keywords" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="user_csv2db.py" href="user_csv2db.py.html" /><link rel="prev" title="user_continue_fit.py" href="user_continue_fit.py.html" />

    <meta name="generator" content="sphinx-4.5.0, furo 2022.09.29"/>
        <title>user_covid_19.py - dismod_at documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="xrst_root_doc.html"><div class="brand">dismod_at  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="xrst_root_doc.html">
  
  
  <span class="sidebar-brand-text">dismod_at  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="xrst_table_of_contents.html">Table of Contents</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="dismod_at.html">dismod_at</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="math_abstract.html">math_abstract</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="math_ode.html">math_ode</a></li>
<li class="toctree-l3"><a class="reference internal" href="censor_density.html">censor_density</a></li>
<li class="toctree-l3"><a class="reference internal" href="prevalence_ode.html">prevalence_ode</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="install.html">install</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="dock_dismod_at.sh.html">dock_dismod_at.sh</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="install_unix.html">install_unix</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="run_cmake.sh.html">run_cmake.sh</a></li>
<li class="toctree-l4"><a class="reference internal" href="example_install.sh.html">example_install.sh</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="get_started.html">get_started</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="get_started_db.py.html">get_started_db.py</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="user_example.html">user_example</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="user_age_avg_split.py.html">user_age_avg_split.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_bilevel_random.py.html">user_bilevel_random.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_bnd_mulcov.py.html">user_bnd_mulcov.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_cascade.py.html">user_cascade.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_censor.py.html">user_censor.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_change_grid.py.html">user_change_grid.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_compress.py.html">user_compress.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_const_random.py.html">user_const_random.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_const_value.py.html">user_const_value.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_continue_fit.py.html">user_continue_fit.py</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">user_covid_19.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_csv2db.py.html">user_csv2db.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_data_density.py.html">user_data_density.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_data_sim.py.html">user_data_sim.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_diabetes.py.html">user_diabetes.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_diff_constraint.py.html">user_diff_constraint.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_fit_fixed_both.py.html">user_fit_fixed_both.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_fit_meas_noise.py.html">user_fit_meas_noise.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_fit_random.py.html">user_fit_random.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_fit_sim.py.html">user_fit_sim.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_group_mulcov.py.html">user_group_mulcov.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_hes_fixed_math.py.html">user_hes_fixed_math.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_hes_random.py.html">user_hes_random.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_hold_out_1.py.html">user_hold_out_1.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_hold_out_2.py.html">user_hold_out_2.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_ill_condition.py.html">user_ill_condition.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_jump_at_age.py.html">user_jump_at_age.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_lasso_covariate.py.html">user_lasso_covariate.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_mulstd.py.html">user_mulstd.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_no_children.py.html">user_no_children.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_rate_eff_cov_table.py.html">user_rate_eff_cov_table.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_one_function.py.html">user_one_function.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_plot_curve.py.html">user_plot_curve.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_plot_data_fit.py.html">user_plot_data_fit.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_plot_rate_fit.py.html">user_plot_rate_fit.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_predict_fit.py.html">user_predict_fit.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_predict_mulcov.py.html">user_predict_mulcov.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_re_scale.py.html">user_re_scale.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_residual.py.html">user_residual.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_sample_asy.py.html">user_sample_asy.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_sample_asy_sim.py.html">user_sample_asy_sim.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_sample_sim.py.html">user_sample_sim.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_sim_log.py.html">user_sim_log.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_speed.py.html">user_speed.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_subgroup_mulcov.py.html">user_subgroup_mulcov.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_sum_residual.py.html">user_sum_residual.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_system_command_prc.py.html">user_system_command_prc.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_trace_init.py.html">user_trace_init.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_trapezoidal.py.html">user_trapezoidal.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_warm_start.py.html">user_warm_start.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_zsum_child_rate.py.html">user_zsum_child_rate.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_zsum_mulcov_meas.py.html">user_zsum_mulcov_meas.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_zsum_mulcov_rate.py.html">user_zsum_mulcov_rate.py</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="database.html">database</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="input.html">input</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="age_table.html">age_table</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="age_table.py.html">age_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="avgint_table.html">avgint_table</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="avgint_table.py.html">avgint_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="covariate_table.html">covariate_table</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="covariate_table.py.html">covariate_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="data_table.html">data_table</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="data_table.py.html">data_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="density_table.html">density_table</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="density_table.py.html">density_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="integrand_table.html">integrand_table</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="integrand_table.py.html">integrand_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="mulcov_table.html">mulcov_table</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="mulcov_table.py.html">mulcov_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="rate_eff_cov_table.html">rate_eff_cov_table</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="rate_eff_cov_table.py.html">rate_eff_cov_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="node_table.html">node_table</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="node_table.py.html">node_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="nslist_pair_table.html">nslist_pair_table</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="nslist_pair_table.py.html">nslist_pair_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="nslist_table.html">nslist_table</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="nslist_table.py.html">nslist_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="option_table.html">option_table</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="option_default.html">option_default</a></li>
<li class="toctree-l5"><a class="reference internal" href="option_table.py.html">option_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="prior_table.html">prior_table</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="prior_table.py.html">prior_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="rate_table.html">rate_table</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="rate_table.py.html">rate_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="smooth_grid_table.html">smooth_grid_table</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="smooth_grid_table.py.html">smooth_grid_table.py</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="smooth_table.html">smooth_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="subgroup_table.html">subgroup_table</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="time_table.html">time_table</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="time_table.py.html">time_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="weight_grid_table.html">weight_grid_table</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="weight_grid_table.py.html">weight_grid_table.py</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="weight_table.html">weight_table</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="data_flow.html">data_flow</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="age_avg_table.html">age_avg_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="bnd_mulcov_table.html">bnd_mulcov_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="data_sim_table.html">data_sim_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="data_subset_table.html">data_subset_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="depend_var_table.html">depend_var_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="fit_data_subset_table.html">fit_data_subset_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="fit_var_table.html">fit_var_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="hes_fixed_table.html">hes_fixed_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="hes_random_table.html">hes_random_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="log_table.html">log_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="mixed_info_table.html">mixed_info_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="predict_table.html">predict_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="prior_sim_table.html">prior_sim_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="sample_table.html">sample_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="scale_var_table.html">scale_var_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="start_var_table.html">start_var_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="trace_fixed_table.html">trace_fixed_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="truth_var_table.html">truth_var_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="var_table.html">var_table</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="model.html">model</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="model_variables.html">model_variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="avg_integrand.html">avg_integrand</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_like.html">data_like</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="variable_prior.html">variable_prior</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="fixed_value.html">fixed_value</a></li>
<li class="toctree-l4"><a class="reference internal" href="random_value.html">random_value</a></li>
<li class="toctree-l4"><a class="reference internal" href="smooth_dage.html">smooth_dage</a></li>
<li class="toctree-l4"><a class="reference internal" href="smooth_dtime.html">smooth_dtime</a></li>
<li class="toctree-l4"><a class="reference internal" href="fixed_diff.html">fixed_diff</a></li>
<li class="toctree-l4"><a class="reference internal" href="random_diff.html">random_diff</a></li>
<li class="toctree-l4"><a class="reference internal" href="fixed_prior.html">fixed_prior</a></li>
<li class="toctree-l4"><a class="reference internal" href="random_prior.html">random_prior</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="statistic.html">statistic</a></li>
<li class="toctree-l3"><a class="reference internal" href="bilinear.html">bilinear</a></li>
<li class="toctree-l3"><a class="reference internal" href="posterior.html">posterior</a></li>
<li class="toctree-l3"><a class="reference internal" href="prev_dep.html">prev_dep</a></li>
<li class="toctree-l3"><a class="reference internal" href="numeric_average.html">numeric_average</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="command.html">command</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="bnd_mulcov_command.html">bnd_mulcov_command</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_density_command.html">data_density_command</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="depend_command.html">depend_command</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="depend_command.py.html">depend_command.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="fit_command.html">fit_command</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="fit_command.py.html">fit_command.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hold_out_command.html">hold_out_command</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="init_command.html">init_command</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="init_command.py.html">init_command.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="old2new_command.html">old2new_command</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="old2new_command.py.html">old2new_command.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="predict_command.html">predict_command</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="predict_command.py.html">predict_command.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="sample_command.html">sample_command</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="sample_command.py.html">sample_command.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="set_command.html">set_command</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="set_command.py.html">set_command.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="simulate_command.html">simulate_command</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="simulate_command.py.html">simulate_command.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dismodat.py.html">dismodat.py</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="python.html">python</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="average_integrand.html">average_integrand</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="user_average_integrand.py.html">user_average_integrand.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="connection_file.html">connection_file</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/><label for="toctree-checkbox-40"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="user_connection_file.py.html">user_connection_file.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="create_connection.html">create_connection</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="create_database.html">create_database</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/><label for="toctree-checkbox-41"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="create_database.py.html">create_database.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="create_table.html">create_table</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/><label for="toctree-checkbox-42"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="create_table.py.html">create_table.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="csv2db_command.html">csv2db_command</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="db2csv_command.html">db2csv_command</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/><label for="toctree-checkbox-43"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="db2csv_command.py.html">db2csv_command.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="ihme_db.sh.html">ihme_db.sh</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="get_name_type.html">get_name_type</a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/><label for="toctree-checkbox-44"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="get_name_type.py.html">get_name_type.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="get_row_list.html">get_row_list</a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/><label for="toctree-checkbox-45"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="get_row_list.py.html">get_row_list.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="get_table_dict.html">get_table_dict</a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/><label for="toctree-checkbox-46"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="get_table_dict.py.html">get_table_dict.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="metropolis.html">metropolis</a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/><label for="toctree-checkbox-47"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="user_metropolis.py.html">user_metropolis.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="modify_command.html">modify_command</a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" role="switch" type="checkbox"/><label for="toctree-checkbox-48"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="modify_command.py.html">modify_command.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="perturb_command.html">perturb_command</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_curve.html">plot_curve</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_data_fit.html">plot_data_fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_rate_fit.html">plot_rate_fit</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="replace_table.html">replace_table</a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" role="switch" type="checkbox"/><label for="toctree-checkbox-49"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="replace_table.py.html">replace_table.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sql_command.html">sql_command</a></li>
<li class="toctree-l3"><a class="reference internal" href="system_command_prc.html">system_command_prc</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="unicode_tuple.html">unicode_tuple</a><input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" role="switch" type="checkbox"/><label for="toctree-checkbox-50"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="unicode_tuple.py.html">unicode_tuple.py</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="release_notes.html">release_notes</a><input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" role="switch" type="checkbox"/><label for="toctree-checkbox-51"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2022.html">whats_new_2022</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2021.html">whats_new_2021</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2020.html">whats_new_2020</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2019.html">whats_new_2019</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2018.html">whats_new_2018</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2017.html">whats_new_2017</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2016.html">whats_new_2016</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2015.html">whats_new_2015</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="wish_list.html">wish_list</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="xrst_index.html">Index</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <p class="hidden"><span class="math notranslate nohighlight">\(\newcommand{\B}[1]{ {\bf #1} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\R}[1]{ {\rm #1} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\W}[1]{ \; #1 \; }\)</span></p>
<section id="user-covid-19-py">
<span id="user-covid-19-py-name"></span><h1>user_covid_19.py<a class="headerlink" href="#user-covid-19-py" title="Permalink to this headline">#</a></h1>
<a href="_sources/user_covid_19.py.rst.txt">View page source</a><section id="model-the-covid-19-epidemic">
<span id="user-covid-19-py-title"></span><span id="index-0"></span><h2>Model The Covid-19 Epidemic<a class="headerlink" href="#model-the-covid-19-epidemic" title="Permalink to this headline">#</a></h2>
<section id="goal">
<span id="user-covid-19-py-goal"></span><span id="index-1"></span><h3>Goal<a class="headerlink" href="#goal" title="Permalink to this headline">#</a></h3>
<p>Use previous cumulative death data for a location to predict future
cumulative deaths.</p>
</section>
<section id="data-file">
<span id="user-covid-19-py-data-file"></span><span id="index-2"></span><h3>Data File<a class="headerlink" href="#data-file" title="Permalink to this headline">#</a></h3>
<p>The cumulative death data is the most reliable data available for the
Covid-19 epidemic. It is also the statistic we are most interested in predicting.
Our example data has the following columns:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-default">
<tbody>
<tr class="row-odd"><td><p><em>day</em></p></td>
<td><p>day that this row of data corresponds to</p></td>
</tr>
<tr class="row-even"><td><p><em>death</em></p></td>
<td><p>cumulative covid_19 death as fraction of population</p></td>
</tr>
<tr class="row-odd"><td><p><em>mobility</em></p></td>
<td><p>mobility shifted and scaled to be in [-1, 0.]</p></td>
</tr>
<tr class="row-even"><td><p><em>testing</em></p></td>
<td><p>testing shifted and scaled to be in [0., 1]</p></td>
</tr>
</tbody>
</table>
</div>
<p>We assume that difference in the cumulative death data are independent; i.e.,
the amount added to the cumulative death is the actual measurement recorded
at the end of a time interval.
For the purpose of this example, we mimic a csv file with a string that
has this information.</p>
</section>
<section id="sir-model">
<span id="user-covid-19-py-sir-model"></span><span id="index-3"></span><h3>SIR Model<a class="headerlink" href="#sir-model" title="Permalink to this headline">#</a></h3>
<section id="ode">
<span id="user-covid-19-py-sir-model-ode"></span><span id="index-4"></span><h4>ODE<a class="headerlink" href="#ode" title="Permalink to this headline">#</a></h4>
<p>We use <span class="math notranslate nohighlight">\(Q\)</span> in place of <span class="math notranslate nohighlight">\(S\)</span> in the SIR Model
to avoid confusion with the dismod meaning of <span class="math notranslate nohighlight">\(S\)</span>.
The SIR Model for an epidemic is the following differential equations:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{rcll}
 \dot{Q} &amp; = &amp; - \beta Q I \\
 \dot{I} &amp; = &amp; + \beta Q I &amp; - ( \gamma + \chi ) I \\
 \dot{R} &amp; = &amp; + \gamma I
\end{array}\end{split}\]</div>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(Q(t)\)</span></p></td>
<td><p>susceptible fraction of the population</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(I(t)\)</span></p></td>
<td><p>infectious fraction of the population</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(R(t)\)</span></p></td>
<td><p>recovered fraction of the population</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\beta(t)\)</span></p></td>
<td><p>infectious rate</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(\gamma(t)\)</span></p></td>
<td><p>recovery rate</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(\chi(t)\)</span></p></td>
<td><p>excess mortality rate (for this disease)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="data-model">
<span id="user-covid-19-py-sir-model-data-model"></span><span id="index-5"></span><h4>Data Model<a class="headerlink" href="#data-model" title="Permalink to this headline">#</a></h4>
<p>The model for a measurement of the i-th difference in cumulative death is</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[d_i = e_i + \int_{a(i)}^{b(i)} \chi(t) I (t) dt\]</div>
</div>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-default">
<tbody>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(d_i\)</span></p></td>
<td><p>the i-th difference in cumulative death</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(e_i\)</span></p></td>
<td><p>noise in the i-th difference in cumulative death</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(a_i\)</span></p></td>
<td><p>start time for i-th difference in cumulative death</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(b_i\)</span></p></td>
<td><p>end time for i-th difference in cumulative death</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="discussion">
<span id="user-covid-19-py-sir-model-discussion"></span><span id="index-6"></span><h4>Discussion<a class="headerlink" href="#discussion" title="Permalink to this headline">#</a></h4>
<p>The model does not include births and deaths due to other causes, but this
would introduce even more unknowns.
Another problem with the model above is that it is not identifiable given just
measurements of cumulative death; i.e., there are two many unknown functions.
One approach to this problem is to assume we know
the rates <span class="math notranslate nohighlight">\(\gamma(t)\)</span>, <span class="math notranslate nohighlight">\(\chi(t)\)</span> and
only estimate <span class="math notranslate nohighlight">\(\beta(t)\)</span> and the initial conditions
<span class="math notranslate nohighlight">\(Q(0)\)</span>, <span class="math notranslate nohighlight">\(I(0)\)</span>, <span class="math notranslate nohighlight">\(R(0)\)</span>.
Another problem is that deaths are often under reported; e.g., they might only
be the deaths in the hospitals or for people who have been confirmed to have the
disease.</p>
</section>
</section>
<section id="dismod-model">
<span id="user-covid-19-py-dismod-model"></span><span id="index-7"></span><h3>Dismod Model<a class="headerlink" href="#dismod-model" title="Permalink to this headline">#</a></h3>
<p>The Dismod model for an epidemic is the following ODE:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}\begin{array}{rcll}
 \dot{S} &amp; = &amp; - \iota S &amp; + \rho            C    \\
 \dot{C} &amp; = &amp; + \iota S &amp; - ( \rho + \chi ) C
\end{array}\end{split}\]</div>
</div>
<p>together with the following cumulative death model</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[d_i = e_i + \int_{a(i)}^{b(i)} \chi(t) \frac{C(t)}{S(t) + C(t)} dt\]</div>
</div>
<p>Remission <span class="math notranslate nohighlight">\(\rho\)</span> is <span class="math notranslate nohighlight">\(\gamma\)</span> in the SIR model.
Prevalence <span class="math notranslate nohighlight">\(C(t) / [ S(t) + C(t) ]\)</span>
is to <span class="math notranslate nohighlight">\(I(t)\)</span> in the SIR model.
Susceptible <span class="math notranslate nohighlight">\(S(t)\)</span> is <span class="math notranslate nohighlight">\(Q(t) + R(t)\)</span> in the SIR model.
Not all the members of S are susceptible to the disease; i.e., the members of R.
It would be nice to complete the <a class="reference internal" href="wish_list.html#wish-list-immunity"><span class="std std-ref">Immunity</span></a>
wish list item so this would not be necessary.
However, because of under reporting of deaths, <span class="math notranslate nohighlight">\(Q(t)\)</span> in the SIR model
also has members that are not susceptible to the disease.</p>
</section>
<section id="data">
<span id="user-covid-19-py-data"></span><span id="index-8"></span><h3>Data<a class="headerlink" href="#data" title="Permalink to this headline">#</a></h3>
<p>For this example, we get the cumulative death data and covariates from a
text string version of a CSV file with the following columns:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-default">
<tbody>
<tr class="row-odd"><td><p><em>day</em></p></td>
<td><p>days since the first cumulative death value</p></td>
</tr>
<tr class="row-even"><td><p><em>death</em></p></td>
<td><p>cumulative death value for this day</p></td>
</tr>
<tr class="row-odd"><td><p><em>mobility</em></p></td>
<td><p>a social mobility covariate</p></td>
</tr>
<tr class="row-even"><td><p><em>testing</em></p></td>
<td><p>level of testing for the disease covariate</p></td>
</tr>
</tbody>
</table>
</div>
<p>The <em>mobility</em> covariate has been shifted and scaled to be in the
interval [-1, 0] with zero corresponding to normal mobility.
The <em>testing</em> covariate has been scaled to the interval [0, 1]
with zero corresponding to no testing.</p>
</section>
<section id="model-variables">
<span id="user-covid-19-py-model-variables"></span><span id="index-9"></span><h3>Model Variables<a class="headerlink" href="#model-variables" title="Permalink to this headline">#</a></h3>
<p>There is only one location for this example, so there are no random effects.
If you had data from multiple locations you could use random effects to improve
the estimation.</p>
<section id="rates">
<span id="user-covid-19-py-model-variables-rates"></span><span id="index-10"></span><h4>Rates<a class="headerlink" href="#rates" title="Permalink to this headline">#</a></h4>
<p>The prior for the value of <span class="math notranslate nohighlight">\(\iota(t)\)</span> is uniform with
lower limit 1e-6, upper limit 1.0, and mean 1e-3.
The mean is only used as a starting point and scaling point for the optimization.
The prior for the forward difference of <span class="math notranslate nohighlight">\(\iota(t)\)</span> between grid points is
log Gaussian with mean zero, standard deviation 0.1 and the offset in the
log transformation is 1e-5. The corresponds to a difference of 10 percent between
days being a weighted residual of one.
The other rates are modeled as the following known constants:
<span class="math notranslate nohighlight">\(\rho = 0.1\)</span> and <span class="math notranslate nohighlight">\(\chi = 0.01\)</span>.</p>
</section>
<section id="covariates">
<span id="user-covid-19-py-model-variables-covariates"></span><span id="index-11"></span><h4>Covariates<a class="headerlink" href="#covariates" title="Permalink to this headline">#</a></h4>
<p>There are two covariate multipliers for this example, one for mobility
and the other for testing. These affect the rate <span class="math notranslate nohighlight">\(\iota(t)\)</span>.
They are both have one grid point (are constant in time) and
have a uniform prior with lower limit -1, upper limit +1, and mean zero.
It appears that the bounds on the covariate multipliers are active at the
solution; i.e., more effect would improve the objective; see the file
<a class="reference internal" href="db2csv_command.html#db2csv-command-variable-csv"><span class="std std-ref">variable.csv</span></a> generated by the
<code class="docutils literal notranslate"><span class="pre">db2csv</span></code> command after the fit was done.</p>
</section>
</section>
<section id="predictions">
<span id="user-covid-19-py-predictions"></span><span id="index-12"></span><h3>Predictions<a class="headerlink" href="#predictions" title="Permalink to this headline">#</a></h3>
<p>To do predictions for the next week, we could fit a function to the previous
weeks baseline value of <span class="math notranslate nohighlight">\(\iota(t)\)</span> (value without the covariates effects).
This gives us a prediction for the baseline value of <span class="math notranslate nohighlight">\(\iota(t)\)</span>
for the next week. We would then include some assumed covariate values for the next
and predict the differences in cumulative death for each day during the next week.
The subtitle point here is that the prior for <span class="math notranslate nohighlight">\(\iota(t)\)</span> is a constant,
but the posterior is not. Actually <span class="math notranslate nohighlight">\(\beta(t)\)</span> in the SIR model
is more likely to be constant and it might be better to fit the <span class="math notranslate nohighlight">\(\beta(t)\)</span>
that corresponds to the previous fit for <span class="math notranslate nohighlight">\(I(t) = C(t) / [ S(t) + C(t) ]\)</span>.</p>
</section>
<section id="display-fit">
<span id="user-covid-19-py-display-fit"></span><span id="index-13"></span><h3>Display Fit<a class="headerlink" href="#display-fit" title="Permalink to this headline">#</a></h3>
<p>If this variable is true, some of the fit results will be printed and plotted:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">display_fit</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="source-code">
<span id="user-covid-19-py-source-code"></span><span id="index-14"></span><h3>Source Code<a class="headerlink" href="#source-code" title="Permalink to this headline">#</a></h3>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span>
<span class="kn">import</span> <span class="nn">matplotlib.gridspec</span>
<span class="n">test_program</span> <span class="o">=</span> <span class="s1">&#39;example/user/covid_19.py&#39;</span>
<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">test_program</span>  <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span> <span class="p">:</span>
   <span class="n">usage</span>  <span class="o">=</span> <span class="s1">&#39;python3 &#39;</span> <span class="o">+</span> <span class="n">test_program</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
   <span class="n">usage</span> <span class="o">+=</span> <span class="s1">&#39;where python3 is the python 3 program on your system</span><span class="se">\n</span><span class="s1">&#39;</span>
   <span class="n">usage</span> <span class="o">+=</span> <span class="s1">&#39;and working directory is the dismod_at distribution directory</span><span class="se">\n</span><span class="s1">&#39;</span>
   <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">usage</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">test_program</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># import dismod_at</span>
<span class="n">local_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;/python&#39;</span>
<span class="k">if</span><span class="p">(</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span> <span class="n">local_dir</span> <span class="o">+</span> <span class="s1">&#39;/dismod_at&#39;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">:</span>
   <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">local_dir</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">dismod_at</span>
<span class="c1">#</span>
<span class="c1"># change into the build/example/user directory</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;build/example/user&#39;</span><span class="p">)</span> <span class="p">:</span>
   <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;build/example/user&#39;</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s1">&#39;build/example/user&#39;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># ------------------------------------------------------------------------------------</span>
<span class="n">csv_file_data</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;day,death,mobility,testing</span>
<span class="s1">0,1.5159e-07,0,0.012738</span>
<span class="s1">1,4.0424e-07,-0.099623,0</span>
<span class="s1">2,8.59e-07,-0.20332,0.017105</span>
<span class="s1">3,1.2127e-06,-0.30759,0.06067</span>
<span class="s1">4,2.0717e-06,-0.40911,0.14986</span>
<span class="s1">5,3.2844e-06,-0.50501,0.21134</span>
<span class="s1">6,4.9014e-06,-0.59301,0.26117</span>
<span class="s1">7,6.9226e-06,-0.67147,0.34118</span>
<span class="s1">8,8.8932e-06,-0.73938,0.40973</span>
<span class="s1">9,1.1015e-05,-0.79633,0.4094</span>
<span class="s1">10,1.5917e-05,-0.84249,0.37192</span>
<span class="s1">11,2.1475e-05,-0.87867,0.38522</span>
<span class="s1">12,2.7842e-05,-0.90616,0.47688</span>
<span class="s1">13,3.724e-05,-0.92649,0.44716</span>
<span class="s1">14,5.3561e-05,-0.94127,0.42764</span>
<span class="s1">15,6.6042e-05,-0.95196,0.35542</span>
<span class="s1">16,8.4132e-05,-0.95975,0.44191</span>
<span class="s1">17,0.00010793,-0.96562,0.43481</span>
<span class="s1">18,0.00013663,-0.9703,0.47483</span>
<span class="s1">19,0.00016124,-0.97439,0.4991</span>
<span class="s1">20,0.00020601,-0.97832,0.57172</span>
<span class="s1">21,0.00025144,-0.98238,0.578</span>
<span class="s1">22,0.0002858,-0.98666,0.54818</span>
<span class="s1">23,0.00031389,-0.99101,0.51412</span>
<span class="s1">24,0.00036765,-0.99503,0.5705</span>
<span class="s1">25,0.00042076,-0.99821,0.64551</span>
<span class="s1">26,0.00047392,-1,0.71982</span>
<span class="s1">27,0.00051854,-0.99992,0.69938</span>
<span class="s1">28,0.00056846,-0.99765,0.64184</span>
<span class="s1">29,0.00061707,-0.993,0.54799</span>
<span class="s1">30,0.00066199,-0.98593,0.52809</span>
<span class="s1">31,0.00071307,-0.97664,0.57946</span>
<span class="s1">32,0.00076133,-0.9656,0.66222</span>
<span class="s1">33,0.00079933,-0.95358,0.68223</span>
<span class="s1">34,0.00083738,-0.94159,0.64932</span>
<span class="s1">35,0.00087133,-0.93087,0.615</span>
<span class="s1">36,0.00090342,-0.92271,0.54825</span>
<span class="s1">37,0.0009345,-0.9183,0.47447</span>
<span class="s1">38,0.00096795,-0.91827,0.47153</span>
<span class="s1">39,0.0009973,-0.9223,0.55527</span>
<span class="s1">40,0.0010307,-0.92956,0.73615</span>
<span class="s1">41,0.0010602,-0.93907,0.97671</span>
<span class="s1">42,0.0010865,-0.94973,1</span>
<span class="s1">43,0.0011096,-0.96031,0.83756</span>
<span class="s1">44,0.0011353,-0.9694,0.61103</span>
<span class="s1">45,0.0011592,-0.97554,0.60876</span>
<span class="s1">46,0.0011882,-0.97761,0.6771</span>
<span class="s1">47,0.0012051,-0.97497,0.73262</span>
<span class="s1">48,0.0012176,-0.96751,0.79038</span>
<span class="s1">49,0.0012257,-0.95556,0.80307</span>
<span class="s1">50,0.0012519,-0.93992,0.81576</span>
<span class="s1">51,0.0012667,-0.92161,0.82845</span>
<span class="s1">52,0.0012797,-0.90996,0.84115</span>
<span class="s1">53,0.0013138,-0.90255,0.85384</span>
<span class="s1">54,0.0013249,-0.89783,0.86653</span>
<span class="s1">&#39;&#39;&#39;</span>
<span class="c1"># ====================================================================================</span>
<span class="k">def</span> <span class="nf">example_db</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span> <span class="p">:</span>
   <span class="k">def</span> <span class="nf">fun_iota_prior</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;prior_iota_value&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;prior_iota_dtime&#39;</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">fun_pini_prior</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;prior_pini_value&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">fun_rho_prior</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;prior_rho_value&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">fun_chi_prior</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;prior_chi_value&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">fun_covariate_prior</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;prior_covariate_value&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
   <span class="c1">#</span>
   <span class="c1"># file_data</span>
   <span class="n">file_data</span>  <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="n">reader</span>    <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictReader</span><span class="p">(</span> <span class="n">csv_file_data</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span> <span class="p">)</span>
   <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span> <span class="p">:</span>
      <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">row</span> <span class="p">:</span>
         <span class="n">row</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span> <span class="n">row</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="p">)</span>
      <span class="n">file_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span> <span class="n">row</span> <span class="p">)</span> <span class="p">)</span>
   <span class="c1">#</span>
   <span class="c1"># age_list</span>
   <span class="c1"># This analysis has no age variation</span>
   <span class="n">age_list</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">]</span>
   <span class="c1">#</span>
   <span class="c1"># time_list</span>
   <span class="n">time_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">file_data</span> <span class="p">:</span>
      <span class="n">time_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="p">)</span>
   <span class="c1">#</span>
   <span class="c1"># integrand_table</span>
   <span class="n">integrand_table</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span> <span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;mtspecific&#39;</span> <span class="p">}</span> <span class="p">]</span>
   <span class="c1">#</span>
   <span class="c1"># node_table</span>
   <span class="n">node_table</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span> <span class="p">}</span> <span class="p">]</span>
   <span class="c1">#</span>
   <span class="c1"># subgroup_table</span>
   <span class="n">subgroup_table</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span><span class="s1">&#39;subgroup&#39;</span> <span class="p">:</span> <span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span> <span class="p">:</span> <span class="s1">&#39;world&#39;</span> <span class="p">}</span> <span class="p">]</span>
   <span class="c1">#</span>
   <span class="c1"># weight_table</span>
   <span class="n">weight_table</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="c1">#</span>
   <span class="c1"># covariate_table</span>
   <span class="n">covariate_table</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span>
      <span class="s1">&#39;name&#39;</span>      <span class="p">:</span> <span class="s1">&#39;mobility&#39;</span><span class="p">,</span>
      <span class="s1">&#39;reference&#39;</span> <span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
      <span class="p">},{</span>
      <span class="s1">&#39;name&#39;</span>      <span class="p">:</span> <span class="s1">&#39;testing&#39;</span><span class="p">,</span>
      <span class="s1">&#39;reference&#39;</span> <span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
   <span class="p">}</span> <span class="p">]</span>
   <span class="c1">#</span>
   <span class="c1"># avgint_table</span>
   <span class="n">avgint_table</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="c1">#</span>
   <span class="c1"># data_table</span>
   <span class="n">data_table</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="n">row_out</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s1">&#39;hold_out&#39;</span>  <span class="p">:</span> <span class="kc">False</span>       <span class="p">,</span>
      <span class="s1">&#39;integrand&#39;</span> <span class="p">:</span> <span class="s1">&#39;mtspecific&#39;</span><span class="p">,</span>
      <span class="s1">&#39;node&#39;</span>      <span class="p">:</span> <span class="s1">&#39;world&#39;</span>     <span class="p">,</span>
      <span class="s1">&#39;subgroup&#39;</span>  <span class="p">:</span> <span class="s1">&#39;world&#39;</span>     <span class="p">,</span>
      <span class="s1">&#39;weight&#39;</span>    <span class="p">:</span> <span class="s1">&#39;&#39;</span>          <span class="p">,</span>
      <span class="s1">&#39;age_lower&#39;</span> <span class="p">:</span> <span class="mf">50.0</span>        <span class="p">,</span>
      <span class="s1">&#39;age_upper&#39;</span> <span class="p">:</span> <span class="mf">50.0</span>        <span class="p">,</span>
      <span class="s1">&#39;density&#39;</span>   <span class="p">:</span> <span class="s1">&#39;gaussian&#39;</span>  <span class="p">,</span>
   <span class="p">}</span>
   <span class="n">data_cv</span> <span class="o">=</span> <span class="mf">0.25</span>
   <span class="n">n_data</span>  <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">file_data</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
   <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_data</span><span class="p">)</span> <span class="p">:</span>
      <span class="n">row_avg</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">[</span> <span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="s1">&#39;mobility&#39;</span><span class="p">,</span> <span class="s1">&#39;testing&#39;</span> <span class="p">]</span> <span class="p">:</span>
         <span class="n">row_avg</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span> <span class="n">file_data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="o">+</span> <span class="n">file_data</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span>
      <span class="n">row_out</span><span class="p">[</span><span class="s1">&#39;time_lower&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row_avg</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span>
      <span class="n">row_out</span><span class="p">[</span><span class="s1">&#39;time_upper&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row_avg</span><span class="p">[</span><span class="s1">&#39;day&#39;</span><span class="p">]</span>
      <span class="n">row_out</span><span class="p">[</span><span class="s1">&#39;mobility&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">row_avg</span><span class="p">[</span><span class="s1">&#39;mobility&#39;</span><span class="p">]</span>
      <span class="n">row_out</span><span class="p">[</span><span class="s1">&#39;testing&#39;</span><span class="p">]</span>    <span class="o">=</span> <span class="n">row_avg</span><span class="p">[</span><span class="s1">&#39;testing&#39;</span><span class="p">]</span>
      <span class="n">death_difference</span>      <span class="o">=</span> <span class="n">file_data</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;death&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">file_data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;death&#39;</span><span class="p">]</span>
      <span class="n">day_difference</span>        <span class="o">=</span> <span class="n">file_data</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;day&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">file_data</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;day&#39;</span><span class="p">]</span>
      <span class="n">row_out</span><span class="p">[</span><span class="s1">&#39;meas_value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">death_difference</span> <span class="o">/</span> <span class="n">day_difference</span>
      <span class="n">row_out</span><span class="p">[</span><span class="s1">&#39;meas_std&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">data_cv</span> <span class="o">*</span> <span class="n">row_out</span><span class="p">[</span><span class="s1">&#39;meas_value&#39;</span><span class="p">]</span>
      <span class="n">data_table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">row_out</span><span class="p">)</span> <span class="p">)</span>
   <span class="c1">#</span>
   <span class="c1"># prior_table</span>
   <span class="n">prior_table</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span>
      <span class="s1">&#39;name&#39;</span>    <span class="p">:</span> <span class="s1">&#39;prior_iota_value&#39;</span><span class="p">,</span>
      <span class="s1">&#39;lower&#39;</span>   <span class="p">:</span> <span class="mf">1e-6</span><span class="p">,</span>
      <span class="s1">&#39;upper&#39;</span>   <span class="p">:</span> <span class="mf">1e0</span><span class="p">,</span>
      <span class="s1">&#39;mean&#39;</span>    <span class="p">:</span> <span class="mf">1e-3</span><span class="p">,</span>
      <span class="s1">&#39;density&#39;</span> <span class="p">:</span> <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
   <span class="p">},{</span>
      <span class="s1">&#39;name&#39;</span>    <span class="p">:</span> <span class="s1">&#39;prior_iota_dtime&#39;</span><span class="p">,</span>
      <span class="s1">&#39;density&#39;</span> <span class="p">:</span> <span class="s1">&#39;log_gaussian&#39;</span><span class="p">,</span>
      <span class="s1">&#39;mean&#39;</span>    <span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
      <span class="s1">&#39;std&#39;</span>     <span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
      <span class="s1">&#39;eta&#39;</span>     <span class="p">:</span> <span class="mf">1e-5</span><span class="p">,</span>
   <span class="p">},{</span>
      <span class="s1">&#39;name&#39;</span>    <span class="p">:</span> <span class="s1">&#39;prior_rho_value&#39;</span><span class="p">,</span>
      <span class="s1">&#39;density&#39;</span> <span class="p">:</span> <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
      <span class="s1">&#39;mean&#39;</span>    <span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
      <span class="s1">&#39;lower&#39;</span>   <span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
      <span class="s1">&#39;upper&#39;</span>   <span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
   <span class="p">},{</span>
      <span class="s1">&#39;name&#39;</span>    <span class="p">:</span> <span class="s1">&#39;prior_chi_value&#39;</span><span class="p">,</span>
      <span class="s1">&#39;density&#39;</span> <span class="p">:</span> <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
      <span class="s1">&#39;mean&#39;</span>    <span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
      <span class="s1">&#39;lower&#39;</span>   <span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
      <span class="s1">&#39;upper&#39;</span>   <span class="p">:</span> <span class="mf">0.01</span><span class="p">,</span>
   <span class="p">},{</span>
      <span class="s1">&#39;name&#39;</span>    <span class="p">:</span> <span class="s1">&#39;prior_pini_value&#39;</span><span class="p">,</span>
      <span class="s1">&#39;density&#39;</span> <span class="p">:</span> <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
      <span class="s1">&#39;lower&#39;</span>   <span class="p">:</span> <span class="mf">1e-7</span><span class="p">,</span>
      <span class="s1">&#39;upper&#39;</span>   <span class="p">:</span> <span class="mf">1e-3</span><span class="p">,</span>
      <span class="s1">&#39;mean&#39;</span>    <span class="p">:</span> <span class="mf">1e-5</span><span class="p">,</span>
   <span class="p">},{</span>
      <span class="s1">&#39;name&#39;</span>    <span class="p">:</span> <span class="s1">&#39;prior_covariate_value&#39;</span><span class="p">,</span>
      <span class="s1">&#39;density&#39;</span> <span class="p">:</span> <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
      <span class="s1">&#39;mean&#39;</span>    <span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
      <span class="s1">&#39;lower&#39;</span>   <span class="p">:</span> <span class="o">-</span> <span class="mf">1.0</span><span class="p">,</span>
      <span class="s1">&#39;upper&#39;</span>   <span class="p">:</span> <span class="o">+</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="p">}</span> <span class="p">]</span>
   <span class="c1">#</span>
   <span class="c1"># smooth_table</span>
   <span class="n">time_id</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span> <span class="nb">range</span><span class="p">(</span> <span class="nb">len</span><span class="p">(</span> <span class="n">time_list</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
   <span class="n">smooth_table</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span>
      <span class="s1">&#39;name&#39;</span>    <span class="p">:</span> <span class="s1">&#39;smooth_pini&#39;</span><span class="p">,</span>
      <span class="s1">&#39;age_id&#39;</span>  <span class="p">:</span> <span class="p">[</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="s1">&#39;time_id&#39;</span> <span class="p">:</span> <span class="p">[</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="s1">&#39;fun&#39;</span>     <span class="p">:</span> <span class="n">fun_pini_prior</span><span class="p">,</span>
   <span class="p">},{</span>
      <span class="s1">&#39;name&#39;</span>    <span class="p">:</span> <span class="s1">&#39;smooth_iota&#39;</span><span class="p">,</span>
      <span class="s1">&#39;age_id&#39;</span>  <span class="p">:</span> <span class="p">[</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="s1">&#39;time_id&#39;</span> <span class="p">:</span> <span class="n">time_id</span><span class="p">,</span>
      <span class="s1">&#39;fun&#39;</span>     <span class="p">:</span> <span class="n">fun_iota_prior</span><span class="p">,</span>
   <span class="p">},{</span>
      <span class="s1">&#39;name&#39;</span>    <span class="p">:</span> <span class="s1">&#39;smooth_rho&#39;</span><span class="p">,</span>
      <span class="s1">&#39;name&#39;</span>    <span class="p">:</span> <span class="s1">&#39;smooth_rho&#39;</span><span class="p">,</span>
      <span class="s1">&#39;age_id&#39;</span>  <span class="p">:</span> <span class="p">[</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="s1">&#39;time_id&#39;</span> <span class="p">:</span> <span class="p">[</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="s1">&#39;fun&#39;</span>     <span class="p">:</span> <span class="n">fun_rho_prior</span><span class="p">,</span>
   <span class="p">},{</span>
      <span class="s1">&#39;name&#39;</span>    <span class="p">:</span> <span class="s1">&#39;smooth_chi&#39;</span><span class="p">,</span>
      <span class="s1">&#39;age_id&#39;</span>  <span class="p">:</span> <span class="p">[</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="s1">&#39;time_id&#39;</span> <span class="p">:</span> <span class="p">[</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="s1">&#39;fun&#39;</span>     <span class="p">:</span> <span class="n">fun_chi_prior</span><span class="p">,</span>
   <span class="p">},{</span>
      <span class="s1">&#39;name&#39;</span>    <span class="p">:</span> <span class="s1">&#39;smooth_covariate&#39;</span><span class="p">,</span>
      <span class="s1">&#39;age_id&#39;</span>  <span class="p">:</span> <span class="p">[</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="s1">&#39;time_id&#39;</span> <span class="p">:</span> <span class="p">[</span> <span class="mi">0</span> <span class="p">],</span>
      <span class="s1">&#39;fun&#39;</span>     <span class="p">:</span> <span class="n">fun_covariate_prior</span><span class="p">,</span>

   <span class="p">}</span> <span class="p">]</span>
   <span class="c1">#</span>
   <span class="c1"># nslist_dict</span>
   <span class="n">nslist_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
   <span class="c1">#</span>
   <span class="c1"># rate_table</span>
   <span class="n">rate_table</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span>
      <span class="s1">&#39;name&#39;</span>          <span class="p">:</span> <span class="s1">&#39;pini&#39;</span><span class="p">,</span>
      <span class="s1">&#39;parent_smooth&#39;</span> <span class="p">:</span> <span class="s1">&#39;smooth_pini&#39;</span><span class="p">,</span>
   <span class="p">},{</span>
      <span class="s1">&#39;name&#39;</span>          <span class="p">:</span> <span class="s1">&#39;iota&#39;</span><span class="p">,</span>
      <span class="s1">&#39;parent_smooth&#39;</span> <span class="p">:</span> <span class="s1">&#39;smooth_iota&#39;</span><span class="p">,</span>
   <span class="p">},{</span>
      <span class="s1">&#39;name&#39;</span>          <span class="p">:</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span>
      <span class="s1">&#39;parent_smooth&#39;</span> <span class="p">:</span> <span class="s1">&#39;smooth_rho&#39;</span><span class="p">,</span>
   <span class="p">},{</span>
      <span class="s1">&#39;name&#39;</span>          <span class="p">:</span> <span class="s1">&#39;chi&#39;</span><span class="p">,</span>
      <span class="s1">&#39;parent_smooth&#39;</span> <span class="p">:</span> <span class="s1">&#39;smooth_chi&#39;</span><span class="p">,</span>
   <span class="p">}</span> <span class="p">]</span>
   <span class="c1">#</span>
   <span class="c1"># mulcov_table</span>
   <span class="n">mulcov_table</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span>
      <span class="s1">&#39;covariate&#39;</span> <span class="p">:</span> <span class="s1">&#39;mobility&#39;</span><span class="p">,</span>
      <span class="s1">&#39;type&#39;</span><span class="p">:</span>       <span class="s1">&#39;rate_value&#39;</span><span class="p">,</span>
      <span class="s1">&#39;effected&#39;</span><span class="p">:</span>   <span class="s1">&#39;iota&#39;</span><span class="p">,</span>
      <span class="s1">&#39;group&#39;</span><span class="p">:</span>      <span class="s1">&#39;world&#39;</span><span class="p">,</span>
      <span class="s1">&#39;smooth&#39;</span><span class="p">:</span>     <span class="s1">&#39;smooth_covariate&#39;</span><span class="p">,</span>
   <span class="p">},{</span>
      <span class="s1">&#39;covariate&#39;</span> <span class="p">:</span> <span class="s1">&#39;testing&#39;</span><span class="p">,</span>
      <span class="s1">&#39;type&#39;</span><span class="p">:</span>       <span class="s1">&#39;rate_value&#39;</span><span class="p">,</span>
      <span class="s1">&#39;effected&#39;</span><span class="p">:</span>   <span class="s1">&#39;iota&#39;</span><span class="p">,</span>
      <span class="s1">&#39;group&#39;</span><span class="p">:</span>      <span class="s1">&#39;world&#39;</span><span class="p">,</span>
      <span class="s1">&#39;smooth&#39;</span><span class="p">:</span>     <span class="s1">&#39;smooth_covariate&#39;</span><span class="p">,</span>
   <span class="p">}</span> <span class="p">]</span>
   <span class="c1">#</span>
   <span class="c1"># option_table</span>
   <span class="k">if</span> <span class="n">display_fit</span> <span class="p">:</span>
      <span class="n">print_level</span> <span class="o">=</span> <span class="s1">&#39;5&#39;</span>
   <span class="k">else</span> <span class="p">:</span>
      <span class="n">print_level</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
   <span class="n">option_table</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span>  <span class="p">:</span> <span class="s1">&#39;parent_node_name&#39;</span><span class="p">,</span>   <span class="s1">&#39;value&#39;</span> <span class="p">:</span> <span class="s1">&#39;world&#39;</span>            <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span>  <span class="p">:</span> <span class="s1">&#39;rate_case&#39;</span><span class="p">,</span>          <span class="s1">&#39;value&#39;</span> <span class="p">:</span> <span class="s1">&#39;iota_pos_rho_pos&#39;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span>  <span class="p">:</span> <span class="s1">&#39;print_level_fixed&#39;</span><span class="p">,</span>  <span class="s1">&#39;value&#39;</span> <span class="p">:</span> <span class="n">print_level</span>        <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span>  <span class="p">:</span> <span class="s1">&#39;quasi_fixed&#39;</span><span class="p">,</span>        <span class="s1">&#39;value&#39;</span> <span class="p">:</span> <span class="s1">&#39;false&#39;</span>            <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span>  <span class="p">:</span> <span class="s1">&#39;tolerance_fixed&#39;</span><span class="p">,</span>    <span class="s1">&#39;value&#39;</span> <span class="p">:</span> <span class="s1">&#39;1e-11&#39;</span>            <span class="p">},</span>
   <span class="p">]</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="c1"># create database</span>
   <span class="n">dismod_at</span><span class="o">.</span><span class="n">create_database</span><span class="p">(</span>
      <span class="n">file_name</span><span class="p">,</span>
      <span class="n">age_list</span><span class="p">,</span>
      <span class="n">time_list</span><span class="p">,</span>
      <span class="n">integrand_table</span><span class="p">,</span>
      <span class="n">node_table</span><span class="p">,</span>
      <span class="n">subgroup_table</span><span class="p">,</span>
      <span class="n">weight_table</span><span class="p">,</span>
      <span class="n">covariate_table</span><span class="p">,</span>
      <span class="n">avgint_table</span><span class="p">,</span>
      <span class="n">data_table</span><span class="p">,</span>
      <span class="n">prior_table</span><span class="p">,</span>
      <span class="n">smooth_table</span><span class="p">,</span>
      <span class="n">nslist_dict</span><span class="p">,</span>
      <span class="n">rate_table</span><span class="p">,</span>
      <span class="n">mulcov_table</span><span class="p">,</span>
      <span class="n">option_table</span>
   <span class="p">)</span>
   <span class="k">return</span>
<span class="c1"># ===========================================================================</span>
<span class="c1"># create the database</span>
<span class="n">file_name</span>  <span class="o">=</span> <span class="s1">&#39;example.db&#39;</span>
<span class="n">example_db</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># fit data</span>
<span class="n">program_cpp</span> <span class="o">=</span> <span class="s1">&#39;../../devel/dismod_at&#39;</span>
<span class="n">program_py</span>  <span class="o">=</span> <span class="s1">&#39;../../../python/bin/dismodat.py&#39;</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">system_command_prc</span><span class="p">([</span> <span class="n">program_cpp</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;init&#39;</span> <span class="p">])</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">system_command_prc</span><span class="p">([</span> <span class="n">program_cpp</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;fit&#39;</span><span class="p">,</span> <span class="s1">&#39;fixed&#39;</span> <span class="p">])</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">system_command_prc</span><span class="p">([</span> <span class="n">program_py</span><span class="p">,</span>  <span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;db2csv&#39;</span> <span class="p">])</span>
<span class="c1">#</span>
<span class="c1"># weighted residuals</span>
<span class="n">file_in</span>  <span class="o">=</span> <span class="s1">&#39;data.csv&#39;</span>
<span class="n">file_in</span>  <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_in</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">reader</span>   <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictReader</span><span class="p">(</span><span class="n">file_in</span><span class="p">)</span>
<span class="n">time_r</span>   <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="n">residual</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span> <span class="p">:</span>
   <span class="k">assert</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;integrand&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;mtspecific&#39;</span>
   <span class="k">assert</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;time_lo&#39;</span><span class="p">]</span>   <span class="o">==</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;time_up&#39;</span><span class="p">]</span>
   <span class="n">time_r</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="nb">float</span><span class="p">(</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;time_lo&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span>
   <span class="n">residual</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="nb">float</span><span class="p">(</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;residual&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span>
<span class="n">residual_max</span>  <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">residual</span><span class="p">)</span>
<span class="n">residual_min</span>  <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">residual</span><span class="p">)</span>
<span class="n">residual_avg</span>  <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">residual</span><span class="p">)</span>
<span class="c1">#</span>
<span class="k">if</span> <span class="n">display_fit</span> <span class="p">:</span>
   <span class="c1"># print residual statistics</span>
   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;residual_max = &#39;</span><span class="p">,</span> <span class="n">residual_max</span> <span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;residual_max = &#39;</span><span class="p">,</span> <span class="n">residual_max</span> <span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;residual_avg = &#39;</span><span class="p">,</span> <span class="n">residual_avg</span> <span class="p">)</span>
   <span class="c1">#</span>
   <span class="c1"># plot setup</span>
   <span class="n">fig</span>     <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">tight_layout</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
   <span class="n">gs</span>      <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">gridspec</span><span class="o">.</span><span class="n">GridSpec</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
   <span class="n">ax1</span>     <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
   <span class="n">ax2</span>     <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">gs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
   <span class="c1">#</span>
   <span class="c1"># plot death data weighted residuals</span>
   <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time_r</span><span class="p">,</span> <span class="n">residual</span><span class="p">,</span> <span class="s1">&#39;k+&#39;</span><span class="p">)</span>
   <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="p">[</span><span class="n">time_r</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">time_r</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="s1">&#39;k-&#39;</span><span class="p">)</span>
   <span class="n">ax2</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
   <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;weighted residuals&#39;</span><span class="p">)</span>
   <span class="c1">#</span>
   <span class="c1"># plot iota(t)</span>
   <span class="n">file_in</span> <span class="o">=</span> <span class="s1">&#39;variable.csv&#39;</span>
   <span class="n">file_in</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_in</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
   <span class="n">reader</span>  <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictReader</span><span class="p">(</span><span class="n">file_in</span><span class="p">)</span>
   <span class="n">time_i</span>  <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="n">iota</span>    <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span> <span class="p">:</span>
      <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;var_type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;rate&#39;</span> <span class="ow">and</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;rate&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;iota&#39;</span> <span class="p">:</span>
         <span class="n">time_i</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">])</span> <span class="p">)</span>
         <span class="n">iota</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;fit_value&#39;</span><span class="p">])</span> <span class="p">)</span>
   <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time_i</span><span class="p">,</span> <span class="n">iota</span><span class="p">,</span> <span class="s1">&#39;k-&#39;</span><span class="p">)</span>
   <span class="n">ax1</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span> <span class="o">=</span> <span class="s1">&#39;day&#39;</span><span class="p">)</span>
   <span class="n">ax1</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">ylabel</span> <span class="o">=</span> <span class="s1">&#39;iota&#39;</span> <span class="p">)</span>
   <span class="n">file_in</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
   <span class="c1">#</span>
   <span class="c1"># display plot</span>
   <span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1">#</span>
<span class="c1"># check residuals</span>
<span class="k">assert</span> <span class="n">residual_max</span> <span class="o">&lt;</span> <span class="mf">4.0</span>
<span class="k">assert</span> <span class="o">-</span><span class="mf">4.0</span> <span class="o">&lt;</span> <span class="n">residual_min</span>
<span class="k">assert</span> <span class="nb">abs</span><span class="p">(</span> <span class="n">residual_avg</span> <span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span>
<span class="c1">#</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;covid_19.py: OK&#39;</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="user_csv2db.py.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">user_csv2db.py</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="user_continue_fit.py.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">user_continue_fit.py</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">user_covid_19.py</a><ul>
<li><a class="reference internal" href="#model-the-covid-19-epidemic">Model The Covid-19 Epidemic</a><ul>
<li><a class="reference internal" href="#goal">Goal</a></li>
<li><a class="reference internal" href="#data-file">Data File</a></li>
<li><a class="reference internal" href="#sir-model">SIR Model</a><ul>
<li><a class="reference internal" href="#ode">ODE</a></li>
<li><a class="reference internal" href="#data-model">Data Model</a></li>
<li><a class="reference internal" href="#discussion">Discussion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dismod-model">Dismod Model</a></li>
<li><a class="reference internal" href="#data">Data</a></li>
<li><a class="reference internal" href="#model-variables">Model Variables</a><ul>
<li><a class="reference internal" href="#rates">Rates</a></li>
<li><a class="reference internal" href="#covariates">Covariates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#predictions">Predictions</a></li>
<li><a class="reference internal" href="#display-fit">Display Fit</a></li>
<li><a class="reference internal" href="#source-code">Source Code</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>