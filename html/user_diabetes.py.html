<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="user_diabetes.py, an, example, /, speed, test, fitting, simulated, diabetes, data" name="keywords" />
<meta content="running, this, example" name="keywords" />
<meta content="omega" name="keywords" />
<meta content="rho" name="keywords" />
<meta content="covariates" name="keywords" />
<meta content="covariate, table" name="keywords" />
<meta content="data, table" name="keywords" />
<meta content="multipliers" name="keywords" />
<meta content="truth, var, table" name="keywords" />
<meta content="parent, rates" name="keywords" />
<meta content="child, rate, effects" name="keywords" />
<meta content="predict, table" name="keywords" />
<meta content="problem, parameters" name="keywords" />
<meta content="mulcov_dict" name="keywords" />
<meta content="node_list" name="keywords" />
<meta content="integrand_list" name="keywords" />
<meta content="parent_age_grid" name="keywords" />
<meta content="child_age_grid" name="keywords" />
<meta content="parent_time_grid" name="keywords" />
<meta content="child_time_grid" name="keywords" />
<meta content="ode_step_size" name="keywords" />
<meta content="meas_cv" name="keywords" />
<meta content="meas_repeat" name="keywords" />
<meta content="fit_with_noise_in_data" name="keywords" />
<meta content="random_seed" name="keywords" />
<meta content="quasi_fixed" name="keywords" />
<meta content="tolerance_fixed" name="keywords" />
<meta content="derivative_test_fixed" name="keywords" />
<meta content="truth2start" name="keywords" />
<meta content="accept_rel_err" name="keywords" />
<meta content="source, code" name="keywords" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="user_diff_constraint.py" href="user_diff_constraint.py.html" /><link rel="prev" title="user_data_sim.py" href="user_data_sim.py.html" />

    <meta name="generator" content="sphinx-4.5.0, furo 2022.09.29"/>
        <title>user_diabetes.py - dismod_at documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=d81277517bee4d6b0349d71bb2661d4890b5617c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="xrst_root_doc.html"><div class="brand">dismod_at  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="xrst_root_doc.html">
  
  
  <span class="sidebar-brand-text">dismod_at  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="xrst_table_of_contents.html">Table of Contents</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="dismod_at.html">dismod_at</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="math_abstract.html">math_abstract</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="math_ode.html">math_ode</a></li>
<li class="toctree-l3"><a class="reference internal" href="censor_density.html">censor_density</a></li>
<li class="toctree-l3"><a class="reference internal" href="prevalence_ode.html">prevalence_ode</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="install.html">install</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="dock_dismod_at.sh.html">dock_dismod_at.sh</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="install_unix.html">install_unix</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="run_cmake.sh.html">run_cmake.sh</a></li>
<li class="toctree-l4"><a class="reference internal" href="example_install.sh.html">example_install.sh</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="get_started.html">get_started</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="get_started_db.py.html">get_started_db.py</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="user_example.html">user_example</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="user_age_avg_split.py.html">user_age_avg_split.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_bilevel_random.py.html">user_bilevel_random.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_bnd_mulcov.py.html">user_bnd_mulcov.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_cascade.py.html">user_cascade.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_censor.py.html">user_censor.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_change_grid.py.html">user_change_grid.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_compress.py.html">user_compress.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_const_random.py.html">user_const_random.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_const_value.py.html">user_const_value.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_continue_fit.py.html">user_continue_fit.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_covid_19.py.html">user_covid_19.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_csv2db.py.html">user_csv2db.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_data_density.py.html">user_data_density.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_data_sim.py.html">user_data_sim.py</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">user_diabetes.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_diff_constraint.py.html">user_diff_constraint.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_fit_fixed_both.py.html">user_fit_fixed_both.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_fit_meas_noise.py.html">user_fit_meas_noise.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_fit_random.py.html">user_fit_random.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_fit_sim.py.html">user_fit_sim.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_group_mulcov.py.html">user_group_mulcov.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_hes_fixed_math.py.html">user_hes_fixed_math.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_hes_random.py.html">user_hes_random.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_hold_out_1.py.html">user_hold_out_1.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_hold_out_2.py.html">user_hold_out_2.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_ill_condition.py.html">user_ill_condition.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_jump_at_age.py.html">user_jump_at_age.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_lasso_covariate.py.html">user_lasso_covariate.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_mulstd.py.html">user_mulstd.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_no_children.py.html">user_no_children.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_node_cov_table.py.html">user_node_cov_table.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_one_function.py.html">user_one_function.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_plot_curve.py.html">user_plot_curve.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_plot_data_fit.py.html">user_plot_data_fit.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_plot_rate_fit.py.html">user_plot_rate_fit.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_predict_fit.py.html">user_predict_fit.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_predict_mulcov.py.html">user_predict_mulcov.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_re_scale.py.html">user_re_scale.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_residual.py.html">user_residual.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_sample_asy.py.html">user_sample_asy.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_sample_asy_sim.py.html">user_sample_asy_sim.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_sample_sim.py.html">user_sample_sim.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_sim_log.py.html">user_sim_log.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_speed.py.html">user_speed.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_subgroup_mulcov.py.html">user_subgroup_mulcov.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_sum_residual.py.html">user_sum_residual.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_system_command_prc.py.html">user_system_command_prc.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_trace_init.py.html">user_trace_init.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_trapezoidal.py.html">user_trapezoidal.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_warm_start.py.html">user_warm_start.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_zsum_child_rate.py.html">user_zsum_child_rate.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_zsum_mulcov_meas.py.html">user_zsum_mulcov_meas.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="user_zsum_mulcov_rate.py.html">user_zsum_mulcov_rate.py</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="database.html">database</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="input.html">input</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="age_table.html">age_table</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="age_table.py.html">age_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="avgint_table.html">avgint_table</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="avgint_table.py.html">avgint_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="covariate_table.html">covariate_table</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="covariate_table.py.html">covariate_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="data_table.html">data_table</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="data_table.py.html">data_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="density_table.html">density_table</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="density_table.py.html">density_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="integrand_table.html">integrand_table</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="integrand_table.py.html">integrand_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="mulcov_table.html">mulcov_table</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="mulcov_table.py.html">mulcov_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="node_cov_table.html">node_cov_table</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="node_cov_table.py.html">node_cov_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="node_table.html">node_table</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="node_table.py.html">node_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="nslist_pair_table.html">nslist_pair_table</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="nslist_pair_table.py.html">nslist_pair_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="nslist_table.html">nslist_table</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="nslist_table.py.html">nslist_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="option_table.html">option_table</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="option_default.html">option_default</a></li>
<li class="toctree-l5"><a class="reference internal" href="option_table.py.html">option_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="prior_table.html">prior_table</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="prior_table.py.html">prior_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="rate_table.html">rate_table</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="rate_table.py.html">rate_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="smooth_grid_table.html">smooth_grid_table</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="smooth_grid_table.py.html">smooth_grid_table.py</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="smooth_table.html">smooth_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="subgroup_table.html">subgroup_table</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="time_table.html">time_table</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="time_table.py.html">time_table.py</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="weight_grid_table.html">weight_grid_table</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="weight_grid_table.py.html">weight_grid_table.py</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="weight_table.html">weight_table</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="data_flow.html">data_flow</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="age_avg_table.html">age_avg_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="bnd_mulcov_table.html">bnd_mulcov_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="data_sim_table.html">data_sim_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="data_subset_table.html">data_subset_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="depend_var_table.html">depend_var_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="fit_data_subset_table.html">fit_data_subset_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="fit_var_table.html">fit_var_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="hes_fixed_table.html">hes_fixed_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="hes_random_table.html">hes_random_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="log_table.html">log_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="mixed_info_table.html">mixed_info_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="predict_table.html">predict_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="prior_sim_table.html">prior_sim_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="sample_table.html">sample_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="scale_var_table.html">scale_var_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="start_var_table.html">start_var_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="trace_fixed_table.html">trace_fixed_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="truth_var_table.html">truth_var_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="var_table.html">var_table</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="model.html">model</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="model_variables.html">model_variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="avg_integrand.html">avg_integrand</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_like.html">data_like</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="variable_prior.html">variable_prior</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="fixed_value.html">fixed_value</a></li>
<li class="toctree-l4"><a class="reference internal" href="random_value.html">random_value</a></li>
<li class="toctree-l4"><a class="reference internal" href="smooth_dage.html">smooth_dage</a></li>
<li class="toctree-l4"><a class="reference internal" href="smooth_dtime.html">smooth_dtime</a></li>
<li class="toctree-l4"><a class="reference internal" href="fixed_diff.html">fixed_diff</a></li>
<li class="toctree-l4"><a class="reference internal" href="random_diff.html">random_diff</a></li>
<li class="toctree-l4"><a class="reference internal" href="fixed_prior.html">fixed_prior</a></li>
<li class="toctree-l4"><a class="reference internal" href="random_prior.html">random_prior</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="statistic.html">statistic</a></li>
<li class="toctree-l3"><a class="reference internal" href="bilinear.html">bilinear</a></li>
<li class="toctree-l3"><a class="reference internal" href="posterior.html">posterior</a></li>
<li class="toctree-l3"><a class="reference internal" href="prev_dep.html">prev_dep</a></li>
<li class="toctree-l3"><a class="reference internal" href="numeric_average.html">numeric_average</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="command.html">command</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="bnd_mulcov_command.html">bnd_mulcov_command</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_density_command.html">data_density_command</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="depend_command.html">depend_command</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="depend_command.py.html">depend_command.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="fit_command.html">fit_command</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="fit_command.py.html">fit_command.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="hold_out_command.html">hold_out_command</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="init_command.html">init_command</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="init_command.py.html">init_command.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="old2new_command.html">old2new_command</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="old2new_command.py.html">old2new_command.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="predict_command.html">predict_command</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="predict_command.py.html">predict_command.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="sample_command.html">sample_command</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="sample_command.py.html">sample_command.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="set_command.html">set_command</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="set_command.py.html">set_command.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="simulate_command.html">simulate_command</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="simulate_command.py.html">simulate_command.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="dismodat.py.html">dismodat.py</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="python.html">python</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="average_integrand.html">average_integrand</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="user_average_integrand.py.html">user_average_integrand.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="connection_file.html">connection_file</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/><label for="toctree-checkbox-40"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="user_connection_file.py.html">user_connection_file.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="create_connection.html">create_connection</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="create_database.html">create_database</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/><label for="toctree-checkbox-41"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="create_database.py.html">create_database.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="create_table.html">create_table</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/><label for="toctree-checkbox-42"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="create_table.py.html">create_table.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="csv2db_command.html">csv2db_command</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="db2csv_command.html">db2csv_command</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/><label for="toctree-checkbox-43"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="db2csv_command.py.html">db2csv_command.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="ihme_db.sh.html">ihme_db.sh</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="get_name_type.html">get_name_type</a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/><label for="toctree-checkbox-44"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="get_name_type.py.html">get_name_type.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="get_row_list.html">get_row_list</a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/><label for="toctree-checkbox-45"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="get_row_list.py.html">get_row_list.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="get_table_dict.html">get_table_dict</a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/><label for="toctree-checkbox-46"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="get_table_dict.py.html">get_table_dict.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="metropolis.html">metropolis</a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/><label for="toctree-checkbox-47"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="user_metropolis.py.html">user_metropolis.py</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="modify_command.html">modify_command</a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" role="switch" type="checkbox"/><label for="toctree-checkbox-48"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="modify_command.py.html">modify_command.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="perturb_command.html">perturb_command</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_curve.html">plot_curve</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_data_fit.html">plot_data_fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_rate_fit.html">plot_rate_fit</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="replace_table.html">replace_table</a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" role="switch" type="checkbox"/><label for="toctree-checkbox-49"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="replace_table.py.html">replace_table.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sql_command.html">sql_command</a></li>
<li class="toctree-l3"><a class="reference internal" href="system_command_prc.html">system_command_prc</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="unicode_tuple.html">unicode_tuple</a><input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" role="switch" type="checkbox"/><label for="toctree-checkbox-50"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="unicode_tuple.py.html">unicode_tuple.py</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="release_notes.html">release_notes</a><input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" role="switch" type="checkbox"/><label for="toctree-checkbox-51"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2022.html">whats_new_2022</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2021.html">whats_new_2021</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2020.html">whats_new_2020</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2019.html">whats_new_2019</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2018.html">whats_new_2018</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2017.html">whats_new_2017</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2016.html">whats_new_2016</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats_new_2015.html">whats_new_2015</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="wish_list.html">wish_list</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="xrst_index.html">Index</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <p class="hidden"><span class="math notranslate nohighlight">\(\newcommand{\B}[1]{ {\bf #1} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\R}[1]{ {\rm #1} }\)</span>
<span class="math notranslate nohighlight">\(\newcommand{\W}[1]{ \; #1 \; }\)</span></p>
<section id="user-diabetes-py">
<span id="user-diabetes-py-name"></span><h1>user_diabetes.py<a class="headerlink" href="#user-diabetes-py" title="Permalink to this headline">#</a></h1>
<a href="_sources/user_diabetes.py.rst.txt">View page source</a><section id="an-example-speed-test-fitting-simulated-diabetes-data">
<span id="user-diabetes-py-title"></span><span id="index-0"></span><h2>An Example / Speed Test Fitting Simulated Diabetes Data<a class="headerlink" href="#an-example-speed-test-fitting-simulated-diabetes-data" title="Permalink to this headline">#</a></h2>
<section id="running-this-example">
<span id="user-diabetes-py-running-this-example"></span><span id="index-1"></span><h3>Running This example<a class="headerlink" href="#running-this-example" title="Permalink to this headline">#</a></h3>
<p>see <a class="reference internal" href="user_example.html#user-example-run-one-example"><span class="std std-ref">Run One Example</span></a> .
The time required to run the program will be printed at then end.</p>
</section>
<section id="omega">
<span id="user-diabetes-py-omega"></span><span id="index-2"></span><h3>omega<a class="headerlink" href="#omega" title="Permalink to this headline">#</a></h3>
<p>The model rate <a class="reference internal" href="rate_table.html#rate-table-rate-name-omega"><span class="std std-ref">omega</span></a>
is constrained to have the value used during simulation of the data.</p>
</section>
<section id="rho">
<span id="user-diabetes-py-rho"></span><span id="index-3"></span><h3>rho<a class="headerlink" href="#rho" title="Permalink to this headline">#</a></h3>
<p>The model rate <a class="reference internal" href="rate_table.html#rate-table-rate-name-rho"><span class="std std-ref">rho</span></a>
is constrained to be zero.</p>
</section>
<section id="covariates">
<span id="user-diabetes-py-covariates"></span><span id="index-4"></span><h3>Covariates<a class="headerlink" href="#covariates" title="Permalink to this headline">#</a></h3>
<section id="covariate-table">
<span id="user-diabetes-py-covariates-covariate-table"></span><span id="index-5"></span><h4>Covariate Table<a class="headerlink" href="#covariate-table" title="Permalink to this headline">#</a></h4>
<p>The covariate table has the following values:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-default">
<tbody>
<tr class="row-odd"><td><p>covariate_name</p></td>
<td><p>reference</p></td>
<td><p>max_difference</p></td>
</tr>
<tr class="row-even"><td><p>sex</p></td>
<td><p>0</p></td>
<td><p>0.6</p></td>
</tr>
<tr class="row-odd"><td><p>bmi</p></td>
<td><p>28</p></td>
<td><p>null</p></td>
</tr>
<tr class="row-even"><td><p>ms_2000</p></td>
<td><p>0</p></td>
<td><p>null</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="data-table">
<span id="user-diabetes-py-covariates-data-table"></span><span id="index-6"></span><h4>Data Table<a class="headerlink" href="#data-table" title="Permalink to this headline">#</a></h4>
<p>The <a class="reference internal" href="data_table.html#data-table-covariates"><span class="std std-ref">covariate</span></a> columns in the
data table have the following values:
<em>sex</em> is <code class="docutils literal notranslate"><span class="pre">0.5</span></code> for male and <code class="docutils literal notranslate"><span class="pre">-0.5</span></code> for female,
<em>bmi</em> is body mass index 20 &lt;= <em>bmi</em>  &lt;= 36 ,
<em>ms_2000</em> is <code class="docutils literal notranslate"><span class="pre">1.0</span></code> if this is year 2000 market scan data
and <code class="docutils literal notranslate"><span class="pre">0.0</span></code> otherwise.</p>
</section>
<section id="multipliers">
<span id="user-diabetes-py-covariates-multipliers"></span><span id="index-7"></span><h4>Multipliers<a class="headerlink" href="#multipliers" title="Permalink to this headline">#</a></h4>
<p>There are three covariate multipliers, one for each covariate.
(In general, a covariate can have more than one multiplier.)
In addition, each covariate multiplier has one grid point; i.e.,
the multiplier is constant in age and time.
The value for each multiplier has a uniform distribution
with the lower and upper limits below:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-default">
<tbody>
<tr class="row-odd"><td><p>covariate</p></td>
<td><p>affected</p></td>
<td><p>lower</p></td>
<td><p>upper</p></td>
</tr>
<tr class="row-even"><td><p>sex</p></td>
<td><p>iota</p></td>
<td><p>-2.0</p></td>
<td><p>+2.0</p></td>
</tr>
<tr class="row-odd"><td><p>bmi</p></td>
<td><p>iota</p></td>
<td><p>-0.1</p></td>
<td><p>+0.1</p></td>
</tr>
<tr class="row-even"><td><p>ms_2000</p></td>
<td><p>prevalence</p></td>
<td><p>-1.0</p></td>
<td><p>+1.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Note that the for sex and bmi these are
<a class="reference internal" href="mulcov_table.html#mulcov-table-mulcov-type-rate-value"><span class="std std-ref">rate_value</span></a> multipliers and
for ms_2000 it is a
<a class="reference internal" href="mulcov_table.html#mulcov-table-mulcov-type-meas-value"><span class="std std-ref">meas_value</span></a> multiplier.</p>
</section>
</section>
<section id="truth-var-table">
<span id="user-diabetes-py-truth-var-table"></span><span id="index-8"></span><h3>Truth Var Table<a class="headerlink" href="#truth-var-table" title="Permalink to this headline">#</a></h3>
<p>The values in the <a class="reference internal" href="truth_var_table.html#truth-var-table-name"><span class="std std-ref">truth_var_table</span></a> are generated using bilinear
interpolation of the log of values specified points.</p>
<section id="parent-rates">
<span id="user-diabetes-py-truth-var-table-parent-rates"></span><span id="index-9"></span><h4>Parent Rates<a class="headerlink" href="#parent-rates" title="Permalink to this headline">#</a></h4>
<p>We use the notation
as for age start,
ae for age end,
ts for time start, and
te for time end.
The following table gives the values used for the parent rates
(note that the parent rate for pini cannot change with age):</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-default">
<tbody>
<tr class="row-odd"><td><p>rate</p></td>
<td><p>(as,ts)</p></td>
<td><p>(as,te)</p></td>
<td><p>(ae,ts)</p></td>
<td><p>(ae,te)</p></td>
</tr>
<tr class="row-even"><td><p>pini</p></td>
<td><p>.01</p></td>
<td><p>.01</p></td>
<td><p>.01</p></td>
<td><p>.01</p></td>
</tr>
<tr class="row-odd"><td><p>iota</p></td>
<td><p>.001</p></td>
<td><p>.002</p></td>
<td><p>.01</p></td>
<td><p>.02</p></td>
</tr>
<tr class="row-even"><td><p>omega</p></td>
<td><p>.003</p></td>
<td><p>.002</p></td>
<td><p>.3</p></td>
<td><p>.2</p></td>
</tr>
<tr class="row-odd"><td><p>chi</p></td>
<td><p>.004</p></td>
<td><p>.002</p></td>
<td><p>.1</p></td>
<td><p>.05</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="child-rate-effects">
<span id="user-diabetes-py-truth-var-table-child-rate-effects"></span><span id="index-10"></span><h4>Child Rate Effects<a class="headerlink" href="#child-rate-effects" title="Permalink to this headline">#</a></h4>
<p>The child rate effects are in log space
(see <a class="reference internal" href="avg_integrand.html#avg-integrand-rate-functions-child-rate-effect-u-ik"><span class="std std-ref">u_ik</span></a> ),
constant in age and time,
positive for even index children, negative for odd indices, and have the
following values:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-default">
<tbody>
<tr class="row-odd"><td><p>rate</p></td>
<td><p>even index</p></td>
<td><p>odd index</p></td>
</tr>
<tr class="row-even"><td><p>pini</p></td>
<td><p>.1</p></td>
<td><p>-.1</p></td>
</tr>
<tr class="row-odd"><td><p>iota</p></td>
<td><p>.15</p></td>
<td><p>-.15</p></td>
</tr>
<tr class="row-even"><td><p>chi</p></td>
<td><p>.25</p></td>
<td><p>-.25</p></td>
</tr>
</tbody>
</table>
</div>
<p>There is an exception for omega, which is constrained. It is defined
on the parent age grid and has the following values:</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-default">
<tbody>
<tr class="row-odd"><td><p>index</p></td>
<td><p>(as,ts)</p></td>
<td><p>(as,te)</p></td>
<td><p>(ae,ts)</p></td>
<td><p>(ae,te)</p></td>
</tr>
<tr class="row-even"><td><p>even</p></td>
<td><p>.1</p></td>
<td><p>.02</p></td>
<td><p>.02</p></td>
<td><p>.03</p></td>
</tr>
<tr class="row-odd"><td><p>odd</p></td>
<td><p>-.1</p></td>
<td><p>-.02</p></td>
<td><p>-.02</p></td>
<td><p>-.03</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="predict-table">
<span id="user-diabetes-py-predict-table"></span><span id="index-11"></span><h3>Predict Table<a class="headerlink" href="#predict-table" title="Permalink to this headline">#</a></h3>
<p>The <a class="reference internal" href="predict_command.html#predict-command-name"><span class="std std-ref">predict_command</span></a> is used to compute the
<a class="reference internal" href="predict_table.html#predict-table-avg-integrand"><span class="std std-ref">avg_integrand</span></a> corresponding to the
true values for the variables.
This is then used to create a version of the <a class="reference internal" href="data_table.html#data-table-name"><span class="std std-ref">data_table</span></a>
with no noise, and with a standard deviation that is modeled using
a coefficient of variation.</p>
</section>
<section id="problem-parameters">
<span id="user-diabetes-py-problem-parameters"></span><span id="index-12"></span><h3>Problem Parameters<a class="headerlink" href="#problem-parameters" title="Permalink to this headline">#</a></h3>
<p>The problem parameters below can (and should) be changed to experiment with
how they affect the results.</p>
<section id="mulcov-dict">
<span id="user-diabetes-py-problem-parameters-mulcov-dict"></span><span id="index-13"></span><h4>mulcov_dict<a class="headerlink" href="#mulcov-dict" title="Permalink to this headline">#</a></h4>
<p>This is a dictionary that maps each covariate name
to the true value for the corresponding covariate multiplier.
These values must satisfy the lower and upper
<a class="reference internal" href="#user-diabetes-py-covariates-multipliers"><span class="std std-ref">multiplier</span></a> limits above:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">mulcov_dict</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;sex&#39;</span><span class="p">:</span><span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;bmi&#39;</span><span class="p">:</span><span class="mf">0.02</span><span class="p">,</span> <span class="s1">&#39;ms_2000&#39;</span><span class="p">:</span><span class="mf">0.25</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="node-list">
<span id="user-diabetes-py-problem-parameters-node-list"></span><span id="index-14"></span><h4>node_list<a class="headerlink" href="#node-list" title="Permalink to this headline">#</a></h4>
<p>This is a <code class="docutils literal notranslate"><span class="pre">list</span></code> with <code class="docutils literal notranslate"><span class="pre">str</span></code> elements.
The first element of this list is the parent node,
the others are the child nodes. There must be an even number of children;
i.e., an odd number of elements in this list.
The case with no child nodes; i.e., one element in the list, is OK:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">node_list</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="s1">&#39;Alabama&#39;</span><span class="p">,</span> <span class="s1">&#39;California&#39;</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="integrand-list">
<span id="user-diabetes-py-problem-parameters-integrand-list"></span><span id="index-15"></span><h4>integrand_list<a class="headerlink" href="#integrand-list" title="Permalink to this headline">#</a></h4>
<p>This is a <code class="docutils literal notranslate"><span class="pre">list</span></code> with <code class="docutils literal notranslate"><span class="pre">str</span></code> elements that are
<a class="reference internal" href="integrand_table.html#integrand-table-integrand-name"><span class="std std-ref">integrand names</span></a>
that will have measurements in the <a class="reference internal" href="data_table.html#data-table-name"><span class="std std-ref">data_table</span></a>
and <a class="reference internal" href="data_sim_table.html#data-sim-table-name"><span class="std std-ref">data_sim_table</span></a> .
As mentioned above, the rates
<a class="reference internal" href="#user-diabetes-py-omega"><span class="std std-ref">omega</span></a>  and
<a class="reference internal" href="#user-diabetes-py-rho"><span class="std std-ref">rho</span></a>
are know during the estimation (fitting) process.
The integrands must inform the estimation of
the model rates for
<a class="reference internal" href="rate_table.html#rate-table-rate-name-pini"><span class="std std-ref">pini</span></a> ,
<a class="reference internal" href="rate_table.html#rate-table-rate-name-iota"><span class="std std-ref">iota</span></a> , and
<a class="reference internal" href="rate_table.html#rate-table-rate-name-chi"><span class="std std-ref">chi</span></a> .
Note that measuring prevalence at age zero should determine pini,
prevalence at other ages corresponds to integrals of iota, and
given prevalence, mtspecific should determine chi.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">integrand_table</span> <span class="o">=</span> <span class="p">[</span>
   <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;mtspecific&#39;</span> <span class="p">},</span>
   <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;prevalence&#39;</span> <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="parent-age-grid">
<span id="user-diabetes-py-problem-parameters-parent-age-grid"></span><span id="index-16"></span><h4>parent_age_grid<a class="headerlink" href="#parent-age-grid" title="Permalink to this headline">#</a></h4>
<p>This specifies the age grid used for all the parent rate
<a class="reference internal" href="rate_table.html#rate-table-parent-smooth-id"><span class="std std-ref">smoothings</span></a> .
It is also the age grid used for constraining the child omega rates using
<a class="reference internal" href="rate_table.html#rate-table-child-nslist-id"><span class="std std-ref">child_nslist_id</span></a> .
In addition, it is the set of ages in the <a class="reference internal" href="age_table.html#age-table-name"><span class="std std-ref">age_table</span></a> .
It is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> with <code class="docutils literal notranslate"><span class="pre">float</span></code> values
(except for <em>number</em> which is a positive <code class="docutils literal notranslate"><span class="pre">int</span></code> ) containing
the start age, end age, number of age grid points, and
standard deviation of the log-Gaussian used to smooth the
<a class="reference internal" href="model_variables.html#model-variables-fixed-effects-theta-parent-rates"><span class="std std-ref">Parent Rates</span></a>
age differences.
(This does not include <a class="reference internal" href="rate_table.html#rate-table-rate-name-pini"><span class="std std-ref">pini</span></a>
because it only has one age point.)
The interval between age grid points is the end age, minus the start age,
divided by the number of grid points minus one.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">parent_age_grid</span>  <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span><span class="mf">100.0</span><span class="p">,</span> <span class="s1">&#39;number&#39;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">:</span><span class="mf">0.4</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="child-age-grid">
<span id="user-diabetes-py-problem-parameters-child-age-grid"></span><span id="index-17"></span><h4>child_age_grid<a class="headerlink" href="#child-age-grid" title="Permalink to this headline">#</a></h4>
<p>The is the age grid used for all the child rate effect
<a class="reference internal" href="rate_table.html#rate-table-child-smooth-id"><span class="std std-ref">smoothings</span></a> except for
omega (see <em>parent_age_grid</em> above).
It is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> with the following values:
The value of <em>index</em> is a list of indices (<code class="docutils literal notranslate"><span class="pre">int</span></code> ) in the parent
age grid where there are
<a class="reference internal" href="model_variables.html#model-variables-random-effects-u"><span class="std std-ref">random effects</span></a> .
Each of these indices must be less than <em>number</em> in the age grid.
The value <em>std</em> (a <code class="docutils literal notranslate"><span class="pre">float</span></code> ) is the standard deviation in the
Gaussian used to smooth the child rate effect values.
(This does not include <a class="reference internal" href="rate_table.html#rate-table-rate-name-pini"><span class="std std-ref">pini</span></a>
because it only has one age point.)</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">child_age_grid</span>  <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;index&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;std&#39;</span><span class="p">:</span><span class="mf">0.2</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="parent-time-grid">
<span id="user-diabetes-py-problem-parameters-parent-time-grid"></span><span id="index-18"></span><h4>parent_time_grid<a class="headerlink" href="#parent-time-grid" title="Permalink to this headline">#</a></h4>
<p>This specifies the time grid used for all the parent rate
<a class="reference internal" href="rate_table.html#rate-table-parent-smooth-id"><span class="std std-ref">smoothings</span></a> .
It is also the time grid used for constraining the child omega rates using
<a class="reference internal" href="rate_table.html#rate-table-child-nslist-id"><span class="std std-ref">child_nslist_id</span></a> .
In addition, it is the set of times in the <a class="reference internal" href="time_table.html#time-table-name"><span class="std std-ref">time_table</span></a> .
<a class="reference internal" href="rate_table.html#rate-table-child-nslist-id"><span class="std std-ref">child_nslist_id</span></a> .
It is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> with <code class="docutils literal notranslate"><span class="pre">float</span></code> values
(except for <em>number</em> which is a positive <code class="docutils literal notranslate"><span class="pre">int</span></code> ) containing
the start time, end time, number of time grid points, and
standard deviation of the log-Gaussian used to smooth the
<a class="reference internal" href="model_variables.html#model-variables-fixed-effects-theta-parent-rates"><span class="std std-ref">Parent Rates</span></a>
time differences.
(This includes <a class="reference internal" href="rate_table.html#rate-table-rate-name-pini"><span class="std std-ref">pini</span></a> ).
This is also the set of times in the <a class="reference internal" href="time_table.html#time-table-name"><span class="std std-ref">time_table</span></a> .
The interval between time grid points is the end time, minus the start time,
divided by the number of grid points minus one.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">parent_time_grid</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;start&#39;</span><span class="p">:</span><span class="mf">1990.0</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="mi">2020</span><span class="p">,</span> <span class="s1">&#39;number&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">:</span><span class="mf">0.6</span>  <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="child-time-grid">
<span id="user-diabetes-py-problem-parameters-child-time-grid"></span><span id="index-19"></span><h4>child_time_grid<a class="headerlink" href="#child-time-grid" title="Permalink to this headline">#</a></h4>
<p>The is the time grid used for all the child rate effect
<a class="reference internal" href="rate_table.html#rate-table-child-smooth-id"><span class="std std-ref">smoothings</span></a> except for
omega (see <em>parent_time_grid</em> above).
It is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> with the following values:
The value of <em>index</em> is a list of indices (<code class="docutils literal notranslate"><span class="pre">int</span></code> ) in the parent
time grid where there are
<a class="reference internal" href="model_variables.html#model-variables-random-effects-u"><span class="std std-ref">random effects</span></a> .
Each of these indices must be less than <em>number</em> in the time grid.
The value <em>std</em> (a <code class="docutils literal notranslate"><span class="pre">float</span></code> ) is the standard deviation in the
Gaussian used to smooth the child rate effect values.
(This includes <a class="reference internal" href="rate_table.html#rate-table-rate-name-pini"><span class="std std-ref">pini</span></a> ).</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">child_time_grid</span>  <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;index&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;std&#39;</span><span class="p">:</span><span class="mf">0.2</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="ode-step-size">
<span id="user-diabetes-py-problem-parameters-ode-step-size"></span><span id="index-20"></span><h4>ode_step_size<a class="headerlink" href="#ode-step-size" title="Permalink to this headline">#</a></h4>
<p>This is a <code class="docutils literal notranslate"><span class="pre">str</span></code> that specifies the
<a class="reference internal" href="option_table.html#option-table-age-average-grid-ode-step-size"><span class="std std-ref">ode_step_size</span></a> .
It is suggest that this value be less than the intervals in the
age and time grids:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">ode_step_size</span> <span class="o">=</span> <span class="s1">&#39;10.0&#39;</span>
</pre></div>
</div>
</section>
<section id="meas-cv">
<span id="user-diabetes-py-problem-parameters-meas-cv"></span><span id="index-21"></span><h4>meas_cv<a class="headerlink" href="#meas-cv" title="Permalink to this headline">#</a></h4>
<p>This is a <code class="docutils literal notranslate"><span class="pre">float</span></code> that specifies the measurement standard deviations
<a class="reference internal" href="data_table.html#data-table-meas-std"><span class="std std-ref">meas_std</span></a> by</p>
<blockquote>
<div><p><em>meas_std</em> = <em>meas_cv</em> * <em>meas_value</em></p>
</div></blockquote>
<p>For this example, the data table column
<a class="reference internal" href="data_table.html#data-table-meas-value"><span class="std std-ref">meas_value</span></a> does not have any noise; i.e.,
the values in that column are the corresponding
<a class="reference internal" href="avg_integrand.html#avg-integrand-average-integrand-a-i"><span class="std std-ref">average integrand</span></a> .
The <em>meas_std</em> determines the noise level used by the
<a class="reference internal" href="simulate_command.html#simulate-command-name"><span class="std std-ref">simulate_command</span></a> :</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">meas_cv</span> <span class="o">=</span> <span class="mf">0.1</span>
</pre></div>
</div>
</section>
<section id="meas-repeat">
<span id="user-diabetes-py-problem-parameters-meas-repeat"></span><span id="index-22"></span><h4>meas_repeat<a class="headerlink" href="#meas-repeat" title="Permalink to this headline">#</a></h4>
<p>This is a positive <code class="docutils literal notranslate"><span class="pre">int</span></code> that specifies
the number of times each noiseless measurement is repeated.
Note that the simulated measurements will be different, because
the noise for each measurement will be different.
There are <em>meas_repeat</em>
data points for each integrand in the integrand list,
each age in the age grid,
each time in the time grid,
each node in the node list.
In addition if an age is not the first age and time is not the first time,
there is a data point in the middle of the age-time interval that ends
at that (age, time):</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">meas_repeat</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
</section>
<section id="fit-with-noise-in-data">
<span id="user-diabetes-py-problem-parameters-fit-with-noise-in-data"></span><span id="index-23"></span><h4>fit_with_noise_in_data<a class="headerlink" href="#fit-with-noise-in-data" title="Permalink to this headline">#</a></h4>
<p>This is a <code class="docutils literal notranslate"><span class="pre">bool</span></code> that specifies if measurement noise is included
when fitting the data; i.e., if the column
<a class="reference internal" href="data_sim_table.html#data-sim-table-data-sim-value"><span class="std std-ref">data_sim_value</span></a> is used to
fit the <a class="reference internal" href="model_variables.html#model-variables-name"><span class="std std-ref">model_variables</span></a> .
Otherwise, the measurements without noise
are used to fit the model variables; i.e., the column
<a class="reference internal" href="data_table.html#data-table-meas-value"><span class="std std-ref">meas_value</span></a> :</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">fit_with_noise_in_data</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
<section id="random-seed">
<span id="user-diabetes-py-problem-parameters-random-seed"></span><span id="index-24"></span><h4>random_seed<a class="headerlink" href="#random-seed" title="Permalink to this headline">#</a></h4>
<p>This <code class="docutils literal notranslate"><span class="pre">str</span></code> must be a non-negative integer and is the
<a class="reference internal" href="option_table.html#option-table-random-seed"><span class="std std-ref">random_seed</span></a> option value.
This is used to seed the random number generator used to simulate the
noise in the measurement values.
The affects the results of the fit when <em>fit_with_noise_in_data</em>
is true</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">random_seed</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
</pre></div>
</div>
</section>
<section id="quasi-fixed">
<span id="user-diabetes-py-problem-parameters-quasi-fixed"></span><span id="index-25"></span><h4>quasi_fixed<a class="headerlink" href="#quasi-fixed" title="Permalink to this headline">#</a></h4>
<p>This <code class="docutils literal notranslate"><span class="pre">str</span></code> that is either <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code> and is the
<a class="reference internal" href="option_table.html#option-table-optimize-fixed-only-quasi-fixed"><span class="std std-ref">quasi_fixed</span></a> option value.
If it is true, a quasi-Newton method is used.
This only requires function values and
first derivatives for the objective and constraints.
If it is false, a Newton method is used.
This requires second derivatives in which case initialization
and function evaluations take longer:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">quasi_fixed</span> <span class="o">=</span> <span class="s1">&#39;false&#39;</span>
</pre></div>
</div>
</section>
<section id="tolerance-fixed">
<span id="user-diabetes-py-problem-parameters-tolerance-fixed"></span><span id="index-26"></span><h4>tolerance_fixed<a class="headerlink" href="#tolerance-fixed" title="Permalink to this headline">#</a></h4>
<p>This <code class="docutils literal notranslate"><span class="pre">str</span></code> contains the
<a class="reference internal" href="option_table.html#option-table-optimize-fixed-and-random-tolerance"><span class="std std-ref">tolerance_fixed</span></a> option value.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">tolerance_fixed</span> <span class="o">=</span> <span class="s1">&#39;1e-4&#39;</span>
</pre></div>
</div>
</section>
<section id="derivative-test-fixed">
<span id="user-diabetes-py-problem-parameters-derivative-test-fixed"></span><span id="index-27"></span><h4>derivative_test_fixed<a class="headerlink" href="#derivative-test-fixed" title="Permalink to this headline">#</a></h4>
<p>This <code class="docutils literal notranslate"><span class="pre">str</span></code> is the
<a class="reference internal" href="option_table.html#option-table-optimize-fixed-and-random-derivative-test"><span class="std std-ref">derivative_test</span></a>
option for the fixed effects.
The choice <code class="docutils literal notranslate"><span class="pre">trace-adaptive</span></code> can be used to see if the partial
derivatives of the objective and constraints after the
<a class="reference internal" href="prior_table.html#prior-table-eta-scaling-fixed-effects"><span class="std std-ref">scaling</span></a> of the fixed effects.
The choice <code class="docutils literal notranslate"><span class="pre">none</span></code> is normal for a working example.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">derivative_test_fixed</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span>
</pre></div>
</div>
</section>
<section id="truth2start">
<span id="user-diabetes-py-problem-parameters-truth2start"></span><span id="index-28"></span><h4>truth2start<a class="headerlink" href="#truth2start" title="Permalink to this headline">#</a></h4>
<p>This is a <code class="docutils literal notranslate"><span class="pre">float</span></code> that is used to map</p>
<blockquote>
<div><p><em>start_var_value</em> = <em>truth2start</em> * <em>truth_var_value</em></p>
</div></blockquote>
<p>for each model variable that is not constrained to a specific value.
The notation
<a class="reference internal" href="truth_var_table.html#truth-var-table-truth-var-value"><span class="std std-ref">truth_var_value</span></a> is the true value
used to simulate the data and
<a class="reference internal" href="start_var_table.html#start-var-table-start-var-value"><span class="std std-ref">start_var_value</span></a> is the initial
value of the variable during the fit.
An error will result if the starting value for a variable is not within
the upper and lower limits for a variable.
The starting values are also used for the <a class="reference internal" href="scale_var_table.html#scale-var-table-name"><span class="std std-ref">scale_var_table</span></a> .
<em>truth2start</em> :</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">truth2start</span> <span class="o">=</span> <span class="mf">0.3</span>
</pre></div>
</div>
</section>
<section id="accept-rel-err">
<span id="user-diabetes-py-problem-parameters-accept-rel-err"></span><span id="index-29"></span><h4>accept_rel_err<a class="headerlink" href="#accept-rel-err" title="Permalink to this headline">#</a></h4>
<p>This is a <code class="docutils literal notranslate"><span class="pre">float</span></code> that specifies the absolute relative error
to be accepted as passing the test.
If the test passes, for each model variable</p>
<blockquote>
<div><p><em>accept_rel_err</em> &gt;= <em>fit_var_value</em> / <em>truth_var_value</em> <code class="docutils literal notranslate"><span class="pre">-</span> <span class="pre">1.0</span></code></p>
</div></blockquote>
<p>where
<a class="reference internal" href="truth_var_table.html#truth-var-table-truth-var-value"><span class="std std-ref">truth_var_value</span></a> is the true value
used to simulate the data and
<a class="reference internal" href="fit_var_table.html#fit-var-table-fit-var-value"><span class="std std-ref">fit_var_value</span></a> is result of the fit.
A python assertion is generated if the condition above is not satisfied.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="n">accept_rel_err</span> <span class="o">=</span> <span class="mf">0.25</span>
</pre></div>
</div>
</section>
</section>
<section id="source-code">
<span id="user-diabetes-py-source-code"></span><span id="index-30"></span><h3>Source Code<a class="headerlink" href="#source-code" title="Permalink to this headline">#</a></h3>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># ------------------------------------------------------------------------</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="n">test_program</span> <span class="o">=</span> <span class="s1">&#39;example/user/diabetes.py&#39;</span>
<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">test_program</span>  <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">1</span> <span class="p">:</span>
   <span class="n">usage</span>  <span class="o">=</span> <span class="s1">&#39;python3 &#39;</span> <span class="o">+</span> <span class="n">test_program</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
   <span class="n">usage</span> <span class="o">+=</span> <span class="s1">&#39;where python3 is the python 3 program on your system</span><span class="se">\n</span><span class="s1">&#39;</span>
   <span class="n">usage</span> <span class="o">+=</span> <span class="s1">&#39;and working directory is the dismod_at distribution directory</span><span class="se">\n</span><span class="s1">&#39;</span>
   <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">usage</span><span class="p">)</span>
<span class="n">start_second</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="c1">#</span>
<span class="c1"># import dismod_at</span>
<span class="n">local_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;/python&#39;</span>
<span class="k">if</span><span class="p">(</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span> <span class="n">local_dir</span> <span class="o">+</span> <span class="s1">&#39;/dismod_at&#39;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">:</span>
   <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">local_dir</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">dismod_at</span>
<span class="c1">#</span>
<span class="c1"># change into the build/example/user directory</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;build/example/user&#39;</span><span class="p">)</span> <span class="p">:</span>
   <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;build/example/user&#39;</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s1">&#39;build/example/user&#39;</span><span class="p">)</span>
<span class="c1"># ------------------------------------------------------------------------</span>
<span class="k">def</span> <span class="nf">log_bilinear</span><span class="p">(</span><span class="n">grid_value</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
   <span class="c1"># denominator</span>
   <span class="n">da</span>  <span class="o">=</span> <span class="n">parent_age_grid</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">parent_age_grid</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span>
   <span class="n">dt</span>  <span class="o">=</span> <span class="n">parent_time_grid</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">parent_time_grid</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span>
   <span class="n">den</span> <span class="o">=</span> <span class="n">da</span> <span class="o">*</span> <span class="n">dt</span><span class="p">;</span>
   <span class="n">num</span> <span class="o">=</span> <span class="mf">0.0</span>
   <span class="c1">#</span>
   <span class="c1"># value at start age and start time</span>
   <span class="n">da</span>   <span class="o">=</span> <span class="n">parent_age_grid</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">a</span>
   <span class="n">dt</span>   <span class="o">=</span> <span class="n">parent_time_grid</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">t</span>
   <span class="n">num</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span> <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="o">*</span> <span class="n">da</span> <span class="o">*</span> <span class="n">dt</span>
   <span class="c1">#</span>
   <span class="c1"># value at start age and end time</span>
   <span class="n">da</span>   <span class="o">=</span> <span class="n">parent_age_grid</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">a</span>
   <span class="n">dt</span>   <span class="o">=</span> <span class="n">t</span> <span class="o">-</span> <span class="n">parent_time_grid</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span>
   <span class="n">num</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span> <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="o">*</span> <span class="n">da</span> <span class="o">*</span> <span class="n">dt</span>
   <span class="c1">#</span>
   <span class="c1"># value at end age and start time</span>
   <span class="n">da</span>   <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">parent_age_grid</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span>
   <span class="n">dt</span>   <span class="o">=</span> <span class="n">parent_time_grid</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">t</span>
   <span class="n">num</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span> <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, start_time&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="o">*</span> <span class="n">da</span> <span class="o">*</span> <span class="n">dt</span>
   <span class="c1">#</span>
   <span class="c1"># value at end age and end time</span>
   <span class="n">da</span>   <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">parent_age_grid</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span>
   <span class="n">dt</span>   <span class="o">=</span> <span class="n">t</span> <span class="o">-</span> <span class="n">parent_time_grid</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span>
   <span class="n">num</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span> <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, end_time&#39;</span><span class="p">]</span> <span class="p">)</span> <span class="o">*</span> <span class="n">da</span> <span class="o">*</span> <span class="n">dt</span>
   <span class="c1">#</span>
   <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span> <span class="n">num</span> <span class="o">/</span> <span class="n">den</span> <span class="p">)</span>
<span class="c1">#</span>
<span class="k">def</span> <span class="nf">true_rate</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">rate</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
   <span class="n">parent_node</span> <span class="o">=</span> <span class="n">node_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
   <span class="k">if</span> <span class="n">node</span> <span class="o">!=</span> <span class="n">parent_node</span> <span class="p">:</span>
      <span class="n">even_child</span> <span class="o">=</span> <span class="n">node_list</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
   <span class="c1"># default</span>
   <span class="n">grid_value</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
   <span class="c1"># -------------------------------------------------------------------------</span>
   <span class="k">if</span> <span class="n">rate</span> <span class="o">==</span> <span class="s1">&#39;pini&#39;</span> <span class="p">:</span>
      <span class="k">if</span> <span class="n">node</span> <span class="o">==</span> <span class="n">parent_node</span> <span class="p">:</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">.01</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="mf">.01</span>
      <span class="k">elif</span> <span class="n">even_child</span> <span class="p">:</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
      <span class="k">else</span> <span class="p">:</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">0.1</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">0.1</span><span class="p">)</span>
      <span class="c1">#</span>
      <span class="c1"># pini is constant in age</span>
      <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, start_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span>
      <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, end_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span>
      <span class="c1">#</span>
      <span class="n">ret</span> <span class="o">=</span> <span class="n">log_bilinear</span><span class="p">(</span><span class="n">grid_value</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">node</span> <span class="o">!=</span> <span class="n">parent_node</span> <span class="p">:</span>
         <span class="n">ret</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
   <span class="c1"># -------------------------------------------------------------------------</span>
   <span class="k">elif</span> <span class="n">rate</span> <span class="o">==</span> <span class="s1">&#39;iota&#39;</span> <span class="p">:</span>
      <span class="k">if</span> <span class="n">node</span> <span class="o">==</span> <span class="n">parent_node</span> <span class="p">:</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">.001</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="mf">.002</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, start_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="mf">.01</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, end_time&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="mf">.02</span>
      <span class="k">elif</span> <span class="n">even_child</span> <span class="p">:</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">.15</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">.15</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, start_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">.15</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, end_time&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">.15</span><span class="p">)</span>
      <span class="k">else</span> <span class="p">:</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">.15</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">.15</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, start_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">.15</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, end_time&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">.15</span><span class="p">)</span>
      <span class="c1">#</span>
      <span class="n">ret</span> <span class="o">=</span> <span class="n">log_bilinear</span><span class="p">(</span><span class="n">grid_value</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">node</span> <span class="o">!=</span> <span class="n">parent_node</span> <span class="p">:</span>
         <span class="n">ret</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
   <span class="c1"># -------------------------------------------------------------------------</span>
   <span class="c1"># we are constraining omega to its true value so we do a detailed</span>
   <span class="c1"># simulation of the random effect for omega; i.e., it is not constant</span>
   <span class="k">elif</span> <span class="n">rate</span> <span class="o">==</span> <span class="s1">&#39;omega&#39;</span> <span class="p">:</span>
      <span class="k">if</span> <span class="n">node</span> <span class="o">==</span> <span class="n">parent_node</span> <span class="p">:</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">.003</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="mf">.002</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, start_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="mf">.3</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, end_time&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="mf">.2</span>
      <span class="k">elif</span> <span class="n">even_child</span> <span class="p">:</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">.10</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">.20</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, start_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">.20</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, end_time&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">.30</span><span class="p">)</span>
      <span class="k">else</span> <span class="p">:</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">.10</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">.20</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, start_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">.20</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, end_time&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">.30</span><span class="p">)</span>
      <span class="c1">#</span>
      <span class="n">ret</span> <span class="o">=</span> <span class="n">log_bilinear</span><span class="p">(</span><span class="n">grid_value</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">node</span> <span class="o">!=</span> <span class="n">parent_node</span> <span class="p">:</span>
         <span class="n">ret</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
   <span class="c1"># -------------------------------------------------------------------------</span>
   <span class="k">elif</span> <span class="n">rate</span> <span class="o">==</span> <span class="s1">&#39;chi&#39;</span> <span class="p">:</span>
      <span class="k">if</span> <span class="n">node</span> <span class="o">==</span> <span class="n">parent_node</span> <span class="p">:</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">.004</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="mf">.002</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, start_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="mf">.1</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, end_time&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="mf">.05</span>
      <span class="k">elif</span> <span class="n">even_child</span> <span class="p">:</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">.25</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">.25</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, start_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">.25</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, end_time&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="mf">.25</span><span class="p">)</span>
      <span class="k">else</span> <span class="p">:</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, start_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">.25</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;start_age, end_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">.25</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, start_time&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">.25</span><span class="p">)</span>
         <span class="n">grid_value</span><span class="p">[</span><span class="s1">&#39;end_age, end_time&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mf">.25</span><span class="p">)</span>
      <span class="c1">#</span>
      <span class="n">ret</span> <span class="o">=</span> <span class="n">log_bilinear</span><span class="p">(</span><span class="n">grid_value</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
      <span class="k">if</span> <span class="n">node</span> <span class="o">!=</span> <span class="n">parent_node</span> <span class="p">:</span>
         <span class="n">ret</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span>
   <span class="c1"># -------------------------------------------------------------------------</span>
   <span class="k">else</span> <span class="p">:</span>
      <span class="k">assert</span> <span class="kc">False</span>
   <span class="c1">#</span>
   <span class="k">return</span> <span class="n">ret</span>
<span class="c1"># ------------------------------------------------------------------------</span>
<span class="k">def</span> <span class="nf">example_db</span> <span class="p">(</span><span class="n">file_name</span><span class="p">)</span> <span class="p">:</span>
   <span class="c1"># ------------------------------------------------------------------------</span>
   <span class="c1"># functions used for priors in smoothing</span>
   <span class="c1">#</span>
   <span class="c1"># Note that there are no forward differences for covariate multiplier grids.</span>
   <span class="k">def</span> <span class="nf">fun_mulcov_sex</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span><span class="p">(</span><span class="s1">&#39;prior_sex&#39;</span><span class="p">,</span>          <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">fun_mulcov_bmi</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span><span class="p">(</span><span class="s1">&#39;prior_bmi&#39;</span><span class="p">,</span>         <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">fun_mulcov_ms_2000</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span><span class="p">(</span><span class="s1">&#39;prior_ms_2000&#39;</span><span class="p">,</span>     <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
   <span class="c1">#</span>
   <span class="c1"># priors used in smoothing for iota</span>
   <span class="k">def</span> <span class="nf">fun_iota_parent</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span> <span class="p">(</span> \
         <span class="s1">&#39;prior_pos_parent_value&#39;</span><span class="p">,</span> <span class="s1">&#39;prior_parent_age&#39;</span><span class="p">,</span> <span class="s1">&#39;prior_parent_time&#39;</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">fun_iota_child</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;prior_N(0,0.5)&#39;</span><span class="p">,</span> <span class="s1">&#39;prior_child_age&#39;</span><span class="p">,</span> <span class="s1">&#39;prior_child_time&#39;</span><span class="p">)</span>
   <span class="c1">#</span>
   <span class="c1"># priors used in smoothing for chi</span>
   <span class="k">def</span> <span class="nf">fun_chi_parent</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span> <span class="p">(</span> \
         <span class="s1">&#39;prior_pos_parent_value&#39;</span><span class="p">,</span> <span class="s1">&#39;prior_parent_age&#39;</span><span class="p">,</span> <span class="s1">&#39;prior_parent_time&#39;</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">fun_chi_child</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;prior_N(0,0.5)&#39;</span><span class="p">,</span> <span class="s1">&#39;prior_child_age&#39;</span><span class="p">,</span> <span class="s1">&#39;prior_child_time&#39;</span><span class="p">)</span>
   <span class="c1">#</span>
   <span class="c1"># use const_value to constrain omega to true value</span>
   <span class="k">def</span> <span class="nf">fun_omega</span><span class="p">(</span><span class="n">node</span><span class="p">)</span> <span class="p">:</span>
      <span class="c1"># Use default argument to bind the value of node at point of</span>
      <span class="c1"># definition instead of at point of call.</span>
      <span class="k">def</span> <span class="nf">fun_omega_node</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="p">)</span> <span class="p">:</span>
         <span class="n">true_value</span> <span class="o">=</span> <span class="n">true_rate</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;omega&#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
         <span class="k">return</span> <span class="p">(</span><span class="n">true_value</span><span class="p">,</span> <span class="s1">&#39;prior_U(-inf,inf)&#39;</span><span class="p">,</span> <span class="s1">&#39;prior_U(-inf,inf)&#39;</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">fun_omega_node</span>
   <span class="c1">#</span>
   <span class="c1"># priors used in smoothing for pini</span>
   <span class="k">def</span> <span class="nf">fun_pini_parent</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;prior_pini_parent_value&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;prior_parent_time&#39;</span><span class="p">)</span>
   <span class="k">def</span> <span class="nf">fun_pini_child</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span> <span class="p">:</span>
      <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;prior_N(0,0.5)&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;prior_child_time&#39;</span><span class="p">)</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="n">fun</span>                       <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
   <span class="n">fun</span><span class="p">[</span><span class="s1">&#39;mulcov_sex&#39;</span><span class="p">]</span>         <span class="o">=</span> <span class="n">fun_mulcov_sex</span>
   <span class="n">fun</span><span class="p">[</span><span class="s1">&#39;mulcov_bmi&#39;</span><span class="p">]</span>         <span class="o">=</span> <span class="n">fun_mulcov_bmi</span>
   <span class="n">fun</span><span class="p">[</span><span class="s1">&#39;mulcov_ms_2000&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">fun_mulcov_ms_2000</span>
   <span class="n">fun</span><span class="p">[</span><span class="s1">&#39;iota_parent&#39;</span><span class="p">]</span>        <span class="o">=</span> <span class="n">fun_iota_parent</span>
   <span class="n">fun</span><span class="p">[</span><span class="s1">&#39;iota_child&#39;</span><span class="p">]</span>         <span class="o">=</span> <span class="n">fun_iota_child</span>
   <span class="n">fun</span><span class="p">[</span><span class="s1">&#39;chi_parent&#39;</span><span class="p">]</span>         <span class="o">=</span> <span class="n">fun_chi_parent</span>
   <span class="n">fun</span><span class="p">[</span><span class="s1">&#39;chi_child&#39;</span><span class="p">]</span>          <span class="o">=</span> <span class="n">fun_chi_child</span>
   <span class="n">fun</span><span class="p">[</span><span class="s1">&#39;pini_parent&#39;</span><span class="p">]</span>        <span class="o">=</span> <span class="n">fun_pini_parent</span>
   <span class="n">fun</span><span class="p">[</span><span class="s1">&#39;pini_child&#39;</span><span class="p">]</span>         <span class="o">=</span> <span class="n">fun_pini_child</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="c1"># age_list, age_index_rate_parent, age_indexrate__child</span>
   <span class="n">start</span>                     <span class="o">=</span> <span class="n">parent_age_grid</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span>
   <span class="n">end</span>                       <span class="o">=</span> <span class="n">parent_age_grid</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]</span>
   <span class="n">number</span>                    <span class="o">=</span> <span class="n">parent_age_grid</span><span class="p">[</span><span class="s1">&#39;number&#39;</span><span class="p">]</span>
   <span class="n">interval</span>                  <span class="o">=</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">number</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
   <span class="n">age_list</span>                  <span class="o">=</span> <span class="p">[</span> <span class="n">start</span> <span class="o">+</span> <span class="n">j</span> <span class="o">*</span> <span class="n">interval</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">number</span><span class="p">)</span> <span class="p">]</span>
   <span class="n">age_index_rate_parent</span>     <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
   <span class="n">age_index_rate_child</span>      <span class="o">=</span> <span class="n">child_age_grid</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">]</span>
   <span class="c1">#</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="c1"># time_list, time_index_rate_parent, time_index_rate_child</span>
   <span class="n">start</span>                  <span class="o">=</span> <span class="n">parent_time_grid</span><span class="p">[</span><span class="s1">&#39;start&#39;</span><span class="p">]</span>
   <span class="n">end</span>                    <span class="o">=</span> <span class="n">parent_time_grid</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]</span>
   <span class="n">number</span>                 <span class="o">=</span> <span class="n">parent_time_grid</span><span class="p">[</span><span class="s1">&#39;number&#39;</span><span class="p">]</span>
   <span class="n">interval</span>               <span class="o">=</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">number</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
   <span class="n">time_list</span>              <span class="o">=</span> <span class="p">[</span> <span class="n">start</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">interval</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">number</span><span class="p">)</span> <span class="p">]</span>
   <span class="n">time_index_rate_parent</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
   <span class="n">time_index_rate_child</span>  <span class="o">=</span> <span class="n">child_time_grid</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">]</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="c1"># node table:</span>
   <span class="n">parent_node</span> <span class="o">=</span> <span class="n">node_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
   <span class="n">node_table</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="n">parent_node</span><span class="p">,</span> <span class="s1">&#39;parent&#39;</span><span class="p">:</span><span class="s1">&#39;&#39;</span> <span class="p">}</span> <span class="p">]</span>
   <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">node_list</span><span class="p">)</span> <span class="p">)</span> <span class="p">:</span>
      <span class="n">node_table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="n">node_list</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="s1">&#39;parent&#39;</span><span class="p">:</span><span class="n">parent_node</span> <span class="p">}</span> <span class="p">)</span>
   <span class="c1">#</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="c1"># weight table</span>
   <span class="n">weight_table</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="c1"># prior_table</span>
   <span class="n">prior_table</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="c1"># prior_N(0,0.5)</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>     <span class="s1">&#39;prior_N(0,0.5)&#39;</span><span class="p">,</span>
         <span class="s1">&#39;density&#39;</span><span class="p">:</span>  <span class="s1">&#39;gaussian&#39;</span><span class="p">,</span>
         <span class="s1">&#39;mean&#39;</span><span class="p">:</span>     <span class="mf">0.0</span><span class="p">,</span>
         <span class="s1">&#39;std&#39;</span><span class="p">:</span>      <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="c1"># prior_U(-inf,inf)</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>     <span class="s1">&#39;prior_U(-inf,inf)&#39;</span><span class="p">,</span>
         <span class="s1">&#39;density&#39;</span><span class="p">:</span>  <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
         <span class="s1">&#39;mean&#39;</span><span class="p">:</span>     <span class="mf">0.0</span><span class="p">,</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="c1"># prior_pini_parent_value</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>     <span class="s1">&#39;prior_pini_parent_value&#39;</span><span class="p">,</span>
         <span class="s1">&#39;density&#39;</span><span class="p">:</span>  <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
         <span class="s1">&#39;mean&#39;</span><span class="p">:</span>     <span class="mf">0.1</span><span class="p">,</span>  <span class="c1"># setting start_var table so mean has no affect</span>
         <span class="s1">&#39;lower&#39;</span><span class="p">:</span>    <span class="mf">0.0</span><span class="p">,</span>
         <span class="s1">&#39;upper&#39;</span><span class="p">:</span>    <span class="mf">1.0</span><span class="p">,</span>
         <span class="s1">&#39;eta&#39;</span><span class="p">:</span>      <span class="mf">1e-5</span><span class="p">,</span> <span class="c1"># used for log-scaling during optimization</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="c1"># prior_pos_parent_value</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>     <span class="s1">&#39;prior_pos_parent_value&#39;</span><span class="p">,</span>
         <span class="s1">&#39;density&#39;</span><span class="p">:</span>  <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
         <span class="s1">&#39;mean&#39;</span><span class="p">:</span>     <span class="mf">0.1</span><span class="p">,</span> <span class="c1"># setting start_var table so mean has no affect</span>
         <span class="s1">&#39;lower&#39;</span><span class="p">:</span>    <span class="mf">1e-8</span><span class="p">,</span>
         <span class="s1">&#39;upper&#39;</span><span class="p">:</span>    <span class="mf">1.0</span><span class="p">,</span>
         <span class="s1">&#39;eta&#39;</span><span class="p">:</span>      <span class="mf">0.0</span><span class="p">,</span> <span class="c1"># used for log-scaling during optimization</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="c1"># prior_parent_age</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>     <span class="s1">&#39;prior_parent_age&#39;</span><span class="p">,</span>
         <span class="s1">&#39;density&#39;</span><span class="p">:</span>  <span class="s1">&#39;log_gaussian&#39;</span><span class="p">,</span>
         <span class="s1">&#39;mean&#39;</span><span class="p">:</span>     <span class="mf">0.0</span><span class="p">,</span>
         <span class="s1">&#39;std&#39;</span><span class="p">:</span>      <span class="n">parent_age_grid</span><span class="p">[</span><span class="s1">&#39;std&#39;</span><span class="p">],</span>
         <span class="s1">&#39;eta&#39;</span><span class="p">:</span>      <span class="mf">1e-5</span><span class="p">,</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="c1"># prior_parent_time</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>     <span class="s1">&#39;prior_parent_time&#39;</span><span class="p">,</span>
         <span class="s1">&#39;density&#39;</span><span class="p">:</span>  <span class="s1">&#39;log_gaussian&#39;</span><span class="p">,</span>
         <span class="s1">&#39;mean&#39;</span><span class="p">:</span>     <span class="mf">0.0</span><span class="p">,</span>
         <span class="s1">&#39;std&#39;</span><span class="p">:</span>      <span class="n">parent_time_grid</span><span class="p">[</span><span class="s1">&#39;std&#39;</span><span class="p">],</span>
         <span class="s1">&#39;eta&#39;</span><span class="p">:</span>      <span class="mf">1e-5</span><span class="p">,</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="c1"># prior_child_age</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>     <span class="s1">&#39;prior_child_age&#39;</span><span class="p">,</span>
         <span class="s1">&#39;density&#39;</span><span class="p">:</span>  <span class="s1">&#39;gaussian&#39;</span><span class="p">,</span>
         <span class="s1">&#39;mean&#39;</span><span class="p">:</span>     <span class="mf">0.0</span><span class="p">,</span>
         <span class="s1">&#39;std&#39;</span><span class="p">:</span>      <span class="n">child_age_grid</span><span class="p">[</span><span class="s1">&#39;std&#39;</span><span class="p">],</span>
         <span class="s1">&#39;eta&#39;</span><span class="p">:</span>      <span class="mf">1e-5</span><span class="p">,</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="c1"># prior_child_time</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>     <span class="s1">&#39;prior_child_time&#39;</span><span class="p">,</span>
         <span class="s1">&#39;density&#39;</span><span class="p">:</span>  <span class="s1">&#39;gaussian&#39;</span><span class="p">,</span>
         <span class="s1">&#39;mean&#39;</span><span class="p">:</span>     <span class="mf">0.0</span><span class="p">,</span>
         <span class="s1">&#39;std&#39;</span><span class="p">:</span>      <span class="n">child_time_grid</span><span class="p">[</span><span class="s1">&#39;std&#39;</span><span class="p">],</span>
         <span class="s1">&#39;eta&#39;</span><span class="p">:</span>      <span class="mf">1e-5</span><span class="p">,</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="c1"># prior_sex</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>     <span class="s1">&#39;prior_sex&#39;</span><span class="p">,</span>
         <span class="s1">&#39;density&#39;</span><span class="p">:</span>  <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
         <span class="s1">&#39;mean&#39;</span><span class="p">:</span>     <span class="mf">0.0</span><span class="p">,</span>
         <span class="s1">&#39;lower&#39;</span><span class="p">:</span>    <span class="o">-</span><span class="mf">2.0</span><span class="p">,</span>
         <span class="s1">&#39;upper&#39;</span><span class="p">:</span>    <span class="o">+</span><span class="mf">2.0</span><span class="p">,</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="c1"># prior_bmi</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>     <span class="s1">&#39;prior_bmi&#39;</span><span class="p">,</span>
         <span class="s1">&#39;density&#39;</span><span class="p">:</span>  <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
         <span class="s1">&#39;mean&#39;</span><span class="p">:</span>     <span class="mf">0.0</span><span class="p">,</span>
         <span class="s1">&#39;lower&#39;</span><span class="p">:</span>    <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span>
         <span class="s1">&#39;upper&#39;</span><span class="p">:</span>    <span class="o">+</span><span class="mf">0.1</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="c1"># prior_ms_2000</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>     <span class="s1">&#39;prior_ms_2000&#39;</span><span class="p">,</span>
         <span class="s1">&#39;density&#39;</span><span class="p">:</span>  <span class="s1">&#39;uniform&#39;</span><span class="p">,</span>
         <span class="s1">&#39;mean&#39;</span><span class="p">:</span>     <span class="mf">0.0</span><span class="p">,</span>
         <span class="s1">&#39;lower&#39;</span><span class="p">:</span>    <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
         <span class="s1">&#39;upper&#39;</span><span class="p">:</span>    <span class="o">+</span><span class="mf">1.0</span><span class="p">,</span>
         <span class="s1">&#39;mean&#39;</span><span class="p">:</span>     <span class="mf">0.0</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">]</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="c1"># smooth table and nslist_dict</span>
   <span class="n">smooth_table</span>   <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="n">nslist_dict</span>   <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
   <span class="c1">#</span>
   <span class="c1"># smooth_mulcov</span>
   <span class="k">for</span> <span class="n">cov</span> <span class="ow">in</span> <span class="p">[</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;bmi&#39;</span><span class="p">,</span> <span class="s1">&#39;ms_2000&#39;</span> <span class="p">]</span> <span class="p">:</span>
      <span class="n">smooth_table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">{</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>     <span class="s1">&#39;smooth_mulcov_&#39;</span> <span class="o">+</span> <span class="n">cov</span><span class="p">,</span>
         <span class="s1">&#39;age_id&#39;</span><span class="p">:</span>   <span class="p">[</span><span class="mi">0</span><span class="p">],</span>
         <span class="s1">&#39;time_id&#39;</span><span class="p">:</span>  <span class="p">[</span><span class="mi">0</span><span class="p">],</span>
         <span class="s1">&#39;fun&#39;</span><span class="p">:</span>      <span class="n">fun</span><span class="p">[</span><span class="s1">&#39;mulcov_&#39;</span> <span class="o">+</span> <span class="n">cov</span><span class="p">]</span>
      <span class="p">}</span> <span class="p">)</span>
   <span class="k">for</span> <span class="n">rate</span> <span class="ow">in</span> <span class="p">[</span> <span class="s1">&#39;pini&#39;</span><span class="p">,</span> <span class="s1">&#39;iota&#39;</span><span class="p">,</span> <span class="s1">&#39;chi&#39;</span> <span class="p">]</span> <span class="p">:</span>
      <span class="n">age_index</span> <span class="o">=</span> <span class="n">age_index_rate_parent</span>
      <span class="k">if</span> <span class="n">rate</span> <span class="o">==</span> <span class="s1">&#39;pini&#39;</span> <span class="p">:</span>
         <span class="n">age_index</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
      <span class="c1">#</span>
      <span class="c1"># smooth_rate_parent</span>
      <span class="n">name</span> <span class="o">=</span> <span class="n">rate</span> <span class="o">+</span> <span class="s1">&#39;_parent&#39;</span>
      <span class="n">smooth_table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">{</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>        <span class="s1">&#39;smooth_&#39;</span> <span class="o">+</span> <span class="n">name</span>        <span class="p">,</span>
         <span class="s1">&#39;age_id&#39;</span><span class="p">:</span>       <span class="n">age_index</span>              <span class="p">,</span>
         <span class="s1">&#39;time_id&#39;</span><span class="p">:</span>      <span class="n">time_index_rate_parent</span> <span class="p">,</span>
         <span class="s1">&#39;fun&#39;</span><span class="p">:</span>          <span class="n">fun</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
      <span class="p">}</span> <span class="p">)</span>
      <span class="c1">#</span>
      <span class="n">age_index</span> <span class="o">=</span> <span class="n">age_index_rate_child</span>
      <span class="k">if</span> <span class="n">rate</span> <span class="o">==</span> <span class="s1">&#39;pini&#39;</span> <span class="p">:</span>
         <span class="n">age_index</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
      <span class="c1">#</span>
      <span class="c1"># smooth_rate_child</span>
      <span class="n">name</span> <span class="o">=</span> <span class="n">rate</span> <span class="o">+</span> <span class="s1">&#39;_child&#39;</span>
      <span class="n">smooth_table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">{</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>        <span class="s1">&#39;smooth_&#39;</span> <span class="o">+</span> <span class="n">name</span>       <span class="p">,</span>
         <span class="s1">&#39;age_id&#39;</span><span class="p">:</span>       <span class="n">age_index</span>             <span class="p">,</span>
         <span class="s1">&#39;time_id&#39;</span><span class="p">:</span>      <span class="n">time_index_rate_child</span> <span class="p">,</span>
         <span class="s1">&#39;fun&#39;</span><span class="p">:</span>          <span class="n">fun</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
      <span class="p">}</span> <span class="p">)</span>
   <span class="c1">#</span>
   <span class="n">nslist_dict</span><span class="p">[</span><span class="s1">&#39;nslist_omega_child&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">node_list</span> <span class="p">:</span>
      <span class="n">name</span>                 <span class="o">=</span> <span class="s1">&#39;smooth_omega_&#39;</span> <span class="o">+</span> <span class="n">node</span>
      <span class="n">smoothing</span>            <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">name</span> <span class="p">}</span>
      <span class="n">smoothing</span><span class="p">[</span><span class="s1">&#39;age_id&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">age_index_rate_parent</span>
      <span class="n">smoothing</span><span class="p">[</span><span class="s1">&#39;time_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">time_index_rate_parent</span>
      <span class="n">smoothing</span><span class="p">[</span><span class="s1">&#39;fun&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">fun_omega</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
      <span class="n">smooth_table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">smoothing</span> <span class="p">)</span>
      <span class="c1">#</span>
      <span class="k">if</span> <span class="n">node</span> <span class="o">!=</span> <span class="n">parent_node</span> <span class="p">:</span>
         <span class="n">nslist_dict</span><span class="p">[</span><span class="s1">&#39;nslist_omega_child&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span> <span class="p">)</span>
   <span class="c1">#</span>
   <span class="c1"># no standard deviation multipliers</span>
   <span class="k">for</span> <span class="n">dictionary</span> <span class="ow">in</span> <span class="n">smooth_table</span> <span class="p">:</span>
      <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">[</span> <span class="s1">&#39;value&#39;</span> <span class="p">,</span> <span class="s1">&#39;dage&#39;</span><span class="p">,</span> <span class="s1">&#39;dtime&#39;</span> <span class="p">]</span> <span class="p">:</span>
         <span class="n">key</span>   <span class="o">=</span> <span class="s1">&#39;mulstd_&#39;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;_prior_name&#39;</span>
         <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
         <span class="n">dictionary</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
   <span class="c1"># -----------------------------------------------------------------------</span>
   <span class="c1"># covariate table:</span>
   <span class="n">covariate_table</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span>     <span class="s1">&#39;reference&#39;</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span>  <span class="s1">&#39;max_difference&#39;</span><span class="p">:</span><span class="mf">0.6</span>  <span class="p">}</span> <span class="p">,</span>
      <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;bmi&#39;</span><span class="p">,</span>     <span class="s1">&#39;reference&#39;</span><span class="p">:</span><span class="mf">27.0</span><span class="p">,</span> <span class="s1">&#39;max_difference&#39;</span><span class="p">:</span><span class="kc">None</span> <span class="p">}</span> <span class="p">,</span>
      <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;ms_2000&#39;</span><span class="p">,</span> <span class="s1">&#39;reference&#39;</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span>  <span class="s1">&#39;max_difference&#39;</span><span class="p">:</span><span class="kc">None</span> <span class="p">}</span> <span class="p">,</span>
   <span class="p">]</span>
   <span class="c1">#</span>
   <span class="c1"># mulcov table:</span>
   <span class="n">mulcov_table</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">{</span>
         <span class="c1"># alpha for iota and sex</span>
         <span class="s1">&#39;covariate&#39;</span><span class="p">:</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span>
         <span class="s1">&#39;type&#39;</span><span class="p">:</span>      <span class="s1">&#39;rate_value&#39;</span><span class="p">,</span>
         <span class="s1">&#39;effected&#39;</span><span class="p">:</span>  <span class="s1">&#39;iota&#39;</span><span class="p">,</span>
         <span class="s1">&#39;group&#39;</span><span class="p">:</span>     <span class="s1">&#39;world&#39;</span><span class="p">,</span>
         <span class="s1">&#39;smooth&#39;</span><span class="p">:</span>    <span class="s1">&#39;smooth_mulcov_sex&#39;</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="c1"># alpha for iota and bmi</span>
         <span class="s1">&#39;covariate&#39;</span><span class="p">:</span> <span class="s1">&#39;bmi&#39;</span><span class="p">,</span>
         <span class="s1">&#39;type&#39;</span><span class="p">:</span>      <span class="s1">&#39;rate_value&#39;</span><span class="p">,</span>
         <span class="s1">&#39;effected&#39;</span><span class="p">:</span>  <span class="s1">&#39;iota&#39;</span><span class="p">,</span>
         <span class="s1">&#39;group&#39;</span><span class="p">:</span>     <span class="s1">&#39;world&#39;</span><span class="p">,</span>
         <span class="s1">&#39;smooth&#39;</span><span class="p">:</span>    <span class="s1">&#39;smooth_mulcov_bmi&#39;</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="c1"># beta for prevalence and ms_2000</span>
         <span class="s1">&#39;covariate&#39;</span><span class="p">:</span> <span class="s1">&#39;ms_2000&#39;</span><span class="p">,</span>
         <span class="s1">&#39;type&#39;</span><span class="p">:</span>      <span class="s1">&#39;meas_value&#39;</span><span class="p">,</span>
         <span class="s1">&#39;effected&#39;</span><span class="p">:</span>  <span class="s1">&#39;prevalence&#39;</span><span class="p">,</span>
         <span class="s1">&#39;group&#39;</span><span class="p">:</span>     <span class="s1">&#39;world&#39;</span><span class="p">,</span>
         <span class="s1">&#39;smooth&#39;</span><span class="p">:</span>    <span class="s1">&#39;smooth_mulcov_ms_2000&#39;</span>
      <span class="p">}</span>
   <span class="p">]</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="c1"># rate table:</span>
   <span class="n">rate_table</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">{</span>  <span class="s1">&#39;name&#39;</span><span class="p">:</span>          <span class="s1">&#39;pini&#39;</span><span class="p">,</span>
         <span class="s1">&#39;parent_smooth&#39;</span><span class="p">:</span> <span class="s1">&#39;smooth_pini_parent&#39;</span><span class="p">,</span>
         <span class="s1">&#39;child_smooth&#39;</span><span class="p">:</span>  <span class="s1">&#39;smooth_pini_child&#39;</span><span class="p">,</span>
         <span class="s1">&#39;child_nslist&#39;</span><span class="p">:</span>  <span class="kc">None</span><span class="p">,</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>          <span class="s1">&#39;iota&#39;</span><span class="p">,</span>
         <span class="s1">&#39;parent_smooth&#39;</span><span class="p">:</span> <span class="s1">&#39;smooth_iota_parent&#39;</span><span class="p">,</span>
         <span class="s1">&#39;child_smooth&#39;</span><span class="p">:</span>  <span class="s1">&#39;smooth_iota_child&#39;</span><span class="p">,</span>
         <span class="s1">&#39;child_nslist&#39;</span><span class="p">:</span>  <span class="kc">None</span><span class="p">,</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>          <span class="s1">&#39;rho&#39;</span><span class="p">,</span>
         <span class="s1">&#39;parent_smooth&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
         <span class="s1">&#39;child_smooth&#39;</span><span class="p">:</span>  <span class="kc">None</span><span class="p">,</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>          <span class="s1">&#39;chi&#39;</span><span class="p">,</span>
         <span class="s1">&#39;parent_smooth&#39;</span><span class="p">:</span> <span class="s1">&#39;smooth_chi_parent&#39;</span><span class="p">,</span>
         <span class="s1">&#39;child_smooth&#39;</span><span class="p">:</span>  <span class="s1">&#39;smooth_chi_child&#39;</span><span class="p">,</span>
         <span class="s1">&#39;child_nslist&#39;</span><span class="p">:</span>  <span class="kc">None</span><span class="p">,</span>
      <span class="p">}</span> <span class="p">,</span> <span class="p">{</span>
         <span class="s1">&#39;name&#39;</span><span class="p">:</span>          <span class="s1">&#39;omega&#39;</span><span class="p">,</span>
         <span class="s1">&#39;parent_smooth&#39;</span><span class="p">:</span> <span class="s1">&#39;smooth_omega_&#39;</span> <span class="o">+</span> <span class="n">parent_node</span><span class="p">,</span>
         <span class="s1">&#39;child_smooth&#39;</span><span class="p">:</span>  <span class="kc">None</span><span class="p">,</span>
         <span class="s1">&#39;child_nslist&#39;</span><span class="p">:</span>  <span class="s1">&#39;nslist_omega_child&#39;</span><span class="p">,</span>
      <span class="p">}</span>
   <span class="p">]</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="c1"># data table, avgint_table:</span>
   <span class="n">data_table</span>   <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="n">avgint_table</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="c1">#</span>
   <span class="c1"># for each integrand, age, time, node</span>
   <span class="n">n_integrand</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">integrand_table</span><span class="p">)</span>
   <span class="n">n_age</span>       <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">age_list</span><span class="p">)</span>
   <span class="n">n_time</span>      <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">time_list</span><span class="p">)</span>
   <span class="n">n_node</span>      <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">node_table</span><span class="p">)</span>
   <span class="k">for</span> <span class="n">k1</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_integrand</span> <span class="o">*</span> <span class="n">n_age</span> <span class="o">*</span> <span class="n">n_time</span> <span class="o">*</span> <span class="n">n_node</span> <span class="o">*</span> <span class="n">meas_repeat</span><span class="p">)</span> <span class="p">:</span>
      <span class="n">den</span>         <span class="o">=</span> <span class="n">n_age</span> <span class="o">*</span> <span class="n">n_time</span> <span class="o">*</span> <span class="n">n_node</span> <span class="o">*</span> <span class="n">meas_repeat</span>
      <span class="n">i_integrand</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="n">k1</span> <span class="o">/</span> <span class="n">den</span> <span class="p">)</span>
      <span class="n">k2</span>          <span class="o">=</span>      <span class="n">k1</span> <span class="o">%</span> <span class="n">den</span>
      <span class="c1">#</span>
      <span class="n">den</span>         <span class="o">=</span> <span class="n">n_time</span> <span class="o">*</span> <span class="n">n_node</span> <span class="o">*</span> <span class="n">meas_repeat</span>
      <span class="n">i_age</span>       <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="n">k2</span> <span class="o">/</span> <span class="n">den</span> <span class="p">)</span>
      <span class="n">k3</span>          <span class="o">=</span>      <span class="n">k2</span> <span class="o">%</span> <span class="n">den</span>
      <span class="c1">#</span>
      <span class="n">den</span>         <span class="o">=</span> <span class="n">n_node</span> <span class="o">*</span> <span class="n">meas_repeat</span>
      <span class="n">i_time</span>      <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="n">k3</span> <span class="o">/</span> <span class="n">den</span> <span class="p">)</span>
      <span class="n">k4</span>          <span class="o">=</span>      <span class="n">k3</span> <span class="o">%</span> <span class="n">den</span>
      <span class="c1">#</span>
      <span class="n">den</span>         <span class="o">=</span> <span class="n">meas_repeat</span>
      <span class="n">i_node</span>      <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="n">k4</span> <span class="o">/</span> <span class="n">den</span> <span class="p">)</span>
      <span class="c1">#</span>
      <span class="n">age</span>         <span class="o">=</span> <span class="n">age_list</span><span class="p">[</span><span class="n">i_age</span><span class="p">]</span>
      <span class="n">time</span>        <span class="o">=</span> <span class="n">time_list</span><span class="p">[</span><span class="n">i_time</span><span class="p">]</span>
      <span class="n">integrand</span>   <span class="o">=</span> <span class="n">integrand_table</span><span class="p">[</span><span class="n">i_integrand</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
      <span class="n">node</span>        <span class="o">=</span> <span class="n">node_table</span><span class="p">[</span><span class="n">i_node</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
      <span class="c1">#</span>
      <span class="c1"># sex</span>
      <span class="k">if</span> <span class="n">k1</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">:</span>
         <span class="n">sex</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5</span>
      <span class="k">else</span> <span class="p">:</span>
         <span class="n">sex</span> <span class="o">=</span> <span class="o">+</span><span class="mf">0.5</span>
      <span class="c1">#</span>
      <span class="c1"># market scan</span>
      <span class="k">if</span> <span class="n">k1</span> <span class="o">%</span> <span class="mi">6</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="p">:</span>
         <span class="n">ms_2000</span> <span class="o">=</span> <span class="mf">1.0</span>
      <span class="k">else</span> <span class="p">:</span>
         <span class="n">ms_2000</span> <span class="o">=</span> <span class="mf">0.0</span>
      <span class="c1">#</span>
      <span class="c1"># body mass index</span>
      <span class="n">bmi</span> <span class="o">=</span> <span class="mi">20</span> <span class="o">+</span> <span class="n">k1</span> <span class="o">%</span> <span class="mi">17</span>
      <span class="c1">#</span>
      <span class="n">row</span> <span class="o">=</span> <span class="p">{</span>
         <span class="s1">&#39;node&#39;</span><span class="p">:</span>        <span class="n">node</span><span class="p">,</span>
         <span class="s1">&#39;subgroup&#39;</span><span class="p">:</span>    <span class="s1">&#39;world&#39;</span><span class="p">,</span>
         <span class="s1">&#39;integrand&#39;</span><span class="p">:</span>   <span class="n">integrand</span><span class="p">,</span>
         <span class="s1">&#39;density&#39;</span><span class="p">:</span>     <span class="s1">&#39;log_gaussian&#39;</span><span class="p">,</span>
         <span class="s1">&#39;weight&#39;</span><span class="p">:</span>      <span class="s1">&#39;&#39;</span><span class="p">,</span>
         <span class="s1">&#39;age_lower&#39;</span><span class="p">:</span>    <span class="n">age</span><span class="p">,</span>
         <span class="s1">&#39;age_upper&#39;</span><span class="p">:</span>    <span class="n">age</span><span class="p">,</span>
         <span class="s1">&#39;time_lower&#39;</span><span class="p">:</span>   <span class="n">time</span><span class="p">,</span>
         <span class="s1">&#39;time_upper&#39;</span><span class="p">:</span>   <span class="n">time</span><span class="p">,</span>
         <span class="s1">&#39;sex&#39;</span><span class="p">:</span>          <span class="n">sex</span><span class="p">,</span>
         <span class="s1">&#39;ms_2000&#39;</span><span class="p">:</span>      <span class="n">ms_2000</span><span class="p">,</span>
         <span class="s1">&#39;bmi&#39;</span><span class="p">:</span>          <span class="n">bmi</span><span class="p">,</span>
         <span class="s1">&#39;one&#39;</span><span class="p">:</span>          <span class="mi">1</span><span class="p">,</span>
      <span class="p">}</span>
      <span class="n">avgint_table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="p">)</span>
      <span class="c1">#</span>
      <span class="k">if</span> <span class="n">i_age</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">i_time</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span>
         <span class="n">age</span>  <span class="o">=</span> <span class="p">(</span><span class="n">age_list</span><span class="p">[</span><span class="n">i_age</span><span class="p">]</span>   <span class="o">+</span> <span class="n">age_list</span><span class="p">[</span><span class="n">i_age</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>   <span class="o">/</span> <span class="mf">2.0</span>
         <span class="n">time</span> <span class="o">=</span> <span class="p">(</span><span class="n">time_list</span><span class="p">[</span><span class="n">i_time</span><span class="p">]</span> <span class="o">+</span> <span class="n">time_list</span><span class="p">[</span><span class="n">i_time</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mf">2.0</span>
      <span class="n">row</span> <span class="o">=</span> <span class="p">{</span>
         <span class="s1">&#39;node&#39;</span><span class="p">:</span>        <span class="n">node</span><span class="p">,</span>
         <span class="s1">&#39;subgroup&#39;</span><span class="p">:</span>    <span class="s1">&#39;world&#39;</span><span class="p">,</span>
         <span class="s1">&#39;integrand&#39;</span><span class="p">:</span>   <span class="n">integrand</span><span class="p">,</span>
         <span class="s1">&#39;density&#39;</span><span class="p">:</span>     <span class="s1">&#39;log_gaussian&#39;</span><span class="p">,</span>
         <span class="s1">&#39;weight&#39;</span><span class="p">:</span>      <span class="s1">&#39;&#39;</span><span class="p">,</span>
         <span class="s1">&#39;age_lower&#39;</span><span class="p">:</span>    <span class="n">age</span><span class="p">,</span>
         <span class="s1">&#39;age_upper&#39;</span><span class="p">:</span>    <span class="n">age</span><span class="p">,</span>
         <span class="s1">&#39;time_lower&#39;</span><span class="p">:</span>   <span class="n">time</span><span class="p">,</span>
         <span class="s1">&#39;time_upper&#39;</span><span class="p">:</span>   <span class="n">time</span><span class="p">,</span>
         <span class="s1">&#39;sex&#39;</span><span class="p">:</span>          <span class="n">sex</span><span class="p">,</span>
         <span class="s1">&#39;ms_2000&#39;</span><span class="p">:</span>      <span class="n">ms_2000</span><span class="p">,</span>
         <span class="s1">&#39;bmi&#39;</span><span class="p">:</span>          <span class="n">bmi</span><span class="p">,</span>
         <span class="s1">&#39;one&#39;</span><span class="p">:</span>          <span class="mi">1</span><span class="p">,</span>
      <span class="p">}</span>
      <span class="n">avgint_table</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="p">)</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="c1"># option_table</span>
   <span class="n">option_table</span> <span class="o">=</span> <span class="p">[</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;rate_case&#39;</span><span class="p">,</span>              <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="s1">&#39;iota_pos_rho_zero&#39;</span>    <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;parent_node_name&#39;</span><span class="p">,</span>       <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="n">parent_node</span>            <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;ode_step_size&#39;</span><span class="p">,</span>          <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="n">ode_step_size</span>          <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;random_seed&#39;</span><span class="p">,</span>            <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="n">random_seed</span>            <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;bound_random&#39;</span><span class="p">,</span>           <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="s1">&#39;1.0&#39;</span>                  <span class="p">},</span>

      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;quasi_fixed&#39;</span><span class="p">,</span>            <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="n">quasi_fixed</span>            <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;max_num_iter_fixed&#39;</span><span class="p">,</span>     <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="s1">&#39;300&#39;</span>                  <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;print_level_fixed&#39;</span><span class="p">,</span>      <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="s1">&#39;5&#39;</span>                    <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;tolerance_fixed&#39;</span><span class="p">,</span>        <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="n">tolerance_fixed</span>        <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;derivative_test_fixed&#39;</span><span class="p">,</span>  <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="n">derivative_test_fixed</span>  <span class="p">},</span>

      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;max_num_iter_random&#39;</span><span class="p">,</span>    <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="s1">&#39;50&#39;</span>                   <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;print_level_random&#39;</span><span class="p">,</span>     <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="s1">&#39;0&#39;</span>                    <span class="p">},</span>
      <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;tolerance_random&#39;</span><span class="p">,</span>       <span class="s1">&#39;value&#39;</span><span class="p">:</span><span class="s1">&#39;1e-8&#39;</span>                 <span class="p">}</span>
   <span class="p">]</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="c1"># subgroup_table</span>
   <span class="n">subgroup_table</span> <span class="o">=</span> <span class="p">[</span> <span class="p">{</span> <span class="s1">&#39;subgroup&#39;</span><span class="p">:</span><span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span><span class="p">:</span><span class="s1">&#39;world&#39;</span> <span class="p">}</span> <span class="p">]</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="c1"># create database</span>
   <span class="n">dismod_at</span><span class="o">.</span><span class="n">create_database</span><span class="p">(</span>
      <span class="n">file_name</span><span class="p">,</span>
      <span class="n">age_list</span><span class="p">,</span>
      <span class="n">time_list</span><span class="p">,</span>
      <span class="n">integrand_table</span><span class="p">,</span>
      <span class="n">node_table</span><span class="p">,</span>
      <span class="n">subgroup_table</span><span class="p">,</span>
      <span class="n">weight_table</span><span class="p">,</span>
      <span class="n">covariate_table</span><span class="p">,</span>
      <span class="n">avgint_table</span><span class="p">,</span>
      <span class="n">data_table</span><span class="p">,</span>
      <span class="n">prior_table</span><span class="p">,</span>
      <span class="n">smooth_table</span><span class="p">,</span>
      <span class="n">nslist_dict</span><span class="p">,</span>
      <span class="n">rate_table</span><span class="p">,</span>
      <span class="n">mulcov_table</span><span class="p">,</span>
      <span class="n">option_table</span>
   <span class="p">)</span>
   <span class="c1"># ----------------------------------------------------------------------</span>
   <span class="k">return</span>
<span class="c1"># -----------------------------------------------------------------------</span>
<span class="k">def</span> <span class="nf">create_truth_var_table</span><span class="p">()</span> <span class="p">:</span>
   <span class="n">new</span>             <span class="o">=</span> <span class="kc">False</span>
   <span class="n">connection</span>      <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">create_connection</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">new</span><span class="p">)</span>
   <span class="n">var_table</span>       <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;var&#39;</span><span class="p">)</span>
   <span class="n">rate_table</span>      <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;rate&#39;</span><span class="p">)</span>
   <span class="n">covariate_table</span> <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;covariate&#39;</span><span class="p">)</span>
   <span class="n">integrand_table</span> <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;integrand&#39;</span><span class="p">)</span>
   <span class="n">node_table</span>      <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;node&#39;</span><span class="p">)</span>
   <span class="n">time_table</span>      <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">)</span>
   <span class="n">age_table</span>       <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">)</span>
   <span class="c1"># -------------------------------------------------------------------------</span>
   <span class="c1"># create truth table</span>
   <span class="n">tbl_name</span>     <span class="o">=</span> <span class="s1">&#39;truth_var&#39;</span>
   <span class="n">col_name</span>     <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;truth_var_value&#39;</span> <span class="p">]</span>
   <span class="n">col_type</span>     <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;real&#39;</span> <span class="p">]</span>
   <span class="n">row_list</span>     <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="k">for</span> <span class="n">var_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="nb">len</span><span class="p">(</span><span class="n">var_table</span><span class="p">)</span> <span class="p">)</span> <span class="p">:</span>
      <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
      <span class="c1">#</span>
      <span class="n">row</span>          <span class="o">=</span> <span class="n">var_table</span><span class="p">[</span><span class="n">var_id</span><span class="p">]</span>
      <span class="n">var_type</span>     <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;var_type&#39;</span><span class="p">]</span>
      <span class="n">age</span>          <span class="o">=</span> <span class="n">age_table</span><span class="p">[</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;age_id&#39;</span><span class="p">]</span> <span class="p">]</span> <span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span>
      <span class="n">time</span>         <span class="o">=</span> <span class="n">time_table</span><span class="p">[</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;time_id&#39;</span><span class="p">]</span> <span class="p">]</span> <span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span>
      <span class="k">if</span> <span class="n">var_type</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;mulcov_&#39;</span><span class="p">)</span> <span class="p">:</span>
         <span class="n">covariate</span> <span class="o">=</span> <span class="n">covariate_table</span><span class="p">[</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;covariate_id&#39;</span> <span class="p">]][</span><span class="s1">&#39;covariate_name&#39;</span><span class="p">]</span>
         <span class="n">value</span>     <span class="o">=</span> <span class="n">mulcov_dict</span><span class="p">[</span><span class="n">covariate</span><span class="p">]</span>
      <span class="k">elif</span> <span class="n">var_type</span> <span class="o">==</span> <span class="s1">&#39;rate&#39;</span> <span class="p">:</span>
         <span class="n">node</span>  <span class="o">=</span> <span class="n">node_table</span><span class="p">[</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;node_id&#39;</span><span class="p">]</span> <span class="p">]</span> <span class="p">[</span><span class="s1">&#39;node_name&#39;</span><span class="p">]</span>
         <span class="n">rate</span>  <span class="o">=</span> <span class="n">rate_table</span><span class="p">[</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;rate_id&#39;</span><span class="p">]</span> <span class="p">]</span> <span class="p">[</span><span class="s1">&#39;rate_name&#39;</span><span class="p">]</span>
         <span class="n">value</span> <span class="o">=</span> <span class="n">true_rate</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">rate</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>
      <span class="k">else</span> <span class="p">:</span>
         <span class="k">assert</span> <span class="kc">False</span>
      <span class="c1">#</span>
      <span class="n">row_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">[</span> <span class="n">value</span> <span class="p">]</span> <span class="p">)</span>
   <span class="n">dismod_at</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">tbl_name</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">col_type</span><span class="p">,</span> <span class="n">row_list</span><span class="p">)</span>
   <span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
   <span class="k">return</span>
<span class="c1"># ===========================================================================</span>
<span class="c1"># Run the init command to create the var table</span>
<span class="n">file_name</span> <span class="o">=</span> <span class="s1">&#39;example.db&#39;</span>
<span class="n">example_db</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
<span class="c1">#</span>
<span class="n">program</span> <span class="o">=</span> <span class="s1">&#39;../../devel/dismod_at&#39;</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">system_command_prc</span><span class="p">([</span> <span class="n">program</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;init&#39;</span> <span class="p">])</span>
<span class="c1"># -----------------------------------------------------------------------</span>
<span class="c1"># create truth_var table</span>
<span class="n">create_truth_var_table</span><span class="p">()</span>
<span class="c1"># -----------------------------------------------------------------------------</span>
<span class="c1"># create predict table</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">system_command_prc</span><span class="p">([</span> <span class="n">program</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;predict&#39;</span><span class="p">,</span> <span class="s1">&#39;truth_var&#39;</span> <span class="p">])</span>
<span class="c1"># -----------------------------------------------------------------------------</span>
<span class="c1"># add data to data table</span>
<span class="n">new</span>             <span class="o">=</span> <span class="kc">False</span>
<span class="n">connection</span>      <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">create_connection</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">new</span><span class="p">)</span>
<span class="n">predict_table</span>   <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;predict&#39;</span><span class="p">)</span>
<span class="n">avgint_table</span>    <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;avgint&#39;</span><span class="p">)</span>
<span class="n">density_table</span>   <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;density&#39;</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># get column names and types for data table</span>
<span class="n">tbl_name</span>             <span class="o">=</span> <span class="s1">&#39;data&#39;</span>
<span class="p">(</span><span class="n">col_name</span><span class="p">,</span> <span class="n">col_type</span><span class="p">)</span> <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_name_type</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">tbl_name</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># remove the primary key from col_name and col_type</span>
<span class="k">assert</span> <span class="n">col_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;data_id&#39;</span>
<span class="k">del</span> <span class="n">col_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">del</span> <span class="n">col_type</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="c1">#</span>
<span class="c1"># list of row values to place in data table</span>
<span class="n">row_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="c1">#</span>
<span class="c1"># density_id for log_gaussian</span>
<span class="n">log_gaussian_id</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">for</span> <span class="n">density_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="nb">len</span><span class="p">(</span> <span class="n">density_table</span> <span class="p">)</span> <span class="p">)</span> <span class="p">:</span>
   <span class="k">if</span> <span class="n">density_table</span><span class="p">[</span><span class="n">density_id</span><span class="p">][</span><span class="s1">&#39;density_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;log_gaussian&#39;</span> <span class="p">:</span>
      <span class="n">log_gaussian_id</span> <span class="o">=</span> <span class="n">density_id</span>
<span class="c1">#</span>
<span class="k">for</span> <span class="n">predict_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="nb">len</span><span class="p">(</span><span class="n">predict_table</span><span class="p">)</span> <span class="p">)</span> <span class="p">:</span>
   <span class="c1">#</span>
   <span class="c1"># get prediction for average integrand</span>
   <span class="n">row</span> <span class="o">=</span> <span class="n">predict_table</span><span class="p">[</span><span class="n">predict_id</span><span class="p">]</span>
   <span class="k">assert</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;sample_index&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span>
   <span class="k">assert</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;avgint_id&#39;</span><span class="p">]</span>    <span class="o">==</span> <span class="n">predict_id</span>
   <span class="n">avg_integrand</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;avg_integrand&#39;</span><span class="p">]</span>
   <span class="c1">#</span>
   <span class="c1"># initial row using information in avgint table</span>
   <span class="n">row</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span> <span class="n">avgint_table</span><span class="p">[</span><span class="n">predict_id</span><span class="p">]</span> <span class="p">)</span>
   <span class="c1">#</span>
   <span class="c1"># add information, that is not in avgint_table, to row</span>
   <span class="n">eta</span>        <span class="o">=</span> <span class="mf">1e-7</span>                     <span class="c1"># a very small eta</span>
   <span class="n">meas_value</span> <span class="o">=</span> <span class="n">avg_integrand</span>            <span class="c1"># no noise version of meas_value</span>
   <span class="n">meas_std</span>   <span class="o">=</span> <span class="n">meas_cv</span> <span class="o">*</span> <span class="n">avg_integrand</span> <span class="c1"># noise in simulated data</span>
   <span class="n">row</span><span class="p">[</span><span class="s1">&#39;density_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">log_gaussian_id</span>
   <span class="n">row</span><span class="p">[</span><span class="s1">&#39;hold_out&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="mi">0</span>
   <span class="n">row</span><span class="p">[</span><span class="s1">&#39;meas_std&#39;</span><span class="p">]</span>   <span class="o">=</span> <span class="n">meas_std</span>
   <span class="n">row</span><span class="p">[</span><span class="s1">&#39;meas_value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">meas_value</span>
   <span class="n">row</span><span class="p">[</span><span class="s1">&#39;eta&#39;</span><span class="p">]</span>        <span class="o">=</span> <span class="n">eta</span>
   <span class="n">row</span><span class="p">[</span><span class="s1">&#39;nu&#39;</span><span class="p">]</span>         <span class="o">=</span> <span class="kc">None</span>
   <span class="c1">#</span>
   <span class="c1"># values in same order as col_name</span>
   <span class="n">row_value</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
   <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">col_name</span> <span class="p">:</span>
      <span class="k">if</span> <span class="n">key</span> <span class="o">!=</span> <span class="s1">&#39;data_id&#39;</span> <span class="p">:</span>
         <span class="n">row_value</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">row</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="p">)</span>
   <span class="c1">#</span>
   <span class="n">row_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">row_value</span> <span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># drop the old data table</span>
<span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;DROP TABLE data&#39;</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">sql_command</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># create the new data table</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">tbl_name</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">col_type</span><span class="p">,</span> <span class="n">row_list</span> <span class="p">)</span>
<span class="c1"># -----------------------------------------------------------------------------</span>
<span class="c1"># re-initailize to get data_subset table to correspond to new data</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">system_command_prc</span><span class="p">([</span> <span class="n">program</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;init&#39;</span> <span class="p">])</span>
<span class="c1">#</span>
<span class="c1"># Initializing erases the truth_var table.</span>
<span class="c1"># Create a new version of truth_var table that will correspond to fit</span>
<span class="n">create_truth_var_table</span><span class="p">()</span>
<span class="c1">#</span>
<span class="c1"># drop the start_var table created by init</span>
<span class="n">new</span>             <span class="o">=</span> <span class="kc">False</span>
<span class="n">connection</span>      <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">create_connection</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">new</span><span class="p">)</span>
<span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;DROP TABLE start_var&#39;</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">sql_command</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">command</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># create new start_var table</span>
<span class="n">rate_table</span>      <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;rate&#39;</span><span class="p">)</span>
<span class="n">var_table</span>       <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;var&#39;</span><span class="p">)</span>
<span class="n">truth_var_table</span> <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;truth_var&#39;</span><span class="p">)</span>
<span class="n">tbl_name</span>        <span class="o">=</span> <span class="s1">&#39;start_var&#39;</span>
<span class="n">col_name</span>        <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;start_var_value&#39;</span> <span class="p">]</span>
<span class="n">col_type</span>        <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;real&#39;</span> <span class="p">]</span>
<span class="n">row_list</span>        <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
<span class="k">for</span> <span class="n">var_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="nb">len</span><span class="p">(</span><span class="n">var_table</span><span class="p">)</span> <span class="p">)</span> <span class="p">:</span>
   <span class="n">truth_var_value</span>  <span class="o">=</span> <span class="n">truth_var_table</span><span class="p">[</span><span class="n">var_id</span><span class="p">][</span><span class="s1">&#39;truth_var_value&#39;</span><span class="p">]</span>
   <span class="n">var_type</span>         <span class="o">=</span> <span class="n">var_table</span><span class="p">[</span><span class="n">var_id</span><span class="p">][</span><span class="s1">&#39;var_type&#39;</span><span class="p">]</span>
   <span class="n">rate_id</span>          <span class="o">=</span> <span class="n">var_table</span><span class="p">[</span><span class="n">var_id</span><span class="p">][</span><span class="s1">&#39;rate_id&#39;</span><span class="p">]</span>
   <span class="n">start_var_value</span>  <span class="o">=</span> <span class="n">truth2start</span> <span class="o">*</span> <span class="n">truth_var_value</span>
   <span class="k">if</span> <span class="n">var_type</span> <span class="o">==</span> <span class="s1">&#39;rate&#39;</span> <span class="p">:</span>
         <span class="k">if</span> <span class="n">rate_table</span><span class="p">[</span><span class="n">rate_id</span><span class="p">][</span><span class="s1">&#39;rate_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;omega&#39;</span> <span class="p">:</span>
            <span class="n">start_var_value</span>  <span class="o">=</span> <span class="n">truth_var_value</span>
   <span class="n">row_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">[</span><span class="n">start_var_value</span><span class="p">]</span> <span class="p">)</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">create_table</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">tbl_name</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">col_type</span><span class="p">,</span> <span class="n">row_list</span><span class="p">)</span>
<span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="c1">#</span>
<span class="c1"># copy start_var table to scale_var table</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">system_command_prc</span><span class="p">([</span> <span class="n">program</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;set&#39;</span> <span class="p">,</span> <span class="s1">&#39;scale_var&#39;</span><span class="p">,</span> <span class="s1">&#39;start_var&#39;</span> <span class="p">])</span>
<span class="c1">#</span>
<span class="c1"># Simulate a data set corresponding to the truth</span>
<span class="n">number_simulate</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">system_command_prc</span><span class="p">([</span> <span class="n">program</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;simulate&#39;</span><span class="p">,</span> <span class="n">number_simulate</span> <span class="p">])</span>
<span class="c1">#</span>
<span class="c1"># Do a fit with no random effects</span>
<span class="n">cmd</span>            <span class="o">=</span> <span class="p">[</span> <span class="n">program</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;fit&#39;</span><span class="p">,</span> <span class="s1">&#39;fixed&#39;</span> <span class="p">]</span>
<span class="k">if</span> <span class="n">fit_with_noise_in_data</span> <span class="p">:</span>
   <span class="n">simulate_index</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
   <span class="n">cmd</span> <span class="o">+=</span> <span class="p">[</span> <span class="n">simulate_index</span> <span class="p">]</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">system_command_prc</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="c1">#</span>
<span class="c1"># copy fit_var table to start_var table</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">system_command_prc</span><span class="p">([</span> <span class="n">program</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;set&#39;</span> <span class="p">,</span> <span class="s1">&#39;start_var&#39;</span><span class="p">,</span> <span class="s1">&#39;fit_var&#39;</span> <span class="p">])</span>
<span class="c1">#</span>
<span class="c1"># Do a fit with random effects</span>
<span class="n">cmd</span>            <span class="o">=</span> <span class="p">[</span> <span class="n">program</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;fit&#39;</span><span class="p">,</span> <span class="s1">&#39;both&#39;</span> <span class="p">]</span>
<span class="k">if</span> <span class="n">fit_with_noise_in_data</span> <span class="p">:</span>
   <span class="n">simulate_index</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
   <span class="n">cmd</span> <span class="o">+=</span> <span class="p">[</span> <span class="n">simulate_index</span> <span class="p">]</span>
<span class="n">dismod_at</span><span class="o">.</span><span class="n">system_command_prc</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="c1"># -----------------------------------------------------------------------------</span>
<span class="c1"># compare truth and fit</span>
<span class="n">file_name</span>      <span class="o">=</span> <span class="s1">&#39;example.db&#39;</span>
<span class="n">new</span>             <span class="o">=</span> <span class="kc">False</span>
<span class="n">connection</span>      <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">create_connection</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">new</span><span class="p">)</span>
<span class="n">var_table</span>       <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;var&#39;</span><span class="p">)</span>
<span class="n">truth_var_table</span> <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;truth_var&#39;</span><span class="p">)</span>
<span class="n">fit_var_table</span>   <span class="o">=</span> <span class="n">dismod_at</span><span class="o">.</span><span class="n">get_table_dict</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="s1">&#39;fit_var&#39;</span><span class="p">)</span>
<span class="n">ok</span>              <span class="o">=</span> <span class="kc">True</span>
<span class="n">max_err</span>         <span class="o">=</span> <span class="mf">0.0</span>
<span class="k">for</span> <span class="n">var_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span> <span class="nb">len</span><span class="p">(</span><span class="n">var_table</span><span class="p">)</span> <span class="p">)</span> <span class="p">:</span>
   <span class="n">truth_var_value</span> <span class="o">=</span> <span class="n">truth_var_table</span><span class="p">[</span><span class="n">var_id</span><span class="p">][</span><span class="s1">&#39;truth_var_value&#39;</span><span class="p">]</span>
   <span class="n">fit_var_value</span>   <span class="o">=</span> <span class="n">fit_var_table</span><span class="p">[</span><span class="n">var_id</span><span class="p">][</span><span class="s1">&#39;fit_var_value&#39;</span><span class="p">]</span>
   <span class="k">if</span> <span class="n">truth_var_value</span> <span class="o">!=</span> <span class="mf">0.0</span> <span class="p">:</span>
      <span class="n">rel_err</span> <span class="o">=</span> <span class="n">fit_var_value</span> <span class="o">/</span> <span class="n">truth_var_value</span> <span class="o">-</span> <span class="mf">1.0</span>
      <span class="n">flag</span>    <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span> <span class="n">rel_err</span> <span class="p">)</span> <span class="o">&lt;=</span> <span class="n">accept_rel_err</span>
      <span class="n">ok</span>     <span class="o">&amp;=</span> <span class="n">flag</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="n">flag</span> <span class="p">:</span>
         <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;var_id = &#39;</span><span class="p">,</span> <span class="n">var_id</span><span class="p">,</span> <span class="s1">&#39;, rel_err = &#39;</span><span class="p">,</span> <span class="n">rel_err</span><span class="p">)</span>
      <span class="n">max_err</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span> <span class="n">max_err</span><span class="p">,</span> <span class="nb">abs</span><span class="p">(</span><span class="n">rel_err</span><span class="p">)</span> <span class="p">)</span>
<span class="k">assert</span> <span class="n">ok</span>
<span class="c1"># -----------------------------------------------------------------------------</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;max_err = &#39;</span><span class="p">,</span> <span class="n">max_err</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;elapsed seconds = &#39;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_second</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;diabetes.py: OK&#39;</span><span class="p">)</span>
<span class="c1"># -----------------------------------------------------------------------------</span>
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="user_diff_constraint.py.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">user_diff_constraint.py</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="user_data_sim.py.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">user_data_sim.py</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">user_diabetes.py</a><ul>
<li><a class="reference internal" href="#an-example-speed-test-fitting-simulated-diabetes-data">An Example / Speed Test Fitting Simulated Diabetes Data</a><ul>
<li><a class="reference internal" href="#running-this-example">Running This example</a></li>
<li><a class="reference internal" href="#omega">omega</a></li>
<li><a class="reference internal" href="#rho">rho</a></li>
<li><a class="reference internal" href="#covariates">Covariates</a><ul>
<li><a class="reference internal" href="#covariate-table">Covariate Table</a></li>
<li><a class="reference internal" href="#data-table">Data Table</a></li>
<li><a class="reference internal" href="#multipliers">Multipliers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#truth-var-table">Truth Var Table</a><ul>
<li><a class="reference internal" href="#parent-rates">Parent Rates</a></li>
<li><a class="reference internal" href="#child-rate-effects">Child Rate Effects</a></li>
</ul>
</li>
<li><a class="reference internal" href="#predict-table">Predict Table</a></li>
<li><a class="reference internal" href="#problem-parameters">Problem Parameters</a><ul>
<li><a class="reference internal" href="#mulcov-dict">mulcov_dict</a></li>
<li><a class="reference internal" href="#node-list">node_list</a></li>
<li><a class="reference internal" href="#integrand-list">integrand_list</a></li>
<li><a class="reference internal" href="#parent-age-grid">parent_age_grid</a></li>
<li><a class="reference internal" href="#child-age-grid">child_age_grid</a></li>
<li><a class="reference internal" href="#parent-time-grid">parent_time_grid</a></li>
<li><a class="reference internal" href="#child-time-grid">child_time_grid</a></li>
<li><a class="reference internal" href="#ode-step-size">ode_step_size</a></li>
<li><a class="reference internal" href="#meas-cv">meas_cv</a></li>
<li><a class="reference internal" href="#meas-repeat">meas_repeat</a></li>
<li><a class="reference internal" href="#fit-with-noise-in-data">fit_with_noise_in_data</a></li>
<li><a class="reference internal" href="#random-seed">random_seed</a></li>
<li><a class="reference internal" href="#quasi-fixed">quasi_fixed</a></li>
<li><a class="reference internal" href="#tolerance-fixed">tolerance_fixed</a></li>
<li><a class="reference internal" href="#derivative-test-fixed">derivative_test_fixed</a></li>
<li><a class="reference internal" href="#truth2start">truth2start</a></li>
<li><a class="reference internal" href="#accept-rel-err">accept_rel_err</a></li>
</ul>
</li>
<li><a class="reference internal" href="#source-code">Source Code</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>