.. _user_zsum_child_rate.py-name:

!!!!!!!!!!!!!!!!!!!!!!!
user_zsum_child_rate.py
!!!!!!!!!!!!!!!!!!!!!!!

xrst input file: ``example/user/zsum_child_rate.py``

.. meta::
   :keywords: user_zsum_child_rate.py, constrain, sum, of, child, rate, effect, to, zero

.. index:: user_zsum_child_rate.py, constrain, sum, of, child, rate, effect, to, zero

.. _user_zsum_child_rate.py-title:

Constrain Sum of Child Rate Effect to Zero
##########################################

.. meta::
   :keywords: see, also

.. index:: see, also

.. _user_zsum_child_rate.py@See Also:

See Also
********
:ref:`user_zsum_mulcov_rate.py-name` ,
:ref:`user_zsum_mulcov_meas.py-name`

.. meta::
   :keywords: purpose

.. index:: purpose

.. _user_zsum_child_rate.py@Purpose:

Purpose
*******
This example demonstrates using
The :ref:`option_table@Zero Sum Constraints@zero_sum_child_rate`
to improve the speed and accuracy of estimation of the fixed effects.

.. meta::
   :keywords: problem, parameters

.. index:: problem, parameters

.. _user_zsum_child_rate.py@Problem Parameters:

Problem Parameters
******************

.. literalinclude:: ../../example/user/zsum_child_rate.py
   :lines: 83-87
   :language: py

.. meta::
   :keywords: data, simulation

.. index:: data, simulation

.. _user_zsum_child_rate.py@Data Simulation:

Data Simulation
***************

.. meta::
   :keywords: north_america

.. index:: north_america

.. _user_zsum_child_rate.py@Data Simulation@north_america:

north_america
=============
The true rates for the parent region ``north_america``
(used for simulating data) are the
*iota_parent* and *rho_parent* problem parameters.

.. meta::
   :keywords: canada

.. index:: canada

.. _user_zsum_child_rate.py@Data Simulation@canada:

canada
======
The true
:ref:`child rate effect<model_variables@Random Effects, u@Child Rate Effects>`
for ``canada`` is *rate_effect_child* .

.. meta::
   :keywords: united_states

.. index:: united_states

.. _user_zsum_child_rate.py@Data Simulation@united_states:

united_states
=============
The true child rate effect
for the ``united_states`` is ``-`` *rate_effect_child* .

.. meta::
   :keywords: mexico

.. index:: mexico

.. _user_zsum_child_rate.py@Data Simulation@mexico:

mexico
======
No data is included for mexico, hence it is automatically constrained to have
zero child rate random effects.

.. meta::
   :keywords: nodes

.. index:: nodes

.. _user_zsum_child_rate.py@Nodes:

Nodes
*****
There are just four nodes for this example,
The parent node, ``north_america`` , and the three child nodes
``united_states`` , ``canada`` and ``mexico`` .

.. meta::
   :keywords: model, variables

.. index:: model, variables

.. _user_zsum_child_rate.py@Model Variables:

Model Variables
***************
The non-zero :ref:`model_variables-name` for this example are
:ref:`rate_table@rate_name@iota` and *rho* .
Both the parent and child rates use a grid with one point in age
and two points in time. Thus there are six model variables for each rate,
two for the parent rates and four for the child rate effects.
The resulting rates will be constant
in age and constant in time except between the two time grid points
where it is linear with respect to time.

.. meta::
   :keywords: source, code

.. index:: source, code

.. _user_zsum_child_rate.py@Source Code:

Source Code
***********

.. literalinclude:: ../../example/user/zsum_child_rate.py
   :lines: 81-380
   :language: py
