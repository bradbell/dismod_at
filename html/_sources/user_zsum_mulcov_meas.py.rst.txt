.. _user_zsum_mulcov_meas.py-name:

!!!!!!!!!!!!!!!!!!!!!!!!
user_zsum_mulcov_meas.py
!!!!!!!!!!!!!!!!!!!!!!!!

xrst input file: ``example/user/zsum_mulcov_meas.py``

.. meta::
   :keywords: user_zsum_mulcov_meas.py, constrain, sum, of, subgroup, measurement, covariate, multipliers, to, zero

.. index:: user_zsum_mulcov_meas.py, constrain, sum, of, subgroup, measurement, covariate, multipliers, to, zero

.. _user_zsum_mulcov_meas.py-title:

Constrain Sum of Subgroup Measurement Covariate Multipliers to Zero
###################################################################

.. meta::
   :keywords: see, also

.. index:: see, also

.. _user_zsum_mulcov_meas.py@See Also:

See Also
********
:ref:`user_zsum_child_rate.py-name` ,
:ref:`user_zsum_mulcov_rate.py-name`

.. meta::
   :keywords: purpose

.. index:: purpose

.. _user_zsum_mulcov_meas.py@Purpose:

Purpose
*******
This example demonstrates using
The :ref:`option_table@Zero Sum Constraints@zero_sum_mulcov_group`
to improve the speed and accuracy of estimation of the fixed effects.

.. meta::
   :keywords: problem, parameters

.. index:: problem, parameters

.. _user_zsum_mulcov_meas.py@Problem Parameters:

Problem Parameters
******************

.. literalinclude:: ../../example/user/zsum_mulcov_meas.py
   :lines: 79-83
   :language: py

Note that the measurement coefficient of variation *measurement_cv*
is very small so that a small number of data points can be used.
You should be able to increase the coefficient of variation by a factor,
so long as you increase the number of data points by the factor squared.

.. meta::
   :keywords: data, simulation

.. index:: data, simulation

.. _user_zsum_mulcov_meas.py@Data Simulation:

Data Simulation
***************
The true rate for the parent region ``north_america`` ,
used for simulating data, are
*iota_parent* and *rho_parent* problem parameters.
The
:ref:`model_variables@Random Effects, u@Subgroup Covariate Multipliers`
for ``canada`` is *subgroup_mulcov*
and for the ``united_states`` is ``-`` *subgroup_mulcov* .
These multipliers effect the rates (not the measurements).

.. meta::
   :keywords: nodes

.. index:: nodes

.. _user_zsum_mulcov_meas.py@Nodes:

Nodes
*****
There are just three nodes for this example,
The parent node, ``north_america`` , and the two child nodes
``united_states`` and ``canada`` .
The child rate effects are constrained to be zero
to simplify the example.

.. meta::
   :keywords: model, variables

.. index:: model, variables

.. _user_zsum_mulcov_meas.py@Model Variables:

Model Variables
***************
The non-zero fixed effects for this example are
:ref:`rate_table@rate_name@iota` and *rho*
for the parent node ``north_america`` .
The non-zero random effects are the subgroup measurement covariate multipliers
for the ``united_states`` and ``canada`` .
The parent rates and subgroup covariate multipliers use a grid with
one point in age and two points in time. Thus there are six model variables
for each rate, two for the parent rates and four for the
covariate multipliers.
The resulting rates will be constant
in age and constant in time except between the two time grid points
where it is linear.

.. meta::
   :keywords: source, code

.. index:: source, code

.. _user_zsum_mulcov_meas.py@Source Code:

Source Code
***********

.. literalinclude:: ../../example/user/zsum_mulcov_meas.py
   :lines: 77-405
   :language: py
